{"ast":null,"code":"import _defineProperty from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _regeneratorRuntime from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\nvar _setup$name$props$mou;\n\nimport \"core-js/modules/es.array.splice.js\";\nimport useVuelidate from \"@vuelidate/core\";\nimport ListQuestion from '../../../../components/Questions/ListQuestion.vue';\nimport { required, minLength } from \"@vuelidate/validators\";\nimport { addQuestion } from '../../../../api/questions/addQuestion';\nimport generalInformationsServices from '../../../../api/generalInformationsServices';\nimport questionServices from '../../../../api/questionServices';\nexport default (_setup$name$props$mou = {\n  setup: function setup() {\n    return {\n      v$: useVuelidate()\n    };\n  },\n  name: 'Stage2',\n  props: [\"user_book_id\", \"pages\", \"stageStatus\"],\n  mounted: function mounted() {\n    this.stageStatus;\n    this.getInformations();\n    this.getQuestions();\n  },\n  components: {\n    ListQuestion: ListQuestion\n  }\n}, _defineProperty(_setup$name$props$mou, \"props\", {\n  book: {\n    type: [Object],\n    required: true\n  }\n}), _defineProperty(_setup$name$props$mou, \"validations\", function validations() {\n  return {\n    generalInfromationsform: {\n      general_question: {\n        required: required\n      },\n      summary: {\n        required: required\n      }\n    },\n    questionForm: {\n      question: {\n        required: required\n      },\n      starting_page: {\n        required: required\n      },\n      ending_page: {\n        required: required\n      },\n      quotes: {\n        required: required,\n        minLength: minLength(1),\n        $each: {\n          text: {\n            minLength: minLength(2)\n          }\n        }\n      }\n    }\n  };\n}), _defineProperty(_setup$name$props$mou, \"data\", function data() {\n  return {\n    questionForm: {\n      question: '',\n      pageStart: \"\",\n      pageEnd: \"\"\n    },\n    generalInfromationsform: {\n      general_question: '',\n      summary: '',\n      user_book_id: this.$route.params.id\n    },\n    generalInformations: [],\n    questions: []\n  };\n}), _defineProperty(_setup$name$props$mou, \"methods\", {\n  addField: function addField(value, fieldType) {\n    fieldType.push({\n      text: \"\"\n    });\n  },\n  removeField: function removeField(index, fieldType) {\n    fieldType.splice(index, 1);\n  },\n  submitGenralInformationsForm: function submitGenralInformationsForm() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.v$.$touch();\n\n              if (_this.v$.generalInfromationsform.$invalid) {\n                _context.next = 5;\n                break;\n              }\n\n              _context.next = 4;\n              return generalInformationsServices.addGeneralInformations(_this.generalInfromationsform);\n\n            case 4:\n              _this.general_informations = _context.sent;\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  submitQuestionForm: function submitQuestionForm() {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this2.v$.$touch();\n\n              if (_this2.v$.questionForm.$invalid) {\n                _context2.next = 6;\n                break;\n              }\n\n              _context2.next = 4;\n              return questionServices.addQuestion(_this2.questionForm, _this2.quotes, _this2.$route.params.id);\n\n            case 4:\n              res = _context2.sent;\n\n              if (!res.error) {\n                _this2.v$.$reset();\n              }\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  },\n  getInformations: function getInformations() {\n    var _this3 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      var data;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return generalInformationsServices.getGeneralInformations(_this3.user_book_id);\n\n            case 2:\n              data = _context3.sent;\n              _this3.generalInformations = data;\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }))();\n  },\n  getQuestions: function getQuestions() {\n    var _this4 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return questionServices.getQuestions(_this4.$route.params.id);\n\n            case 2:\n              _this4.questions = _context4.sent;\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }))();\n  }\n}), _setup$name$props$mou);","map":{"version":3,"mappings":"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","names":["useVuelidate","ListQuestion","required","minLength","addQuestion","generalInformationsServices","questionServices","setup","v$","name","props","mounted","stageStatus","getInformations","getQuestions","components","book","type","Object","generalInfromationsform","general_question","summary","questionForm","question","starting_page","ending_page","quotes","$each","text","pageStart","pageEnd","user_book_id","$route","params","id","generalInformations","questions","addField","value","fieldType","push","removeField","index","splice","submitGenralInformationsForm","$touch","$invalid","addGeneralInformations","general_informations","submitQuestionForm","res","error","$reset","getGeneralInformations","data"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\views\\SocailMain\\Profile\\ProfileElements\\Stage2.vue"],"sourcesContent":["<template>\n  <div v-if=\"stageStatus == 0\" class=\"row\">\n    <div class=\"col-md-2\">\n      <tab-nav :pills=\"true\" id=\"tab\" class=\"nav nav-pills basic-info-items list-inline d-block p-0 m-0\">\n        <tab-nav-items :active=\"true\" id=\"go-to-general-idea\" href=\"#general-idea\" ariaControls=\"general-idea\"\n          role=\"tab\" :ariaSelected=\"true\" title=\"ุชูุฎูุต ุงูููุฑุฉ ุงูุนุงูุฉ ูุงูุณุคุงู ุงูุนุงู\" />\n\n        <tab-nav-items :active=\"false\" id=\"go-to-questions\" href=\"#questions\" ariaControls=\"questions\" role=\"tab\"\n          :ariaSelected=\"true\" title=\"ุฃุณุฆูุฉ ูุนุฑููุฉ \" />\n      </tab-nav>\n\n    </div>\n\n    <div class=\"col-md-1\">\n    </div>\n    <div class=\"col-md-9\">\n      <div class=\"tab-content\">\n        <!-- START GENERAL IDEA -->\n        <tab-content-item :active=\"true\" id=\"general-idea\" aria-labelled-by=\"general-idea\">\n          <h4>ููู ุงูุชุจ ุงููุฎูุต ุงูุนุงูุ ูููู ุฃุญุฏุฏ ุงูุณุคุงู ุงูุนุงู </h4>\n          <hr>\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <p>\n                ููู ูุงุฏุฉ ููุฑูุกุฉ (ูุชุงุจ) ููุงู ุณุคุงููุง ุนุงููุง ูุณุนู ุงููุชุงุจ ูููุงุดูุ ูููู ูุชูุฑุน ุงููุชุงุจ ุนูู ุดูู ูุตูู ุฃุณุงุณูุฉ ููู\n                ุซู ูุจุงุญุซ ุฏุงุฎู ูู ูุตู. ุนูุฏ ุดุฑูุนู ูู ูุฑุงุกุฉ ุงููุชุงุจุ ุนููู ุงููุฑูุฑ ุนูู ููุฏูุฉ ุงููุคูู ููุญุงููุฉ ูุนุฑูุฉ (ุงูุณุคุงู\n                ุงูุนุงู) ุงูุฐู ูุณุนู ุงููุชุงุจ ููุฅุฌุงุจุฉ ุนูู.\n                <br />\n                ุฃูุซูุฉ ๐๐ป\n                <br />\n                ูุชุงุจ ุฃุบูู ุฑุฌู ูู ุจุงุจู = ูุฏูุฑ ุงูุณุคุงู ุงูุนุงู ุญูู ููููุฉ ุตูุงุนุฉ ุงูุซุฑูุฉ ุงููุงููุฉ ูููุฑุฏ โ\n                <br />\n                ูุชุงุจ ุณูููููุฌูุฉ ุงูุฌูุงููุฑ = ูุฏูุฑ ุงูุณุคุงู ุงูุนุงู ูู ุงููุชุงุจ ุญูู ูุฏุฑุฉ ุงููุณุคูู ุนูู ุงูุชุญูู ูู ุงูุฌูุงููุฑ ูุงูุดุนูุจ\n                ูู ุงููุงุญูุฉ ุงูุณููููุฌูุฉ โ\n                <br />\n\n                ููู ุฌุงูุจ ุขุฎุฑุ ููู ูุงุฏุฉ ููุฑูุกุฉ (ูุชุงุจ) ููุงู ุชูุฎูุต ุนุงู ููุฃููุงุฑ ุงูุนุงูุฉ ูุงููุญุงูุฑ ุงูุฃุณุงุณูุฉ ุงูุชู ูุฏูุฑ ุญูููุง\n                ุงููุชุงุจ. ููุฌุจ ุนูู ุงููุงุฑุฆ ุฃู ูุณุชุทูุน ุฏุงุฆููุง ุชูุฏูู ููุฎุต ูู ุงููุชุงุจุ ููุณุชุญุณู ุงุณุชุฎุฏุงู ุฃููุงุฑ ุงููุงุชุจ ูุงููุงุธู\n                ุจุงุบุชุถุงุจ ูุตูุงุนุฉ ุงูููุฎุตุ ูุง ุชูู ุจุฅุถุงูุฉ ุฃููุงุฑู ูุงุนุชูุงุฏุงุชู ุนูู ุงููุฎูุตุ ุณุชูุนู ุฐูู ุญูู ุชูุชุจ ุงูุฃุทุฑูุญุฉ ุญูู ุชูุฒุฌ\n                ููุฎุต ุงููุงุชุจ ูุน ุฃููุงุฑู ูุฅุณูุงุทุงุชู ุงูููุฑูุฉ ููุฎุฒููู ุงููุนุฑูู ูููุงุฑูุชู ูุน ุงููุชุงุจ.\n              </p>\n            </div>\n          </div>\n          <div v-if=\"general_informations\" class=\"d-flex align-items-center mt-3\">\n            <div class=\"post-text ml-3 w-100 row\">\n              <div class=\"row\">\n                <div class=\"w-100\">\n                  <p class=\"mb-0 text-primary\" v-if=\"general_informations.degree\">ุงูุชูููู || {{\n                  general_informations.degree }}</p>\n                  <div class=\"alert alert-success w-100\" v-if=\"general_informations.reviews\">\n                    {{ general_informations.reviews }}\n                  </div>\n                </div>\n\n                <div class=\"col-md-12 form-group\">\n                  <div class=\"col-md-12 form-group\">\n                    <h4 class=\"form-label\"> ุงูุชูุฎูุต ุงูุนุงู</h4>\n                    <p class=\"form-control-plaintext\">{{ general_informations.summary }}</p>\n                  </div>\n\n                </div>\n                <div class=\"col-md-12 form-group\">\n                  <div class=\"col-md-12 form-group\">\n                    <h4 class=\"form-label\"> ุงูุณุคุงู ุงูุนุงู </h4>\n                    <p class=\"form-control-plaintext\">{{ general_informations.general_question }}</p>\n                  </div>\n\n                </div>\n              </div>\n\n            </div>\n\n          </div>\n\n          <div v-else class=\"d-flex align-items-center mt-3\">\n            <form @submit.prevent=\"submitGenralInformationsForm\" class=\"post-text ml-3 w-100 row\">\n              <div class=\"form-group\">\n                <label class=\"form-label\" for=\"bookGeneralIdea\">ุงูููุฑุฉ ุงูุนุงูุฉ</label>\n                <textarea v-model=\"v$.generalInfromationsform.summary.$model\" rows=\"5\" placeholder=\"... ุงูุชุจ ููุฑุฉ ุนุงูุฉ\"\n                  class=\"rounded form-control\" id=\"bookGeneralIdea\"></textarea>\n                <small style=\"color:red;\" v-if=\"v$.generalInfromationsform.summary.$error\">ุงูุฑุฌุงุก ูู ุจุงุฏุฎุงู ููุฎุต\n                  ุงูููุงุจ</small>\n              </div>\n              <div class=\"form-group\">\n                <label class=\"form-label\" for=\"bookGeneralQuestion\">ุณุคุงู ุนุงู </label>\n                <textarea v-model=\"v$.generalInfromationsform.general_question.$model\" rows=\"5\"\n                  placeholder=\"... ุงูุชุจ ุณุคุงููุง ุนุงูุงู\" class=\"rounded form-control\" id=\"bookGeneralQuestion\"></textarea>\n                <small style=\"color:red;\" v-if=\"v$.generalInfromationsform.general_question.$error\">ุงูุฑุฌุงุก ูู ุจุงุฏุฎุงู\n                  ุงูุณุคุงู ุงูุนุงู</small>\n              </div>\n\n              <input type=\"submit\" value=\"ุฃุถุงูุฉ\" href=\"javascript:void(0);\" class=\"btn btn-primary d-block mt-3\" />\n            </form>\n\n          </div>\n\n\n        </tab-content-item>\n        <!-- END GENERAL IDEA -->\n\n        <!-- START QUESTIONS -->\n        <tab-content-item :active=\"false\" id=\"questions\" aria-labelled-by=\"questions\">\n          <h4>ููู ุงูุชุจ ุณุคุงููุง ูุนุฑููุง</h4>\n          <hr>\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <p>\n                ุจุนุฏ ุชุญุฏูุฏู ููุณุคุงู ุงูุนุงู ุงูุฐู ูุณุนู ุงููุงุชุจ ููุฅุฌุงุจุฉ ุนูู ูู ุฎูุงู ูุชุงุจูุ ูุฅูู ูุงุจุฏ ูุฏ ูุงุญุธุช ูุฌูุฏ ุฃุณุฆูุฉ ูุฑุนูุฉ\n                ุฏุงุฎู ูู ูุตู ูู ูุตูู ุงููุชุงุจ. ูุฐู ุงูุฃุณุฆูุฉ ูุฌูุจ ุนููุง ุงููุตู ุงููุญุฏุฏุ ูุญูู ุชุฌุชูุน ูุฐู ุงูุฃุณุฆูุฉ ุจุฃุฌูุจุชูุง ูุฅููุง\n                ุชููุฏู ููุฅุฌุงุจุฉ ุนูู ุงูุณุคุงู ุงูุนุงู ูุตูุงุนุฉ ุงููุฎูุต ุงูุนุงู ูููุชุงุจ.\n              </p>\n            </div>\n          </div>\n          <div v-if=\"(!( questions ) || questions.length < 12)\" class=\"d-flex align-items-center mt-3\">\n            <form @submit.prevent=\"submitQuestionForm\" class=\"post-text ml-3 w-100 row\">\n              <div class=\"form-group col-6\">\n                <select v-model=\"v$.questionForm.starting_page.$model\" class=\"form-select\" data-trigger\n                  name=\"choices-single-default\" id=\"choices-single-default\">\n                  <option value=\"\">ุงุฎุชุฑ ุตูุญุฉ ุงูุจุฏุงูุฉ</option>\n                  <option v-for=\"(i, index) in pages\" :key=\"index\" :value=\"i\">\n                    {{ i }}\n                  </option>\n                </select>\n                <small style=\"color:red;\" v-if=\"v$.questionForm.starting_page.$error\">ุงูุฑุฌุงุก ูู ุจุงุฏุฎุงู ุตูุญุฉ\n                  ุงูุจุฏุงูุฉ</small>\n              </div>\n              <div class=\"form-group col-6\">\n\n                <select class=\"form-select\" v-model=\"v$.questionForm.ending_page.$model\" data-trigger\n                  name=\"choices-single-default\" id=\"choices-single-default\">\n                  <option value=\"\">ุงุฎุชุฑ ุตูุญุฉ ุงูููุงูุฉ</option>\n                  <option v-for=\"(i, index) in pages\" :key=\"index\" :value=\"i\">\n                    {{ i }}\n                  </option>\n                </select>\n                <small style=\"color:red;\" v-if=\"v$.questionForm.ending_page.$error\">ุงูุฑุฌุงุก ูู ุจุงุฏุฎุงู ุตูุญุฉ\n                  ุงูููุงูุฉ</small>\n              </div>\n\n              <div class=\"form-group\">\n                <textarea rows=\"5\" placeholder=\"... ุงูุชุจ ุณุคุงููุง \" class=\"rounded form-control\" id=\"bookQuestion\"\n                  v-model=\"v$.questionForm.question.$model\"></textarea>\n                <small style=\"color:red;\" v-if=\"v$.questionForm.question.$error\">ุงูุฑุฌุงุก ูู ุจุงุฏุฎุงู ุงูุณุคุงู </small>\n              </div>\n              <div>\n                <h4>ููู ุฃุญุฏุฏ ุงูุงูุชุจุงุณุงุช</h4>\n                <hr>\n                <div class=\"col-12\">\n                  <p>\n                    ูุนุชุจุฑ ุงูุงูุชุจุงุณ ูู ุงููุญุณูุงุช ุงูููุธูุฉุ ููู ุญูุธู ููุฃููุงู ุงููุฃุซูุฑุฉ ุนู ุงูุดุฎุตูุงุช ุงููุนุฑููุฉ ูุฃููุงูููุ ูุฎูุงู\n                    ุงููุชุงุจ ุณุชุฌุฏ ุฃู ููุงู ุฌูู ูููุฉ ุฌุฏุง ุชูุฎุต ุฃููุงุฑูุง ุฃุณุงุณูุฉ ูู ุงููุชุงุจ. ูู ุจุชุญุฏูุฏ ุฃูู ุงูุงูุชุจุงุณุงุช ุฏุงุฎู ูุฐุง\n                    ุงููุชุงุจ ูุชููู ุจุญูุธูุง ููู ุชุณุงุนุฏู ุนูู ุฅุฌุงุจุฉ ุงูุฃุณุฆูุฉ ุงููุนุฑููุฉ ูุชุนููู ุนูู ุงูุงุณุชุดูุงุฏ ุจูุง ูุฅุซุจุงุช ูุฌูุฉ ูุธุฑ\n                    ุงููุงุชุจ </p>\n                </div>\n              </div>\n              <div class=\"form-group\">\n\n                <textarea rows=\"5\" placeholder=\"... ุงูุชุจ ุงูุชุจุงุณูุง \" v-for=\"(v,index) in questionForm.quotes\"\n                  :key=\"index\" class=\"rounded form-control mt-2\" id=\"bookQuote\" v-model=\"v.text\">\n                </textarea>\n                <small style=\"color:red;\" v-if=\"v$.questionForm.question.$error\">ุงูุฑุฌุงุก ูู ุจุงุฏุฎุงู ุงูุชุจุงุณ ูุงุญุฏ ุนูู ุงูุงูู\n                </small>\n                <hr>\n                <a class=\"btn btn-primary rounded-pill mb-3 me-1\" @click=\"addField(textarea, questionForm.quotes)\">\n                  ุงุถุงูุฉ ุงูุชุจุงุณ\n                </a>\n\n                <a class=\"btn btn-danger rounded-pill mb-3 me-1\" v-show=\"questionForm.quotes.length > 1\"\n                  @click=\"removeField(index, questionForm.quotes)\">\n                  ุญุฐู ุงูุชุจุงุณ\n                </a>\n\n\n              </div>\n              <input type=\"submit\" value=\"ุฃุถุงูุฉ\" href=\"javascript:void(0);\" class=\"btn btn-primary d-block mt-3\" />\n            </form>\n          </div>\n          <hr />\n          <!-- NEED REVIEW -->\n          <a href=\"javascript:void(0);\" @click=\"submitQuestionForm\" class=\"btn btn-primary d-block mt-3\">ุฅุถุงูุฉ</a>\n          <div v-for=\"question in questions\" :key=\"question.id\">\n            <ListQuestion :question=\"question\" />\n\n\n            <div v-for=\"(question,index) in questions\" :key=\"index\">\n              <ListQuestion :index=\"index\" :stuff=\"question\"></ListQuestion>\n\n            </div>\n          </div>\n        </tab-content-item>\n        <!-- END QUESTIONS -->\n\n      </div>\n    </div>\n  </div>\n  <div v-else>\n    <p>ุงููู ุงูุณุชูุฌ ุงูุงูู ูุฎุงุทุฑ ุงููู</p>\n  </div>\n</template>\n<script>\n\n\nimport useVuelidate from \"@vuelidate/core\";\nimport ListQuestion from '../../../../components/Questions/ListQuestion.vue'\nimport { required, minLength } from \"@vuelidate/validators\";\nimport { addQuestion } from '../../../../api/questions/addQuestion'\nimport generalInformationsServices from '../../../../api/generalInformationsServices'\nimport questionServices from '../../../../api/questionServices'\n\nexport default {\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  name: 'Stage2',\n\n  props: [\"user_book_id\", \"pages\", \"stageStatus\"],\n  mounted() {\n    (this.stageStatus)\n    this.getInformations();\n    this.getQuestions();\n  },\n  components: {\n    ListQuestion,\n\n  },\n  props: {\n    book: {\n      type: [Object],\n      required: true,\n    },\n\n  },\n  validations() {\n    return {\n      generalInfromationsform: {\n        general_question: {\n          required\n        },\n        summary: {\n          required\n        },\n      },\n      questionForm: {\n        question: {\n          required\n        }, starting_page: {\n          required\n        }, ending_page: {\n          required\n        }, quotes: {\n          required,\n          minLength: minLength(1),\n          $each: {\n            text: {\n\n              minLength: minLength(2)\n            }\n          }\n        }\n      }\n    };\n  },\n  data() {\n    return {\n      questionForm: {\n        question: '',\n        pageStart: \"\",\n        pageEnd: \"\",\n      },\n      generalInfromationsform: {\n        general_question: '',\n        summary: '',\n        user_book_id: this.$route.params.id,\n      },\n      generalInformations: [],\n      questions: [],\n    }\n  },\n  methods: {\n    addField(value, fieldType) {\n\n      fieldType.push({ text: \"\" });\n    },\n    removeField(index, fieldType) {\n      fieldType.splice(index, 1);\n    },\n    async submitGenralInformationsForm() {\n      this.v$.$touch();\n      if (!this.v$.generalInfromationsform.$invalid) {\n        this.general_informations = await generalInformationsServices.addGeneralInformations(this.generalInfromationsform);\n\n      }\n    },\n    async submitQuestionForm() {\n      this.v$.$touch();\n\n      if (!this.v$.questionForm.$invalid) {\n        const res = await questionServices.addQuestion(this.questionForm, this.quotes, this.$route.params.id);\n        if (!res.error) {\n          this.v$.$reset();\n        }\n      }\n    },\n    async getInformations() {\n      const data = await generalInformationsServices.getGeneralInformations(this.user_book_id);\n      this.generalInformations = data;\n    },\n    async getQuestions() {\n      this.questions = await questionServices.getQuestions(this.$route.params.id);\n    }\n\n\n\n  },\n\n\n\n\n}\n\n</script>\n"]},"metadata":{},"sourceType":"module"}