{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, vModelText as _vModelText, vShow as _vShow, withModifiers as _withModifiers, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nimport _imports_0 from '@/assets/images/update-forms.png';\nimport _imports_1 from '../../assets/images/page-img/page-load-loader.gif';\nvar _hoisted_1 = {\n  \"class\": \"col-sm-12 mt-3 text-center\"\n};\n\nvar _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"iq-card-header-toolbar d-flex align-items-center mx-auto\"\n}, [/*#__PURE__*/_createElementVNode(\"h3\", {\n  \"class\": \"text-center mt-3 mb-3\"\n}, \" تعديل سؤال \")], -1\n/* HOISTED */\n);\n\nvar _hoisted_3 = {\n  \"class\": \"iq-card-body p-3\"\n};\n\nvar _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"image-block text-center\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  \"class\": \"img-fluid rounded w-50\",\n  alt: \"blog-img\"\n})], -1\n/* HOISTED */\n);\n\nvar _hoisted_5 = {\n  key: 0,\n  \"class\": \"d-flex align-items-center mt-3\"\n};\nvar _hoisted_6 = {\n  \"class\": \"form-group col-6\"\n};\n\nvar _hoisted_7 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\"\n}, \"اختر صفحة البداية\", -1\n/* HOISTED */\n);\n\nvar _hoisted_8 = [\"value\"];\nvar _hoisted_9 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\nvar _hoisted_10 = {\n  \"class\": \"form-group col-6\"\n};\n\nvar _hoisted_11 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\"\n}, \"اختر صفحة النهاية\", -1\n/* HOISTED */\n);\n\nvar _hoisted_12 = [\"value\"];\nvar _hoisted_13 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\nvar _hoisted_14 = {\n  \"class\": \"form-group\"\n};\nvar _hoisted_15 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\n\nvar _hoisted_16 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_17 = {\n  \"class\": \"form-group\"\n};\n\nvar _hoisted_18 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"الاقتباسات\", -1\n/* HOISTED */\n);\n\nvar _hoisted_19 = [\"onUpdate:modelValue\"];\nvar _hoisted_20 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\n\nvar _hoisted_21 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_22 = {\n  key: 0,\n  \"class\": \"col-sm-12 text-center\"\n};\n\nvar _hoisted_23 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_1,\n  alt: \"loader\",\n  style: {\n    \"height\": \"100px\"\n  }\n}, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_24 = [_hoisted_23];\nvar _hoisted_25 = {\n  key: 1,\n  \"class\": \"text-center mt-3 mb-3\"\n};\nvar _hoisted_26 = {\n  \"class\": \"d-inline-block w-100 text-center\"\n};\nvar _hoisted_27 = {\n  key: 1,\n  type: \"submit\",\n  value: \"تعديل\",\n  href: \"javascript:void(0);\",\n  \"class\": \"btn btn-primary d-block mt-3 w-100\"\n};\nvar _hoisted_28 = {\n  key: 1,\n  \"class\": \"d-flex align-items-center mt-3 row\"\n};\n\nvar _hoisted_29 = /*#__PURE__*/_createElementVNode(\"h4\", {\n  \"class\": \"text-center mt-3 mb-3 col-12\"\n}, \" لا يمكنك تعديل السؤال لأنه في حالة التقييم أو تم تقييمه\", -1\n/* HOISTED */\n);\n\nvar _hoisted_30 = {\n  \"class\": \"d-inline-block w-100 text-center col-12\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_iq_card = _resolveComponent(\"iq-card\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_iq_card, {\n    \"class\": \"iq-card\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, $data.questionToupdate.status == null || $data.questionToupdate.status == _ctx.rejected ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"form\", {\n        onSubmit: _cache[6] || (_cache[6] = _withModifiers(function () {\n          return $options.submitQuestionUpdate && $options.submitQuestionUpdate.apply($options, arguments);\n        }, [\"prevent\"])),\n        \"class\": \"post-text ml-3 w-100 row\"\n      }, [_createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"select\", {\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n          return $setup.v$.questionForm.starting_page.$model = $event;\n        }),\n        \"class\": \"form-select\",\n        \"data-trigger\": \"\",\n        name: \"choices-single-default\",\n        id: \"choices-single-default\"\n      }, [_hoisted_7, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.book.pages, function (i, index) {\n        return _openBlock(), _createElementBlock(\"option\", {\n          key: index,\n          value: i\n        }, _toDisplayString(i), 9\n        /* TEXT, PROPS */\n        , _hoisted_8);\n      }), 128\n      /* KEYED_FRAGMENT */\n      ))], 512\n      /* NEED_PATCH */\n      ), [[_vModelSelect, $setup.v$.questionForm.starting_page.$model]]), $setup.v$.questionForm.starting_page.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_9, _toDisplayString($data.pageError ? $data.pageError : ' الرجاء قم بادخال صفحة البداية'), 1\n      /* TEXT */\n      )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"select\", {\n        \"class\": \"form-select\",\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n          return $setup.v$.questionForm.ending_page.$model = $event;\n        }),\n        \"data-trigger\": \"\",\n        name: \"choices-single-default\",\n        id: \"choices-single-default\"\n      }, [_hoisted_11, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.book.pages, function (i, index) {\n        return _openBlock(), _createElementBlock(\"option\", {\n          key: index,\n          value: i\n        }, _toDisplayString(i), 9\n        /* TEXT, PROPS */\n        , _hoisted_12);\n      }), 128\n      /* KEYED_FRAGMENT */\n      ))], 512\n      /* NEED_PATCH */\n      ), [[_vModelSelect, $setup.v$.questionForm.ending_page.$model]]), $setup.v$.questionForm.ending_page.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_13, _toDisplayString($data.pageError ? $data.pageError : ' الرجاء قم بادخال صفحة النهاية'), 1\n      /* TEXT */\n      )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_14, [_withDirectives(_createElementVNode(\"textarea\", {\n        rows: \"5\",\n        placeholder: \"... اكتب سؤالًا \",\n        \"class\": \"rounded form-control\",\n        id: \"bookQuestion\",\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n          return $setup.v$.questionForm.question.$model = $event;\n        })\n      }, null, 512\n      /* NEED_PATCH */\n      ), [[_vModelText, $setup.v$.questionForm.question.$model]]), $setup.v$.questionForm.question.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_15, \"الرجاء قم بادخال السؤال \")) : _createCommentVNode(\"v-if\", true)]), _hoisted_16, _createElementVNode(\"div\", _hoisted_17, [_hoisted_18, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.questionForm.quotes, function (v, index) {\n        return _withDirectives((_openBlock(), _createElementBlock(\"textarea\", {\n          rows: \"5\",\n          placeholder: \"... اكتب اقتباسًا \",\n          key: index,\n          \"class\": \"rounded form-control mt-2\",\n          id: \"bookQuote\",\n          \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n            return v.text = $event;\n          }\n        }, \"\\r\\n                \", 8\n        /* PROPS */\n        , _hoisted_19)), [[_vModelText, v.text]]);\n      }), 128\n      /* KEYED_FRAGMENT */\n      )), $setup.v$.questionForm.question.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_20, \"الرجاء قم بادخال اقتباس واحد على الاقل \")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"a\", {\n        \"class\": \"btn btn-primary rounded-pill mb-3 me-1 mt-3\",\n        onClick: _cache[3] || (_cache[3] = function ($event) {\n          return $options.addField(_ctx.textarea, $data.questionForm.quotes);\n        })\n      }, \" اضافة اقتباس \"), _withDirectives(_createElementVNode(\"a\", {\n        \"class\": \"btn btn-danger rounded-pill mb-3 me-1 mt-3\",\n        onClick: _cache[4] || (_cache[4] = function ($event) {\n          return $options.removeField(_ctx.index, $data.questionForm.quotes);\n        })\n      }, \" حذف اقتباس \", 512\n      /* NEED_PATCH */\n      ), [[_vShow, $data.questionForm.quotes && $data.questionForm.quotes.length > 1]])]), _hoisted_21, $data.loader ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, _hoisted_24)) : _createCommentVNode(\"v-if\", true), $data.message ? (_openBlock(), _createElementBlock(\"h4\", _hoisted_25, _toDisplayString($data.message), 1\n      /* TEXT */\n      )) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_26, [$data.message ? (_openBlock(), _createElementBlock(\"button\", {\n        key: 0,\n        type: \"\",\n        onClick: _cache[5] || (_cache[5] = function ($event) {\n          return $options.back();\n        }),\n        \"class\": \"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto\"\n      }, \" عودة لصفحة الأنجاز \")) : (_openBlock(), _createElementBlock(\"input\", _hoisted_27))])], 32\n      /* HYDRATE_EVENTS */\n      )])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_28, [_hoisted_29, _createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"button\", {\n        type: \"\",\n        onClick: _cache[7] || (_cache[7] = function ($event) {\n          return $options.back();\n        }),\n        \"class\": \"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto\"\n      }, \" عودة لصفحة الأنجاز \")])]))])];\n    }),\n    _: 1\n    /* STABLE */\n\n  })]);\n}","map":{"version":3,"mappings":"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","names":["_imports_0","_imports_1","_createElementVNode","src","alt","value","style","_hoisted_23","type","href","_createElementBlock","_createVNode","_component_iq_card","_hoisted_2","_hoisted_4","$data","status","_ctx","onSubmit","$options","$setup","questionForm","starting_page","$model","$event","name","id","_hoisted_7","_Fragment","_renderList","pages","i","index","key","_hoisted_8","$error","_toDisplayString","ending_page","_hoisted_11","_hoisted_12","rows","placeholder","question","_hoisted_16","_hoisted_18","quotes","v","text","_hoisted_19","onClick","length","_hoisted_21","_hoisted_24","_hoisted_29"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\views\\Questions\\update.vue"],"sourcesContent":["<template>\r\n  <div class=\"col-sm-12 mt-3 text-center\">\r\n    <iq-card class=\"iq-card\">\r\n      <div class=\"iq-card-header-toolbar d-flex align-items-center mx-auto\">\r\n        <h3 class=\"text-center mt-3 mb-3\">\r\n          تعديل سؤال\r\n        </h3>\r\n      </div>\r\n      <div class=\"iq-card-body p-3\">\r\n        <div class=\"image-block text-center\">\r\n          <img src=\"@/assets/images/update-forms.png\" class=\"img-fluid rounded w-50\" alt=\"blog-img\">\r\n        </div>\r\n\r\n        <div class=\"d-flex align-items-center mt-3\"\r\n          v-if=\"questionToupdate.status == null || questionToupdate.status == rejected  \">\r\n          <form @submit.prevent=\"submitQuestionUpdate\" class=\"post-text ml-3 w-100 row\">\r\n            <div class=\"form-group col-6\">\r\n              <select v-model=\"v$.questionForm.starting_page.$model\" class=\"form-select\" data-trigger\r\n                name=\"choices-single-default\" id=\"choices-single-default\">\r\n                <option value=\"\">اختر صفحة البداية</option>\r\n                <option v-for=\"(i, index) in book.pages\" :key=\"index\" :value=\"i\">\r\n                  {{ i }}\r\n                </option>\r\n              </select>\r\n              <small style=\"color: red\" v-if=\"v$.questionForm.starting_page.$error\"\r\n                >{{pageError ? pageError :' الرجاء قم بادخال صفحة البداية'}}</small\r\n              >\r\n            </div>\r\n            <div class=\"form-group col-6\">\r\n              <select class=\"form-select\" v-model=\"v$.questionForm.ending_page.$model\" data-trigger\r\n                name=\"choices-single-default\" id=\"choices-single-default\">\r\n                <option value=\"\">اختر صفحة النهاية</option>\r\n                <option v-for=\"(i, index) in book.pages\" :key=\"index\" :value=\"i\">\r\n                  {{ i }}\r\n                </option>\r\n              </select>\r\n               <small style=\"color: red\" v-if=\"v$.questionForm.ending_page.$error\"\r\n                >{{pageError ? pageError :' الرجاء قم بادخال صفحة النهاية'}}</small\r\n              >\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <textarea rows=\"5\" placeholder=\"... اكتب سؤالًا \" class=\"rounded form-control\" id=\"bookQuestion\"\r\n                v-model=\"v$.questionForm.question.$model\"></textarea>\r\n              <small style=\"color:red;\" v-if=\"v$.questionForm.question.$error\">الرجاء قم بادخال السؤال </small>\r\n            </div>\r\n            <hr>\r\n            <div class=\"form-group\">\r\n              <h4>الاقتباسات</h4>\r\n              <textarea rows=\"5\" placeholder=\"... اكتب اقتباسًا \" v-for=\"(v,index) in questionForm.quotes\" :key=\"index\"\r\n                class=\"rounded form-control mt-2\" id=\"bookQuote\" v-model=\"v.text\">\r\n                </textarea>\r\n              <small style=\"color:red;\" v-if=\"v$.questionForm.question.$error\">الرجاء قم بادخال اقتباس واحد على الاقل\r\n              </small>\r\n              <a class=\"btn btn-primary rounded-pill mb-3 me-1 mt-3\" @click=\"addField(textarea, questionForm.quotes)\">\r\n                اضافة اقتباس\r\n              </a>\r\n              <a class=\"btn btn-danger rounded-pill mb-3 me-1 mt-3\"\r\n                v-show=\"questionForm.quotes && questionForm.quotes.length > 1\"\r\n                @click=\"removeField(index, questionForm.quotes)\">\r\n                حذف اقتباس\r\n              </a>\r\n            </div>\r\n            <hr>\r\n            <div class=\"col-sm-12 text-center\" v-if=\"loader\">\r\n              <img src=\"../../assets/images/page-img/page-load-loader.gif\" alt=\"loader\" style=\"height: 100px;\">\r\n            </div>\r\n            <h4 class=\"text-center mt-3 mb-3\" v-if=\"message\"> {{message}}</h4>\r\n            <div class=\"d-inline-block w-100 text-center\">\r\n              <button type=\"\" @click=\"back()\" class=\"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto\" v-if=\"message\">\r\n                عودة لصفحة الأنجاز\r\n              </button>\r\n              <input type=\"submit\" value=\"تعديل\" href=\"javascript:void(0);\" class=\"btn btn-primary d-block mt-3 w-100\"\r\n                v-else />\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div class=\"d-flex align-items-center mt-3 row\" v-else>\r\n          <h4 class=\"text-center mt-3 mb-3 col-12\"> لا يمكنك تعديل السؤال لأنه في حالة التقييم أو تم تقييمه</h4>\r\n          <div class=\"d-inline-block w-100 text-center col-12\">\r\n            <button type=\"\" @click=\"back()\" class=\"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto\">\r\n              عودة لصفحة الأنجاز\r\n            </button>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </iq-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport questionServices from '../../api/questionServices';\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, minLength } from \"@vuelidate/validators\";\r\nexport default {\r\n  name: \"UpdateQuestion\",\r\n  async created() {\r\n    this.questionToupdate = await questionServices.getById(this.user_book.id)\r\n    this.book = this.questionToupdate.user_book.book\r\n    this.questionForm.question = this.questionToupdate.question\r\n    this.questionForm.starting_page = this.questionToupdate.starting_page\r\n    this.questionForm.ending_page = this.questionToupdate.ending_page\r\n    this.questionForm.quotes = this.questionToupdate.quotation\r\n  },\r\n  components: {\r\n  },\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n  props: {\r\n    user_book: {\r\n      type: [Object],\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      loader: false,\r\n      questionForm: {\r\n        question: '',\r\n        starting_page: \"\",\r\n        ending_page: \"\",\r\n        user_book_id: this.user_book.id,\r\n        quotes: [\r\n          { text: '' }\r\n        ]\r\n      },  pageError:'',\r\n      book: [],\r\n      message: '',\r\n      questionToupdate:[],\r\n    };\r\n  },\r\n  validations() {\r\n    return {\r\n      questionForm: {\r\n        question: {\r\n          required\r\n        },  starting_page: {\r\n          required,valdiatePages:this.validatePages\r\n        },\r\n        ending_page: {\r\n          required,valdiatePages:this.validatePages\r\n        }, quotes: {\r\n          required,\r\n          minLength: minLength(1),\r\n          $each: {\r\n            text: {\r\n              minLength: minLength(2)\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n       validatePages(){\r\n      const error =  parseInt(this.questionForm.starting_page) < parseInt(this.questionForm.ending_page)\r\n      console.log(error)\r\n      if(!error)this.pageError = 'يجب ان تكون صفحة البداية اقل من صفحة النهاية'\r\n      else this.pageError = ''\r\n      return error;\r\n    },\r\n    addField(value, fieldType) {\r\n      fieldType.push({ text: \"\" });\r\n    },\r\n    removeField(index, fieldType) {\r\n      fieldType.splice(index, 1);\r\n    },\r\n    async submitQuestionUpdate() {\r\n      this.v$.$touch();\r\n\r\n      if (!this.v$.questionForm.$invalid) {\r\n        this.message = \"\";\r\n        this.loader = true;\r\n        const question = await questionServices.updateQuestion(this.questionForm, this.questionToupdate.id);\r\n        this.questionForm.question = question.question;\r\n        this.questionForm.pageEnd = question.ending_page;\r\n        this.questionForm.pageStart = question.starting_page;\r\n        this.questionForm.quotes = question.quotation;\r\n        this.v$.questionForm.$reset()\r\n        this.loader = false;\r\n        this.message = \"تم التعديل بنجاح\"\r\n      }\r\n\r\n\r\n    },\r\n    back() {\r\n      this.$router.push({ path: `/user_book/${this.questionToupdate.user_book_id}` })\r\n    }\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}