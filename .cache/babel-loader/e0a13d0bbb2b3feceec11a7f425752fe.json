{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, vModelText as _vModelText, vShow as _vShow, withModifiers as _withModifiers, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nimport _imports_0 from '@/assets/images/update-forms.png';\nimport _imports_1 from '../../assets/images/page-img/page-load-loader.gif';\nvar _hoisted_1 = {\n  \"class\": \"col-sm-12 mt-3 text-center\"\n};\n\nvar _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"iq-card-header-toolbar d-flex align-items-center mx-auto\"\n}, [/*#__PURE__*/_createElementVNode(\"h3\", {\n  \"class\": \"text-center mt-3 mb-3\"\n}, \" تعديل سؤال \")], -1\n/* HOISTED */\n);\n\nvar _hoisted_3 = {\n  \"class\": \"iq-card-body p-3\"\n};\n\nvar _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"image-block text-center\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  \"class\": \"img-fluid rounded w-50\",\n  alt: \"blog-img\"\n})], -1\n/* HOISTED */\n);\n\nvar _hoisted_5 = {\n  key: 0,\n  \"class\": \"d-flex align-items-center mt-3\"\n};\nvar _hoisted_6 = {\n  \"class\": \"form-group col-6\"\n};\nvar _hoisted_7 = [\"disabled\"];\n\nvar _hoisted_8 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\"\n}, \"اختر صفحة البداية\", -1\n/* HOISTED */\n);\n\nvar _hoisted_9 = [\"value\"];\nvar _hoisted_10 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\nvar _hoisted_11 = {\n  \"class\": \"form-group col-6\"\n};\nvar _hoisted_12 = [\"disabled\"];\n\nvar _hoisted_13 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\"\n}, \"اختر صفحة النهاية\", -1\n/* HOISTED */\n);\n\nvar _hoisted_14 = [\"value\"];\nvar _hoisted_15 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\nvar _hoisted_16 = {\n  \"class\": \"form-group\"\n};\nvar _hoisted_17 = [\"disabled\"];\nvar _hoisted_18 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\n\nvar _hoisted_19 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_20 = {\n  \"class\": \"form-group\"\n};\n\nvar _hoisted_21 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"الاقتباسات\", -1\n/* HOISTED */\n);\n\nvar _hoisted_22 = [\"disabled\", \"onUpdate:modelValue\"];\nvar _hoisted_23 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\n\nvar _hoisted_24 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_25 = {\n  key: 0,\n  \"class\": \"col-sm-12 text-center\"\n};\n\nvar _hoisted_26 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_1,\n  alt: \"loader\",\n  style: {\n    \"height\": \"100px\"\n  }\n}, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_27 = [_hoisted_26];\nvar _hoisted_28 = {\n  key: 1,\n  \"class\": \"text-center mt-3 mb-3\"\n};\nvar _hoisted_29 = {\n  \"class\": \"d-inline-block w-100 text-center\"\n};\nvar _hoisted_30 = {\n  key: 1,\n  type: \"submit\",\n  value: \"تعديل\",\n  href: \"javascript:void(0);\",\n  \"class\": \"btn btn-primary d-block mt-3 w-100\"\n};\nvar _hoisted_31 = {\n  key: 1,\n  \"class\": \"d-flex align-items-center mt-3 row\"\n};\n\nvar _hoisted_32 = /*#__PURE__*/_createElementVNode(\"h4\", {\n  \"class\": \"text-center mt-3 mb-3 col-12\"\n}, \" لا يمكنك تعديل السؤال لأنه في حالة التقييم أو تم تقييمه\", -1\n/* HOISTED */\n);\n\nvar _hoisted_33 = {\n  \"class\": \"d-inline-block w-100 text-center col-12\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_iq_card = _resolveComponent(\"iq-card\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_iq_card, {\n    \"class\": \"iq-card\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, $data.questionToupdate.status == null || $data.questionToupdate.status == 'rejected' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"form\", {\n        onSubmit: _cache[6] || (_cache[6] = _withModifiers(function () {\n          return $options.submitQuestionUpdate && $options.submitQuestionUpdate.apply($options, arguments);\n        }, [\"prevent\"])),\n        \"class\": \"post-text ml-3 w-100 row\"\n      }, [_createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"select\", {\n        disabled: $data.message,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n          return $setup.v$.questionForm.starting_page.$model = $event;\n        }),\n        \"class\": \"form-select\",\n        \"data-trigger\": \"\",\n        name: \"choices-single-default\",\n        id: \"choices-single-default\"\n      }, [_hoisted_8, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.book.pages, function (i, index) {\n        return _openBlock(), _createElementBlock(\"option\", {\n          key: index,\n          value: i\n        }, _toDisplayString(i), 9\n        /* TEXT, PROPS */\n        , _hoisted_9);\n      }), 128\n      /* KEYED_FRAGMENT */\n      ))], 8\n      /* PROPS */\n      , _hoisted_7), [[_vModelSelect, $setup.v$.questionForm.starting_page.$model]]), $setup.v$.questionForm.starting_page.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_10, _toDisplayString($data.pageError ? $data.pageError : ' الرجاء قم بادخال صفحة البداية'), 1\n      /* TEXT */\n      )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"select\", {\n        disabled: $data.message,\n        \"class\": \"form-select\",\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n          return $setup.v$.questionForm.ending_page.$model = $event;\n        }),\n        \"data-trigger\": \"\",\n        name: \"choices-single-default\",\n        id: \"choices-single-default\"\n      }, [_hoisted_13, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.book.pages, function (i, index) {\n        return _openBlock(), _createElementBlock(\"option\", {\n          key: index,\n          value: i\n        }, _toDisplayString(i), 9\n        /* TEXT, PROPS */\n        , _hoisted_14);\n      }), 128\n      /* KEYED_FRAGMENT */\n      ))], 8\n      /* PROPS */\n      , _hoisted_12), [[_vModelSelect, $setup.v$.questionForm.ending_page.$model]]), $setup.v$.questionForm.ending_page.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_15, _toDisplayString($data.pageError ? $data.pageError : ' الرجاء قم بادخال صفحة النهاية'), 1\n      /* TEXT */\n      )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_16, [_withDirectives(_createElementVNode(\"textarea\", {\n        disabled: $data.message,\n        rows: \"5\",\n        placeholder: \"... اكتب سؤالًا \",\n        \"class\": \"rounded form-control\",\n        id: \"bookQuestion\",\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n          return $setup.v$.questionForm.question.$model = $event;\n        })\n      }, null, 8\n      /* PROPS */\n      , _hoisted_17), [[_vModelText, $setup.v$.questionForm.question.$model]]), $setup.v$.questionForm.question.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_18, \" لطفًا قم بكتابة سؤال عدد حروفه بين 100 و 250 \")) : _createCommentVNode(\"v-if\", true)]), _hoisted_19, _createElementVNode(\"div\", _hoisted_20, [_hoisted_21, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.questionForm.quotes, function (v, index) {\n        return _withDirectives((_openBlock(), _createElementBlock(\"textarea\", {\n          disabled: $data.message,\n          rows: \"5\",\n          placeholder: \"... اكتب اقتباسًا \",\n          key: index,\n          \"class\": \"rounded form-control mt-2\",\n          id: \"bookQuote\",\n          \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n            return v.text = $event;\n          }\n        }, \"\\r\\n                \", 8\n        /* PROPS */\n        , _hoisted_22)), [[_vModelText, v.text]]);\n      }), 128\n      /* KEYED_FRAGMENT */\n      )), $setup.v$.questionForm.question.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_23, \" قم بادخال اقتباس واحد على الاقل عدد حروفه لا يزيد عن 250 \")) : _createCommentVNode(\"v-if\", true), !$data.message ? (_openBlock(), _createElementBlock(\"a\", {\n        key: 1,\n        \"class\": \"btn btn-primary rounded-pill mb-3 me-1 mt-3\",\n        onClick: _cache[3] || (_cache[3] = function ($event) {\n          return $options.addField(_ctx.textarea, $data.questionForm.quotes);\n        })\n      }, \" اضافة اقتباس \")) : _createCommentVNode(\"v-if\", true), !$data.message ? _withDirectives((_openBlock(), _createElementBlock(\"a\", {\n        key: 2,\n        \"class\": \"btn btn-danger rounded-pill mb-3 me-1 mt-3\",\n        onClick: _cache[4] || (_cache[4] = function ($event) {\n          return $options.removeField(_ctx.index, $data.questionForm.quotes);\n        })\n      }, \" حذف اقتباس \", 512\n      /* NEED_PATCH */\n      )), [[_vShow, $data.questionForm.quotes && $data.questionForm.quotes.length > 1]]) : _createCommentVNode(\"v-if\", true)]), _hoisted_24, $data.loader ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, _hoisted_27)) : _createCommentVNode(\"v-if\", true), $data.message ? (_openBlock(), _createElementBlock(\"h4\", _hoisted_28, _toDisplayString($data.message), 1\n      /* TEXT */\n      )) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_29, [$data.message ? (_openBlock(), _createElementBlock(\"button\", {\n        key: 0,\n        type: \"\",\n        onClick: _cache[5] || (_cache[5] = function ($event) {\n          return $options.back();\n        }),\n        \"class\": \"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto\"\n      }, \" عودة لصفحة الأنجاز \")) : (_openBlock(), _createElementBlock(\"input\", _hoisted_30))])], 32\n      /* HYDRATE_EVENTS */\n      )])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_31, [_hoisted_32, _createElementVNode(\"div\", _hoisted_33, [_createElementVNode(\"button\", {\n        type: \"\",\n        onClick: _cache[7] || (_cache[7] = function ($event) {\n          return $options.back();\n        }),\n        \"class\": \"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto\"\n      }, \" عودة لصفحة الأنجاز \")])]))])];\n    }),\n    _: 1\n    /* STABLE */\n\n  })]);\n}","map":{"version":3,"mappings":"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","names":["_imports_0","_imports_1","_createElementVNode","src","alt","value","style","_hoisted_26","type","href","_createElementBlock","_createVNode","_component_iq_card","_hoisted_2","_hoisted_4","$data","status","onSubmit","$options","disabled","$setup","questionForm","starting_page","$model","$event","name","id","_hoisted_8","_Fragment","_renderList","pages","i","index","key","_hoisted_9","$error","_toDisplayString","ending_page","_hoisted_13","_hoisted_14","rows","placeholder","question","_hoisted_19","_hoisted_21","quotes","v","text","_hoisted_22","onClick","_ctx","length","_hoisted_24","_hoisted_27","_hoisted_32"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\views\\Questions\\update.vue"],"sourcesContent":["<template>\r\n  <div class=\"col-sm-12 mt-3 text-center\">\r\n    <iq-card class=\"iq-card\">\r\n      <div class=\"iq-card-header-toolbar d-flex align-items-center mx-auto\">\r\n        <h3 class=\"text-center mt-3 mb-3\">\r\n          تعديل سؤال\r\n        </h3>\r\n      </div>\r\n      <div class=\"iq-card-body p-3\">\r\n        <div class=\"image-block text-center\">\r\n          <img src=\"@/assets/images/update-forms.png\" class=\"img-fluid rounded w-50\" alt=\"blog-img\">\r\n        </div>\r\n\r\n        <div class=\"d-flex align-items-center mt-3\"\r\n          v-if=\"questionToupdate.status == null || questionToupdate.status == 'rejected'  \">\r\n          <form  @submit.prevent=\"submitQuestionUpdate\" class=\"post-text ml-3 w-100 row\">\r\n            <div class=\"form-group col-6\">\r\n              <select :disabled=\"message\" v-model=\"v$.questionForm.starting_page.$model\" class=\"form-select\" data-trigger\r\n                name=\"choices-single-default\" id=\"choices-single-default\">\r\n                <option value=\"\">اختر صفحة البداية</option>\r\n                <option v-for=\"(i, index) in book.pages\" :key=\"index\" :value=\"i\">\r\n                  {{ i }}\r\n                </option>\r\n              </select>\r\n              <small style=\"color: red\" v-if=\"v$.questionForm.starting_page.$error\"\r\n                >{{pageError ? pageError :' الرجاء قم بادخال صفحة البداية'}}</small\r\n              >\r\n            </div>\r\n            <div class=\"form-group col-6\">\r\n              <select :disabled=\"message\" class=\"form-select\" v-model=\"v$.questionForm.ending_page.$model\" data-trigger\r\n                name=\"choices-single-default\" id=\"choices-single-default\">\r\n                <option value=\"\">اختر صفحة النهاية</option>\r\n                <option v-for=\"(i, index) in book.pages\" :key=\"index\" :value=\"i\">\r\n                  {{ i }}\r\n                </option>\r\n              </select>\r\n               <small style=\"color: red\" v-if=\"v$.questionForm.ending_page.$error\"\r\n                >{{pageError ? pageError :' الرجاء قم بادخال صفحة النهاية'}}</small\r\n              >\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <textarea :disabled=\"message\" rows=\"5\" placeholder=\"... اكتب سؤالًا \" class=\"rounded form-control\" id=\"bookQuestion\"\r\n                v-model=\"v$.questionForm.question.$model\"></textarea>\r\n              <small style=\"color:red;\" v-if=\"v$.questionForm.question.$error\">\r\n                لطفًا قم بكتابة سؤال عدد حروفه بين 100  و 250\r\n              </small>\r\n            </div>\r\n            <hr>\r\n            <div class=\"form-group\">\r\n              <h4>الاقتباسات</h4>\r\n              <textarea :disabled=\"message\" rows=\"5\" placeholder=\"... اكتب اقتباسًا \" v-for=\"(v,index) in questionForm.quotes\" :key=\"index\"\r\n                class=\"rounded form-control mt-2\" id=\"bookQuote\" v-model=\"v.text\">\r\n                </textarea>\r\n              <small style=\"color:red;\" v-if=\"v$.questionForm.question.$error\">\r\n                قم بادخال اقتباس واحد على الاقل عدد حروفه لا يزيد عن 250\r\n              </small>\r\n              <a  v-if='!message' class=\"btn btn-primary rounded-pill mb-3 me-1 mt-3\" @click=\"addField(textarea, questionForm.quotes)\">\r\n                اضافة اقتباس\r\n              </a>\r\n              <a v-if='!message' class=\"btn btn-danger rounded-pill mb-3 me-1 mt-3\"\r\n                v-show=\"questionForm.quotes && questionForm.quotes.length > 1\"\r\n                @click=\"removeField(index, questionForm.quotes)\">\r\n                حذف اقتباس\r\n              </a>\r\n            </div>\r\n            <hr>\r\n            <div class=\"col-sm-12 text-center\" v-if=\"loader\">\r\n              <img src=\"../../assets/images/page-img/page-load-loader.gif\" alt=\"loader\" style=\"height: 100px;\">\r\n            </div>\r\n            <h4 class=\"text-center mt-3 mb-3\" v-if=\"message\"> {{message}}</h4>\r\n            <div class=\"d-inline-block w-100 text-center\">\r\n              <button type=\"\" @click=\"back()\" class=\"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto\" v-if=\"message\">\r\n                عودة لصفحة الأنجاز\r\n              </button>\r\n              <input type=\"submit\" value=\"تعديل\" href=\"javascript:void(0);\" class=\"btn btn-primary d-block mt-3 w-100\"\r\n                v-else />\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div class=\"d-flex align-items-center mt-3 row\" v-else>\r\n          <h4 class=\"text-center mt-3 mb-3 col-12\"> لا يمكنك تعديل السؤال لأنه في حالة التقييم أو تم تقييمه</h4>\r\n          <div class=\"d-inline-block w-100 text-center col-12\">\r\n            <button type=\"\" @click=\"back()\" class=\"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto\">\r\n              عودة لصفحة الأنجاز\r\n            </button>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </iq-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport questionServices from '../../api/questionServices';\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, minLength, maxLength } from \"@vuelidate/validators\";\r\nexport default {\r\n  name: \"UpdateQuestion\",\r\n  async created() {\r\n    this.questionToupdate = await questionServices.getById(this.$route.params.id)\r\n    this.book = this.questionToupdate.user_book.book\r\n    this.questionForm.question = this.questionToupdate.question\r\n    this.questionForm.user_book_id = this.questionToupdate.user_book.id\r\n    this.questionForm.starting_page = this.questionToupdate.starting_page\r\n    this.questionForm.ending_page = this.questionToupdate.ending_page\r\n    this.questionForm.quotes = this.questionToupdate.quotation\r\n  },\r\n  components: {\r\n  },\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n  data() {\r\n    return {\r\n      loader: false,\r\n      questionForm: {\r\n        question: '',\r\n        starting_page: \"\",\r\n        ending_page: \"\",\r\n        user_book_id:0,\r\n        quotes: [\r\n          { text: '' }\r\n        ]\r\n      },  pageError:'',\r\n      book: [],\r\n      message: null,\r\n      questionToupdate:[],\r\n    };\r\n  },\r\n  validations() {\r\n    return {\r\n      questionForm: {\r\n        question: {\r\n          required,\r\n          minLength: minLength(100),\r\n          maxLength: maxLength(250)\r\n\r\n        },  starting_page: {\r\n          required,valdiatePages:this.validatePages\r\n        },\r\n        ending_page: {\r\n          required,valdiatePages:this.validatePages\r\n        }, quotes: {\r\n          required,\r\n          minLength: minLength(1),\r\n          $each: {\r\n            text: {\r\n              minLength: minLength(250)\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n       validatePages(){\r\n      const error =  parseInt(this.questionForm.starting_page) < parseInt(this.questionForm.ending_page)\r\n      console.log(error)\r\n      if(!error)this.pageError = 'يجب ان تكون صفحة البداية اقل من صفحة النهاية'\r\n      else this.pageError = ''\r\n      return error;\r\n    },\r\n    addField(value, fieldType) {\r\n      fieldType.push({ text: \"\" });\r\n       console.log(fieldType)\r\n    },\r\n    removeField(index, fieldType) {\r\n      fieldType.splice(-1);\r\n      console.log(fieldType)\r\n    },\r\n    async submitQuestionUpdate() {\r\n      this.v$.$touch(); \r\n      if (!this.v$.questionForm.$invalid) {\r\n        this.message = \"\";\r\n        this.loader = true;\r\n        const question = await questionServices.updateQuestion(this.questionForm, this.questionToupdate.id);\r\n      \r\n        this.questionForm.question = question.question;\r\n        this.questionForm.pageEnd = question.ending_page;\r\n        this.questionForm.pageStart = question.starting_page; \r\n        this.v$.questionForm.$reset()\r\n        this.loader = false;\r\n        this.message = \"تم التعديل بنجاح\"\r\n      }\r\n\r\n\r\n    },\r\n    back() {\r\n      console.log(this.questionToupdate.user_book.book.id)\r\n      this.$router.push({ name: 'achievement.questions' , params: { id: this.questionToupdate.user_book.book.id } })\r\n\r\n            // this.$router.push({ name: 'achievement.questions', params: { book_id: this.questionToupdate.user_book.book.id } })\r\n\r\n    }\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}