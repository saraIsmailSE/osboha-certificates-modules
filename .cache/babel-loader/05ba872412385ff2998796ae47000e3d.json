{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport useVuelidate from \"@vuelidate/core\";\nimport ListQuestion from '../../../../components/Questions/ListQuestion.vue';\nimport { required, minLength } from \"@vuelidate/validators\";\nimport generalInformationsServices from '../../../../api/generalInformationsServices';\nimport questionServices from '../../../../api/questionServices';\nexport default {\n  setup: function setup() {\n    return {\n      v$: useVuelidate()\n    };\n  },\n  name: 'Stage2',\n  mounted: function mounted() {\n    this.getInformations();\n    this.getQuestions();\n  },\n  components: {\n    ListQuestion: ListQuestion\n  },\n  props: {\n    book: {\n      type: [Object],\n      required: true\n    },\n    status: {\n      required: true\n    }\n  },\n  validations: function validations() {\n    return {\n      generalInfromationsform: {\n        general_question: {\n          required: required\n        },\n        summary: {\n          required: required\n        }\n      },\n      questionForm: {\n        question: {\n          required: required\n        },\n        starting_page: {\n          required: required\n        },\n        ending_page: {\n          required: required,\n          valdiatePages: this.validatePages\n        },\n        quotes: {\n          required: required,\n          minLength: minLength(1),\n          $each: {\n            text: {\n              minLength: minLength(2)\n            }\n          }\n        }\n      }\n    };\n  },\n  data: function data() {\n    return {\n      auditable: false,\n      pageError: '',\n      questionForm: {\n        question: '',\n        starting_page: \"\",\n        ending_page: \"\",\n        user_book_id: this.$route.params.id,\n        quotes: [{\n          text: ''\n        }]\n      },\n      generalInfromationsform: {\n        general_question: '',\n        summary: '',\n        user_book_id: this.$route.params.id\n      },\n      generalInformations: [],\n      questions: [],\n      show: false\n    };\n  },\n  methods: {\n    addField: function addField(value, fieldType) {\n      fieldType.push({\n        text: \"\"\n      });\n    },\n    removeField: function removeField(index, fieldType) {\n      fieldType.splice(index, 1);\n    },\n    submitGenralInformationsForm: function submitGenralInformationsForm() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.v$.$touch();\n\n                if (_this.v$.generalInfromationsform.$invalid) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _context.next = 4;\n                return generalInformationsServices.addGeneralInformations(_this.generalInfromationsform);\n\n              case 4:\n                _this.generalInformations = _context.sent;\n\n                _this.v$.generalInfromationsform.general_question.$reset();\n\n                _this.v$.generalInfromationsform.summary.$reset();\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    submitQuestionForm: function submitQuestionForm() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var question;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this2.v$.$touch();\n\n                if (_this2.v$.questionForm.$invalid) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                _context2.next = 4;\n                return questionServices.addQuestion(_this2.questionForm);\n\n              case 4:\n                question = _context2.sent;\n                _this2.questionForm.question = \"\";\n                _this2.questionForm.pageEnd = \"\";\n                _this2.questionForm.pageStart = \"\";\n                _this2.questionForm.quotes = [{\n                  text: ''\n                }];\n\n                _this2.v$.questionForm.$reset();\n\n                _this2.questions.push(question);\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    getInformations: function getInformations() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return generalInformationsServices.getGeneralInformations(_this3.$route.params.id);\n\n              case 2:\n                _this3.generalInformations = _context3.sent;\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    },\n    getQuestions: function getQuestions() {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return questionServices.getQuestions(_this4.$route.params.id);\n\n              case 2:\n                _this4.questions = _context4.sent;\n                _this4.auditable = _this4.questions.some(function (element) {\n                  if (element.status === 'rejected' || element.status === null) {\n                    return true;\n                  }\n\n                  return false;\n                });\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }))();\n    },\n    deleteGeneralInformation: function deleteGeneralInformation(id) {\n      this.show = !this.show;\n      var swalWithBootstrapButtons = this.$swal.mixin({\n        customClass: {\n          confirmButton: 'btn btn-primary btn-lg',\n          cancelButton: 'btn btn-outline-primary btn-lg ms-2'\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',\n        text: \"Ù…ÙˆØ§ÙÙ‚ØªÙƒ ØªØ¹Ù†ÙŠ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ \",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Ù†Ø¹Ù… Ù‚Ù… Ø¨Ø§Ù„Ø­Ø°Ù',\n        cancelButtonText: 'ØªØ±Ø§Ø¬Ø¹  ',\n        showClass: {\n          popup: 'animate__animated animate__zoomIn'\n        },\n        hideClass: {\n          popup: 'animate__animated animate__zoomOut'\n        }\n      }).then(function (willDelete) {\n        if (willDelete.isConfirmed) {\n          generalInformationsServices.deleteGeneralInformation(id).then(function (response) {\n            swalWithBootstrapButtons.fire({\n              title: 'ØªÙ… Ø§Ù„Ø­Ø°Ù',\n              text: 'ØªÙ… Ø­Ø°Ù Ø§Ù„Ø³Ø¤Ø§Ù„',\n              icon: 'success',\n              showClass: {\n                popup: 'animate__animated animate__zoomIn'\n              },\n              hideClass: {\n                popup: 'animate__animated animate__zoomOut'\n              }\n            });\n            location.reload();\n          })[\"catch\"](function (error) {\n            console.log(error);\n          });\n        }\n      });\n    },\n    updateGenralInformationsForm: function updateGenralInformationsForm() {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this5.v$.$touch();\n\n                if (_this5.v$.generalInfromationsform.$invalid) {\n                  _context5.next = 7;\n                  break;\n                }\n\n                _context5.next = 4;\n                return generalInformationsServices.updateGeneralInformations(_this5.generalInfromationsform, _this5.generalInformations.id);\n\n              case 4:\n                _this5.generalInformations = _context5.sent;\n\n                _this5.v$.generalInfromationsform.general_question.$reset();\n\n                _this5.v$.generalInfromationsform.summary.$reset();\n\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }))();\n    },\n    validatePages: function validatePages() {\n      var error = parseInt(this.questionForm.starting_page) < parseInt(this.questionForm.ending_page);\n      console.log(error);\n      if (!error) this.pageError = 'ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø§Ù‚Ù„ Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ©';else this.pageError = '';\n      return error;\n    },\n    auditQuestions: function auditQuestions() {\n      var _this6 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var swalWithBootstrapButtons;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                swalWithBootstrapButtons = _this6.$swal.mixin({\n                  customClass: {\n                    confirmButton: 'btn btn-primary btn-lg',\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\n                  },\n                  buttonsStyling: false\n                });\n                swalWithBootstrapButtons.fire({\n                  title: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',\n                  text: \"ÙÙŠ Ø­Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ù„Ù„ØªØ¯Ù‚ÙŠÙ‚ Ù„Ù† ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯ Ø£Ùˆ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªÙŠ ÙƒØªØ¨ØªÙ‡Ø§ \",\n                  icon: 'warning',\n                  showCancelButton: true,\n                  confirmButtonText: 'Ù†Ø¹Ù… Ù‚Ù… Ø¨Ø·Ù„Ø¨ ØªØ¯Ù‚ÙŠÙ‚',\n                  cancelButtonText: 'ØªØ±Ø§Ø¬Ø¹  ',\n                  showClass: {\n                    popup: 'animate__animated animate__zoomIn'\n                  },\n                  hideClass: {\n                    popup: 'animate__animated animate__zoomOut'\n                  }\n                }).then(function (willDelete) {\n                  if (willDelete.isConfirmed) {\n                    questionServices.auditQuestion(_this6.$route.params.id).then(function (response) {\n                      swalWithBootstrapButtons.fire({\n                        title: 'ØªÙ… Ø§Ù„Ø§Ø±Ø³Ø§Ù„',\n                        text: 'ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ù„Ù„ØªØ¯Ù‚ÙŠÙ‚',\n                        icon: 'success',\n                        showClass: {\n                          popup: 'animate__animated animate__zoomIn'\n                        },\n                        hideClass: {\n                          popup: 'animate__animated animate__zoomOut'\n                        }\n                      });\n                      _this6.auditable = false;\n                    })[\"catch\"](function (error) {\n                      console.log(error);\n                    });\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;AAiQA,OAAOA,YAAP,MAAyB,iBAAzB;AACA,OAAOC,YAAP,MAAyB,mDAAzB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,uBAApC;AACA,OAAOC,2BAAP,MAAwC,6CAAxC;AACA,OAAOC,gBAAP,MAA6B,kCAA7B;AAEA,eAAe;EACbC,KADa,mBACL;IACN,OAAO;MAAEC,EAAE,EAAEP,YAAY;IAAlB,CAAP;EACD,CAHY;EAIbQ,IAAI,EAAE,QAJO;EAKbC,OALa,qBAKH;IACR,KAAKC,eAAL;IACA,KAAKC,YAAL;EACD,CARY;EASbC,UAAU,EAAE;IACVX,YAAY,EAAZA;EADU,CATC;EAYbY,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,IAAI,EAAE,CAACC,MAAD,CADF;MAEJd,QAAQ,EAAE;IAFN,CADD;IAIFe,MAAM,EAAE;MACTf,QAAQ,EAAE;IADD;EAJN,CAZM;EAqBbgB,WArBa,yBAqBC;IACZ,OAAO;MACLC,uBAAuB,EAAE;QACvBC,gBAAgB,EAAE;UAChBlB,QAAO,EAAPA;QADgB,CADK;QAIvBmB,OAAO,EAAE;UACPnB,QAAO,EAAPA;QADO;MAJc,CADpB;MASLoB,YAAY,EAAE;QACZC,QAAQ,EAAE;UACRrB,QAAO,EAAPA;QADQ,CADE;QAGTsB,aAAa,EAAE;UAChBtB,QAAO,EAAPA;QADgB,CAHN;QAMZuB,WAAW,EAAE;UACXvB,QAAQ,EAARA,QADW;UACFwB,aAAa,EAAC,KAAKC;QADjB,CAND;QAQTC,MAAM,EAAE;UACT1B,QAAQ,EAARA,QADS;UAETC,SAAS,EAAEA,SAAS,CAAC,CAAD,CAFX;UAGT0B,KAAK,EAAE;YACLC,IAAI,EAAE;cAEJ3B,SAAS,EAAEA,SAAS,CAAC,CAAD;YAFhB;UADD;QAHE;MARC;IATT,CAAP;EA6BD,CAnDY;EAoDb4B,IApDa,kBAoDN;IACL,OAAO;MACLC,SAAS,EAAE,KADN;MAELC,SAAS,EAAC,EAFL;MAGLX,YAAY,EAAE;QACZC,QAAQ,EAAE,EADE;QAEZC,aAAa,EAAE,EAFH;QAGZC,WAAW,EAAE,EAHD;QAIZS,YAAY,EAAE,KAAKC,MAAL,CAAYC,MAAZ,CAAmBC,EAJrB;QAKZT,MAAM,EAAE,CACN;UAAEE,IAAI,EAAE;QAAR,CADM;MALI,CAHT;MAYLX,uBAAuB,EAAE;QACvBC,gBAAgB,EAAE,EADK;QAEvBC,OAAO,EAAE,EAFc;QAGvBa,YAAY,EAAE,KAAKC,MAAL,CAAYC,MAAZ,CAAmBC;MAHV,CAZpB;MAiBLC,mBAAmB,EAAE,EAjBhB;MAkBLC,SAAS,EAAE,EAlBN;MAmBLC,IAAI,EAAE;IAnBD,CAAP;EAqBD,CA1EY;EA2EbC,OAAO,EAAE;IACPC,QADO,oBACEC,KADF,EACSC,SADT,EACoB;MAEzBA,SAAS,CAACC,IAAV,CAAe;QAAEf,IAAI,EAAE;MAAR,CAAf;IACD,CAJM;IAKPgB,WALO,uBAKKC,KALL,EAKYH,SALZ,EAKuB;MAC5BA,SAAS,CAACI,MAAV,CAAiBD,KAAjB,EAAwB,CAAxB;IACD,CAPM;IAQDE,4BARC,0CAQ8B;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBACnC,KAAI,CAAC1C,EAAL,CAAQ2C,MAAR;;gBADmC,IAE9B,KAAI,CAAC3C,EAAL,CAAQY,uBAAR,CAAgCgC,QAFF;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAGA/C,2BAA2B,CAACgD,sBAA5B,CAAmD,KAAI,CAACjC,uBAAxD,CAHA;;cAAA;gBAGjC,KAAI,CAACmB,mBAH4B;;gBAIjC,KAAI,CAAC/B,EAAL,CAAQY,uBAAR,CAAgCC,gBAAhC,CAAiDiC,MAAjD;;gBACA,KAAI,CAAC9C,EAAL,CAAQY,uBAAR,CAAgCE,OAAhC,CAAwCgC,MAAxC;;cALiC;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAOpC,CAfM;IAgBDC,kBAhBC,gCAgBoB;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACzB,MAAI,CAAC/C,EAAL,CAAQ2C,MAAR;;gBADyB,IAGpB,MAAI,CAAC3C,EAAL,CAAQe,YAAR,CAAqB6B,QAHD;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAIA9C,gBAAgB,CAACkD,WAAjB,CAA6B,MAAI,CAACjC,YAAlC,CAJA;;cAAA;gBAIjBC,QAJiB;gBAKvB,MAAI,CAACD,YAAL,CAAkBC,QAAlB,GAA6B,EAA7B;gBACA,MAAI,CAACD,YAAL,CAAkBkC,OAAlB,GAA4B,EAA5B;gBACA,MAAI,CAAClC,YAAL,CAAkBmC,SAAlB,GAA8B,EAA9B;gBACA,MAAI,CAACnC,YAAL,CAAkBM,MAAlB,GAA2B,CAAC;kBAAEE,IAAI,EAAE;gBAAR,CAAD,CAA3B;;gBACA,MAAI,CAACvB,EAAL,CAAQe,YAAR,CAAqB+B,MAArB;;gBACA,MAAI,CAACd,SAAL,CAAeM,IAAf,CAAoBtB,QAApB;;cAVuB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAY1B,CA5BM;IA6BDb,eA7BC,6BA6BiB;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACWN,2BAA2B,CAACsD,sBAA5B,CAAmD,MAAI,CAACvB,MAAL,CAAYC,MAAZ,CAAmBC,EAAtE,CADX;;cAAA;gBACtB,MAAI,CAACC,mBADiB;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEvB,CA/BM;IAgCD3B,YAhCC,0BAgCc;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACIN,gBAAgB,CAACM,YAAjB,CAA8B,MAAI,CAACwB,MAAL,CAAYC,MAAZ,CAAmBC,EAAjD,CADJ;;cAAA;gBACnB,MAAI,CAACE,SADc;gBAEnB,MAAI,CAACP,SAAL,GAAiB,MAAI,CAACO,SAAL,CAAeoB,IAAf,CAAoB,iBAAM,EAAK;kBAC9C,IAAIC,OAAO,CAAC3C,MAAR,KAAmB,UAAnB,IAAiC2C,OAAO,CAAC3C,MAAR,KAAmB,IAAxD,EAA8D;oBAC5D,OAAO,IAAP;kBACF;;kBACA,OAAO,KAAP;gBACD,CALgB,CAAjB;;cAFmB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAQpB,CAxCM;IAyCP4C,wBAzCO,oCAyCkBxB,EAzClB,EAyCsB;MAC3B,KAAKG,IAAL,GAAY,CAAC,KAAKA,IAAlB;MACA,IAAMsB,wBAAuB,GAAI,KAAKC,KAAL,CAAWC,KAAX,CAAiB;QAChDC,WAAW,EAAE;UACXC,aAAa,EAAE,wBADJ;UAEXC,YAAY,EAAE;QAFH,CADmC;QAKhDC,cAAc,EAAE;MALgC,CAAjB,CAAjC;MAQAN,wBAAwB,CAACO,IAAzB,CAA8B;QAC5BC,KAAK,EAAE,eADqB;QAE5BxC,IAAI,EAAE,8BAFsB;QAG5ByC,IAAI,EAAE,SAHsB;QAI5BC,gBAAgB,EAAE,IAJU;QAK5BC,iBAAiB,EAAE,eALS;QAM5BC,gBAAgB,EAAE,SANU;QAO5BC,SAAS,EAAE;UACTC,KAAK,EAAE;QADE,CAPiB;QAU5BC,SAAS,EAAE;UACTD,KAAK,EAAE;QADE;MAViB,CAA9B,EAcGE,IAdH,CAcQ,UAACC,UAAD,EAAgB;QACpB,IAAIA,UAAU,CAACC,WAAf,EAA4B;UAC1B5E,2BAA2B,CAACyD,wBAA5B,CAAqDxB,EAArD,EACGyC,IADH,CACQ,kBAAO,EAAK;YAChBhB,wBAAwB,CAACO,IAAzB,CAA8B;cAC5BC,KAAK,EAAE,UADqB;cAE5BxC,IAAI,EAAE,eAFsB;cAG5ByC,IAAI,EAAE,SAHsB;cAI5BI,SAAS,EAAE;gBACTC,KAAK,EAAE;cADE,CAJiB;cAO5BC,SAAS,EAAE;gBACTD,KAAK,EAAE;cADE;YAPiB,CAA9B;YAWAK,QAAQ,CAACC,MAAT;UACD,CAdH,WAeS,eAAI,EAAK;YACdC,OAAO,CAACC,GAAR,CAAYC,KAAZ;UACD,CAjBH;QAoBF;MACD,CArCH;IAsCD,CAzFM;IA0FDC,4BA1FC,0CA0F8B;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBACnC,MAAI,CAAC/E,EAAL,CAAQ2C,MAAR;;gBADmC,IAE9B,MAAI,CAAC3C,EAAL,CAAQY,uBAAR,CAAgCgC,QAFF;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAGA/C,2BAA2B,CAACmF,yBAA5B,CAAsD,MAAI,CAACpE,uBAA3D,EAAoF,MAAI,CAACmB,mBAAL,CAAyBD,EAA7G,CAHA;;cAAA;gBAGjC,MAAI,CAACC,mBAH4B;;gBAIjC,MAAI,CAAC/B,EAAL,CAAQY,uBAAR,CAAgCC,gBAAhC,CAAiDiC,MAAjD;;gBACA,MAAI,CAAC9C,EAAL,CAAQY,uBAAR,CAAgCE,OAAhC,CAAwCgC,MAAxC;;cALiC;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAOpC,CAjGM;IAkGH1B,aAlGG,2BAkGY;MACjB,IAAM0D,KAAI,GAAKG,QAAQ,CAAC,KAAKlE,YAAL,CAAkBE,aAAnB,CAAR,GAA4CgE,QAAQ,CAAC,KAAKlE,YAAL,CAAkBG,WAAnB,CAAnE;MACA0D,OAAO,CAACC,GAAR,CAAYC,KAAZ;MACA,IAAG,CAACA,KAAJ,EAAU,KAAKpD,SAAL,GAAiB,8CAAjB,CAAV,KACK,KAAKA,SAAL,GAAiB,EAAjB;MACL,OAAOoD,KAAP;IACD,CAxGM;IAyGDI,cAzGC,4BAyGgB;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACf3B,wBADe,GACY,MAAI,CAACC,KAAL,CAAWC,KAAX,CAAiB;kBAChDC,WAAW,EAAE;oBACXC,aAAa,EAAE,wBADJ;oBAEXC,YAAY,EAAE;kBAFH,CADmC;kBAKhDC,cAAc,EAAE;gBALgC,CAAjB,CADZ;gBAQrBN,wBAAwB,CAACO,IAAzB,CAA8B;kBAC5BC,KAAK,EAAE,eADqB;kBAE5BxC,IAAI,EAAE,kFAFsB;kBAG5ByC,IAAI,EAAE,SAHsB;kBAI5BC,gBAAgB,EAAE,IAJU;kBAK5BC,iBAAiB,EAAE,mBALS;kBAM5BC,gBAAgB,EAAE,SANU;kBAO5BC,SAAS,EAAE;oBACTC,KAAK,EAAE;kBADE,CAPiB;kBAU5BC,SAAS,EAAE;oBACTD,KAAK,EAAE;kBADE;gBAViB,CAA9B,EAcGE,IAdH,CAcQ,UAACC,UAAD,EAAgB;kBACpB,IAAIA,UAAU,CAACC,WAAf,EAA4B;oBAC1B3E,gBAAgB,CAACqF,aAAjB,CAA+B,MAAI,CAACvD,MAAL,CAAYC,MAAZ,CAAmBC,EAAlD,EACGyC,IADH,CACQ,kBAAO,EAAK;sBAChBhB,wBAAwB,CAACO,IAAzB,CAA8B;wBAC5BC,KAAK,EAAE,YADqB;wBAE5BxC,IAAI,EAAE,uBAFsB;wBAG5ByC,IAAI,EAAE,SAHsB;wBAI5BI,SAAS,EAAE;0BACTC,KAAK,EAAE;wBADE,CAJiB;wBAO5BC,SAAS,EAAE;0BACTD,KAAK,EAAE;wBADE;sBAPiB,CAA9B;sBAWA,MAAI,CAAC5C,SAAL,GAAiB,KAAjB;oBACD,CAdH,WAeS,eAAI,EAAK;sBACdmD,OAAO,CAACC,GAAR,CAAYC,KAAZ;oBACD,CAjBH;kBAmBF;gBACD,CApCH;;cARqB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IA8CtB;EAvJM;AA3EI,CAAf","names":["useVuelidate","ListQuestion","required","minLength","generalInformationsServices","questionServices","setup","v$","name","mounted","getInformations","getQuestions","components","props","book","type","Object","status","validations","generalInfromationsform","general_question","summary","questionForm","question","starting_page","ending_page","valdiatePages","validatePages","quotes","$each","text","data","auditable","pageError","user_book_id","$route","params","id","generalInformations","questions","show","methods","addField","value","fieldType","push","removeField","index","splice","submitGenralInformationsForm","$touch","$invalid","addGeneralInformations","$reset","submitQuestionForm","addQuestion","pageEnd","pageStart","getGeneralInformations","some","element","deleteGeneralInformation","swalWithBootstrapButtons","$swal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","icon","showCancelButton","confirmButtonText","cancelButtonText","showClass","popup","hideClass","then","willDelete","isConfirmed","location","reload","console","log","error","updateGenralInformationsForm","updateGeneralInformations","parseInt","auditQuestions","auditQuestion"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\views\\SocailMain\\Profile\\ProfileElements\\Stage2.vue"],"sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"col-md-2\">\n      <tab-nav :pills=\"true\" id=\"tab\" class=\"nav nav-pills basic-info-items list-inline d-block p-0 m-0\">\n        <tab-nav-items :active=\"true\" id=\"go-to-general-idea\" href=\"#general-idea\" ariaControls=\"general-idea\"\n          role=\"tab\" :ariaSelected=\"true\" title=\"ØªÙ„Ø®ÙŠØµ Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© ÙˆØ§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ù…\" />\n\n        <tab-nav-items :active=\"false\" id=\"go-to-questions\" href=\"#questions\" ariaControls=\"questions\" role=\"tab\"\n          :ariaSelected=\"true\" title=\"Ø£Ø³Ø¦Ù„Ø© Ù…Ø¹Ø±ÙÙŠØ© \" />\n      </tab-nav>\n\n    </div>\n\n    <div class=\"col-md-1\">\n    </div>\n    <div class=\"col-md-9\">\n      <div class=\"tab-content\">\n        <!-- START GENERAL IDEA -->\n        <tab-content-item :active=\"true\" id=\"general-idea\" aria-labelled-by=\"general-idea\">\n          <h4>ÙƒÙŠÙ Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ø®Ù„Øµ Ø§Ù„Ø¹Ø§Ù…ØŒ ÙˆÙƒÙŠÙ Ø£Ø­Ø¯Ø¯ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ù… </h4>\n          <hr>\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <p>\n                Ù„ÙƒÙ„ Ù…Ø§Ø¯Ø© Ù…Ù‚Ø±ÙˆØ¡Ø© (ÙƒØªØ§Ø¨) Ù‡Ù†Ø§Ùƒ Ø³Ø¤Ø§Ù„Ù‹Ø§ Ø¹Ø§Ù…Ù‹Ø§ ÙŠØ³Ø¹Ù‰ Ø§Ù„ÙƒØªØ§Ø¨ Ù„Ù†Ù‚Ø§Ø´Ù‡ØŒ ÙˆÙ…Ù†Ù‡ ÙŠØªÙØ±Ø¹ Ø§Ù„ÙƒØªØ§Ø¨ Ø¹Ù„Ù‰ Ø´ÙƒÙ„ ÙØµÙˆÙ„ Ø£Ø³Ø§Ø³ÙŠØ© ÙˆÙ…Ù†\n                Ø«Ù… Ù…Ø¨Ø§Ø­Ø« Ø¯Ø§Ø®Ù„ ÙƒÙ„ ÙØµÙ„. Ø¹Ù†Ø¯ Ø´Ø±ÙˆØ¹Ùƒ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ÙƒØªØ§Ø¨ØŒ Ø¹Ù„ÙŠÙƒ Ø§Ù„Ù…Ø±ÙˆØ± Ø¹Ù„Ù‰ Ù…Ù‚Ø¯Ù…Ø© Ø§Ù„Ù…Ø¤Ù„Ù ÙˆÙ…Ø­Ø§ÙˆÙ„Ø© Ù…Ø¹Ø±ÙØ© (Ø§Ù„Ø³Ø¤Ø§Ù„\n                Ø§Ù„Ø¹Ø§Ù…) Ø§Ù„Ø°ÙŠ ÙŠØ³Ø¹Ù‰ Ø§Ù„ÙƒØªØ§Ø¨ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù†Ù‡.\n                <br />\n                Ø£Ù…Ø«Ù„Ø© ğŸ‘‡ğŸ»\n                <br />\n                ÙƒØªØ§Ø¨ Ø£ØºÙ†Ù‰ Ø±Ø¬Ù„ ÙÙŠ Ø¨Ø§Ø¨Ù„ = ÙŠØ¯ÙˆØ± Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ù… Ø­ÙˆÙ„ ÙƒÙŠÙÙŠØ© ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ø«Ø±ÙˆØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ù„Ù„ÙØ±Ø¯ âœ…\n                <br />\n                ÙƒØªØ§Ø¨ Ø³ÙŠÙƒÙˆÙ„ÙˆØ¬ÙŠØ© Ø§Ù„Ø¬Ù…Ø§Ù‡ÙŠØ± = ÙŠØ¯ÙˆØ± Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ù… ÙÙŠ Ø§Ù„ÙƒØªØ§Ø¨ Ø­ÙˆÙ„ Ù‚Ø¯Ø±Ø© Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø¬Ù…Ø§Ù‡ÙŠØ± ÙˆØ§Ù„Ø´Ø¹ÙˆØ¨\n                Ù…Ù† Ø§Ù„Ù†Ø§Ø­ÙŠØ© Ø§Ù„Ø³ÙƒÙˆÙ„ÙˆØ¬ÙŠØ© âœ…\n                <br />\n\n                ÙˆÙ…Ù† Ø¬Ø§Ù†Ø¨ Ø¢Ø®Ø±ØŒ Ù„ÙƒÙ„ Ù…Ø§Ø¯Ø© Ù…Ù‚Ø±ÙˆØ¡Ø© (ÙƒØªØ§Ø¨) Ù‡Ù†Ø§Ùƒ ØªÙ„Ø®ÙŠØµ Ø¹Ø§Ù… Ù„Ù„Ø£ÙÙƒØ§Ø± Ø§Ù„Ø¹Ø§Ù…Ø© ÙˆØ§Ù„Ù…Ø­Ø§ÙˆØ± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø§Ù„ØªÙŠ ÙŠØ¯ÙˆØ± Ø­ÙˆÙ„Ù‡Ø§\n                Ø§Ù„ÙƒØªØ§Ø¨. ÙÙŠØ¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø±Ø¦ Ø£Ù† ÙŠØ³ØªØ·ÙŠØ¹ Ø¯Ø§Ø¦Ù…Ù‹Ø§ ØªÙ‚Ø¯ÙŠÙ… Ù…Ù„Ø®Øµ Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨ØŒ ÙˆÙŠØ³ØªØ­Ø³Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£ÙÙƒØ§Ø± Ø§Ù„ÙƒØ§ØªØ¨ ÙˆØ§Ù„ÙØ§Ø¸Ù‡\n                Ø¨Ø§ØºØªØ¶Ø§Ø¨ Ù„ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ù…Ù„Ø®ØµØŒ Ù„Ø§ ØªÙ‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ø£ÙÙƒØ§Ø±Ùƒ ÙˆØ§Ø¹ØªÙ‚Ø§Ø¯Ø§ØªÙƒ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø®Ù„ØµØŒ Ø³ØªÙØ¹Ù„ Ø°Ù„Ùƒ Ø­ÙŠÙ† ØªÙƒØªØ¨ Ø§Ù„Ø£Ø·Ø±ÙˆØ­Ø© Ø­ÙŠÙ† ØªÙ…Ø²Ø¬\n                Ù…Ù„Ø®Øµ Ø§Ù„ÙƒØ§ØªØ¨ Ù…Ø¹ Ø£ÙÙƒØ§Ø±Ùƒ ÙˆØ¥Ø³Ù‚Ø§Ø·Ø§ØªÙƒ Ø§Ù„ÙÙƒØ±ÙŠØ© ÙˆÙ…Ø®Ø²ÙˆÙ†Ùƒ Ø§Ù„Ù…Ø¹Ø±ÙÙŠ ÙˆÙ…Ù‚Ø§Ø±Ù†ØªÙ‡ Ù…Ø¹ Ø§Ù„ÙƒØªØ§Ø¨.\n              </p>\n            </div>\n          </div>\n          <div v-if=\"generalInformations\" class=\"d-flex align-items-center mt-3\">\n            <div class=\"post-text ml-3 w-100 row\">\n              <div class=\"row\">\n                <div class=\"w-100\">\n                  <p class=\"mb-0 text-primary\" v-if=\"generalInformations.degree\">Ø§Ù„ØªÙ‚ÙŠÙŠÙ… || {{\n                  generalInformations.degree }}</p>\n                  <div class=\"alert alert-success w-100\" v-if=\"generalInformations.reviews\">\n                    {{ generalInformations.reviews }}\n                  </div>\n                </div>\n\n                <div class=\"col-md-12 form-group\">\n                  <div class=\"card-post-toolbar text-end\"\n                    v-if=\"generalInformations.status == null || generalInformations.status == 'rejected'\">\n                    <div class=\"dropdown-toggle\" id=\"dropdownMenuButton\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\"\n                      role=\"button\" @click=\"show = !show\">\n                      <span class=\"material-symbols-outlined\">\n                        more_horiz\n                      </span>\n                    </div>\n                    <div :class=\"`dropdown-menu dropdown-menu-right ${show ? 'show' : ''}`\"\n                      aria-labelledby=\"dropdownMenuButton\" style=\"\">\n                      <a class=\"dropdown-item d-flex align-items-center\" data-bs-toggle=\"modal\" data-bs-target=\"#modals\"\n                        @click=\"show = !show\">\n                        <span class=\"material-symbols-outlined me-2 md-18\">\n                          edit\n                        </span>\n                        ØªØ¹Ø¯ÙŠÙ„\n                      </a>\n                      <a class=\"dropdown-item d-flex align-items-center\"\n                        @click=\"deleteGeneralInformation(generalInformations.id)\">\n                        <span class=\"material-symbols-outlined me-2 md-18\">\n                          delete\n                        </span>\n                        Ø­Ø°Ù\n                      </a>\n                    </div>\n\n                  </div>\n                  <div class=\"col-md-12 form-group\">\n                    <h4 class=\"form-label\"> Ø§Ù„ØªÙ„Ø®ÙŠØµ Ø§Ù„Ø¹Ø§Ù…</h4>\n                    <p class=\"form-control-plaintext\">{{ generalInformations.summary }}</p>\n                  </div>\n\n                </div>\n                <div class=\"col-md-12 form-group\">\n                  <div class=\"col-md-12 form-group\">\n                    <h4 class=\"form-label\"> Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ù… </h4>\n                    <p class=\"form-control-plaintext\">{{ generalInformations.general_question }}</p>\n                  </div>\n\n                </div>\n              </div>\n\n            </div>\n\n          </div>\n\n          <div v-else class=\"d-flex align-items-center mt-3\">\n            <form @submit.prevent=\"submitGenralInformationsForm\" class=\"post-text ml-3 w-100 row\">\n              <div class=\"form-group\">\n                <label class=\"form-label\" for=\"bookGeneralIdea\">Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ø¹Ø§Ù…Ø©</label>\n                <textarea v-model=\"v$.generalInfromationsform.summary.$model\" rows=\"5\" placeholder=\"... Ø§ÙƒØªØ¨ ÙÙƒØ±Ø© Ø¹Ø§Ù…Ø©\"\n                  class=\"rounded form-control\" id=\"bookGeneralIdea\"></textarea>\n                <small style=\"color:red;\" v-if=\"v$.generalInfromationsform.summary.$error\">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù‚Ù… Ø¨Ø§Ø¯Ø®Ø§Ù„ Ù…Ù„Ø®Øµ\n                  Ø§Ù„ÙƒÙ†Ø§Ø¨</small>\n              </div>\n              <div class=\"form-group\">\n                <label class=\"form-label\" for=\"bookGeneralQuestion\">Ø³Ø¤Ø§Ù„ Ø¹Ø§Ù… </label>\n                <textarea v-model=\"v$.generalInfromationsform.general_question.$model\" rows=\"5\"\n                  placeholder=\"... Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ù‹Ø§ Ø¹Ø§Ù…Ø§Ù‹\" class=\"rounded form-control\" id=\"bookGeneralQuestion\"></textarea>\n                <small style=\"color:red;\" v-if=\"v$.generalInfromationsform.general_question.$error\">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù‚Ù… Ø¨Ø§Ø¯Ø®Ø§Ù„\n                  Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ù…</small>\n              </div>\n\n              <input type=\"submit\" value=\"Ø£Ø¶Ø§ÙØ©\" href=\"javascript:void(0);\" class=\"btn btn-primary d-block mt-3\" />\n            </form>\n\n          </div>\n          <modal id=\"modals\" dialogClass=\"modal-fullscreen-sm-down\" tabindex=\"-1\" title=\"Create Post\"\n            aria-labelledby=\"modalsLabel\" :aria-hidden=\"true\">\n            <model-header>\n              <h5 class=\"modal-title\" id=\"modalsLabel\">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØªÙ„Ø®ÙŠØµ ÙˆØ§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ù…</h5>\n              <a href=\"javascript:void(0);\" class=\"lh-1\" data-bs-dismiss=\"modal\">\n                <span class=\"material-symbols-outlined\">close</span>\n              </a>\n            </model-header>\n            <model-body>\n              <form @submit.prevent=\"updateGenralInformationsForm\" class=\"post-text ml-3 w-100 row\">\n                <div class=\"form-group\">\n                  <label class=\"form-label\" for=\"bookGeneralIdea\">Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ø¹Ø§Ù…Ø©</label>\n                  <textarea v-model=\"v$.generalInfromationsform.summary.$model\" rows=\"5\"\n                    placeholder=\"... Ø§ÙƒØªØ¨ ÙÙƒØ±Ø© Ø¹Ø§Ù…Ø©\" class=\"rounded form-control\" id=\"bookGeneralIdea\"></textarea>\n                  <small style=\"color:red;\" v-if=\"v$.generalInfromationsform.summary.$error\">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù‚Ù… Ø¨Ø§Ø¯Ø®Ø§Ù„ Ù…Ù„Ø®Øµ\n                    Ø§Ù„ÙƒÙ†Ø§Ø¨</small>\n                </div>\n                <div class=\"form-group\">\n                  <label class=\"form-label\" for=\"bookGeneralQuestion\">Ø³Ø¤Ø§Ù„ Ø¹Ø§Ù… </label>\n                  <textarea v-model=\"v$.generalInfromationsform.general_question.$model\" rows=\"5\"\n                    placeholder=\"... Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ù‹Ø§ Ø¹Ø§Ù…Ø§Ù‹\" class=\"rounded form-control\"\n                    id=\"bookGeneralQuestion\"></textarea>\n                  <small style=\"color:red;\" v-if=\"v$.generalInfromationsform.general_question.$error\">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù‚Ù… Ø¨Ø§Ø¯Ø®Ø§Ù„\n                    Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ù…</small>\n                </div>\n\n                <input type=\"submit\" value=\"ØªØ¹Ø¯ÙŠÙ„\" href=\"javascript:void(0);\" class=\"btn btn-primary d-block mt-3\" />\n              </form>\n\n            </model-body>\n          </modal>\n\n\n\n        </tab-content-item>\n        <!-- END GENERAL IDEA -->\n\n        <!-- START QUESTIONS -->\n        <tab-content-item :active=\"false\" id=\"questions\" aria-labelled-by=\"questions\">\n          <h4>ÙƒÙŠÙ Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ù‹Ø§ Ù…Ø¹Ø±ÙÙŠØ§</h4>\n          <hr>\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <p>\n                Ø¨Ø¹Ø¯ ØªØ­Ø¯ÙŠØ¯Ùƒ Ù„Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø°ÙŠ ÙŠØ³Ø¹Ù‰ Ø§Ù„ÙƒØ§ØªØ¨ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù†Ù‡ Ù…Ù† Ø®Ù„Ø§Ù„ ÙƒØªØ§Ø¨Ù‡ØŒ ÙØ¥Ù†Ùƒ Ù„Ø§Ø¨Ø¯ Ù‚Ø¯ Ù„Ø§Ø­Ø¸Øª ÙˆØ¬ÙˆØ¯ Ø£Ø³Ø¦Ù„Ø© ÙØ±Ø¹ÙŠØ©\n                Ø¯Ø§Ø®Ù„ ÙƒÙ„ ÙØµÙ„ Ù…Ù† ÙØµÙˆÙ„ Ø§Ù„ÙƒØªØ§Ø¨. Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙŠØ¬ÙŠØ¨ Ø¹Ù†Ù‡Ø§ Ø§Ù„ÙØµÙ„ Ø§Ù„Ù…Ø­Ø¯Ø¯ØŒ ÙˆØ­ÙŠÙ† ØªØ¬ØªÙ…Ø¹ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ø£Ø¬ÙˆØ¨ØªÙ‡Ø§ ÙØ¥Ù†Ù‡Ø§\n                ØªÙ‚ÙˆØ¯Ùƒ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ù… ÙˆØµÙ†Ø§Ø¹Ø© Ø§Ù„Ù…Ø®Ù„Øµ Ø§Ù„Ø¹Ø§Ù… Ù„Ù„ÙƒØªØ§Ø¨.\n              </p>\n            </div>\n          </div>\n          <div v-if=\"(questions.length < 12 && status == 'stage_two' && auditable) || questions.length==0\" class=\"d-flex align-items-center mt-3\">\n            <form @submit.prevent=\"submitQuestionForm\" class=\"post-text ml-3 w-100 row\">\n              <div class=\"form-group col-6\">\n                <select v-model=\"v$.questionForm.starting_page.$model\" class=\"form-select\" data-trigger\n                  name=\"choices-single-default\" id=\"choices-single-default\">\n                  <option value=\"\">Ø§Ø®ØªØ± ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</option>\n                  <option v-for=\"(i, index) in book.pages\" :key=\"index\" :value=\"i\">\n                    {{ i }}\n                  </option>\n                </select>\n                <small style=\"color: red\" v-if=\"v$.questionForm.starting_page.$error\"\n                >{{pageError ? pageError :' Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù‚Ù… Ø¨Ø§Ø¯Ø®Ø§Ù„ ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©'}}</small\n              >\n              </div>\n              <div class=\"form-group col-6\">\n\n                <select class=\"form-select\" v-model=\"v$.questionForm.ending_page.$model\" data-trigger\n                  name=\"choices-single-default\" id=\"choices-single-default\">\n                  <option value=\"\">Ø§Ø®ØªØ± ØµÙØ­Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ©</option>\n                  <option v-for=\"(i, index) in book.pages\" :key=\"index\" :value=\"i\">\n                    {{ i }}\n                  </option>\n                </select>\n           <small style=\"color: red\" v-if=\"v$.questionForm.ending_page.$error\"\n                >{{pageError ? pageError :' Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù‚Ù… Ø¨Ø§Ø¯Ø®Ø§Ù„ ØµÙØ­Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ©'}}</small\n              >\n              </div>\n\n              <div class=\"form-group\">\n                <textarea rows=\"5\" placeholder=\"... Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ù‹Ø§ \" class=\"rounded form-control\" id=\"bookQuestion\"\n                  v-model=\"v$.questionForm.question.$model\"></textarea>\n                <small style=\"color:red;\" v-if=\"v$.questionForm.question.$error\">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù‚Ù… Ø¨Ø§Ø¯Ø®Ø§Ù„ Ø§Ù„Ø³Ø¤Ø§Ù„ </small>\n              </div>\n              <div>\n                <h4>ÙƒÙŠÙ Ø£Ø­Ø¯Ø¯ Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³Ø§Øª</h4>\n                <hr>\n                <div class=\"col-12\">\n                  <p>\n                    ÙŠØ¹ØªØ¨Ø± Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³ Ù…Ù† Ø§Ù„Ù…Ø­Ø³Ù†Ø§Øª Ø§Ù„Ù„ÙØ¸ÙŠØ©ØŒ ÙˆÙ‡Ùˆ Ø­ÙØ¸Ùƒ Ù„Ù„Ø£Ù‚ÙˆØ§Ù„ Ø§Ù„Ù…Ø£Ø«ÙˆØ±Ø© Ø¹Ù† Ø§Ù„Ø´Ø®ØµÙŠØ§Øª Ø§Ù„Ù…Ø¹Ø±ÙˆÙØ© ÙˆØ£Ù‚ÙˆØ§Ù„Ù‡Ù…ØŒ ÙˆØ®Ù„Ø§Ù„\n                    Ø§Ù„ÙƒØªØ§Ø¨ Ø³ØªØ¬Ø¯ Ø£Ù† Ù‡Ù†Ø§Ùƒ Ø¬Ù…Ù„ Ù…Ù‡Ù…Ø© Ø¬Ø¯Ø§ ØªÙ„Ø®Øµ Ø£ÙÙƒØ§Ø±Ù‹Ø§ Ø£Ø³Ø§Ø³ÙŠØ© ÙÙŠ Ø§Ù„ÙƒØªØ§Ø¨. Ù‚Ù… Ø¨ØªØ­Ø¯ÙŠØ¯ Ø£Ù‡Ù… Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³Ø§Øª Ø¯Ø§Ø®Ù„ Ù‡Ø°Ø§\n                    Ø§Ù„ÙƒØªØ§Ø¨ Ù„ØªÙ‚ÙˆÙ… Ø¨Ø­ÙØ¸Ù‡Ø§ ÙÙ‡ÙŠ ØªØ³Ø§Ø¹Ø¯Ùƒ Ø¹Ù„Ù‰ Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø¹Ø±ÙÙŠØ© ÙˆØªØ¹ÙŠÙ†Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ´Ù‡Ø§Ø¯ Ø¨Ù‡Ø§ Ù„Ø¥Ø«Ø¨Ø§Øª ÙˆØ¬Ù‡Ø© Ù†Ø¸Ø±\n                    Ø§Ù„ÙƒØ§ØªØ¨ </p>\n                </div>\n              </div>\n              <div class=\"form-group\">\n\n                <textarea rows=\"5\" placeholder=\"... Ø§ÙƒØªØ¨ Ø§Ù‚ØªØ¨Ø§Ø³Ù‹Ø§ \" v-for=\"(v,index) in questionForm.quotes\"\n                  :key=\"index\" class=\"rounded form-control mt-2\" id=\"bookQuote\" v-model=\"v.text\">\n                </textarea>\n                <small style=\"color:red;\" v-if=\"v$.questionForm.question.$error\">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù‚Ù… Ø¨Ø§Ø¯Ø®Ø§Ù„ Ø§Ù‚ØªØ¨Ø§Ø³ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ù‚Ù„\n                </small>\n                <hr>\n                <a class=\"btn btn-primary rounded-pill mb-3 me-1\" @click=\"addField(textarea, questionForm.quotes)\">\n                  Ø§Ø¶Ø§ÙØ© Ø§Ù‚ØªØ¨Ø§Ø³\n                </a>\n                <a class=\"btn btn-danger rounded-pill mb-3 me-1\"\n                  v-show=\"questionForm.quotes && questionForm.quotes.length > 1\"\n                  @click=\"removeField(index, questionForm.quotes)\">\n                  Ø­Ø°Ù Ø§Ù‚ØªØ¨Ø§Ø³\n                </a>\n\n\n              </div>\n              <input type=\"submit\" value=\"Ø£Ø¶Ø§ÙØ©\" href=\"javascript:void(0);\" class=\"btn btn-primary d-block mt-3\" />\n            </form>\n          </div>\n          <hr />\n          <div v-for=\"(question,index) in questions\" :key=\"question.id\">\n            <ListQuestion :question=\"question\" :index='index' :book=\"book\" />\n          </div>\n          <iq-card v-if=\"questions.length >= 5 && auditable && status!='finished'\">\n            <template v-slot:body>\n              <button class=\"btn btn-primary d-block w-100\" @click=\"auditQuestions\">Ø·Ù„Ø¨ ØªØ¯Ù‚ÙŠÙ‚</button>\n            </template>\n          </iq-card>\n        </tab-content-item>\n        <!-- END QUESTIONS -->\n\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n\n\nimport useVuelidate from \"@vuelidate/core\";\nimport ListQuestion from '../../../../components/Questions/ListQuestion.vue'\nimport { required, minLength } from \"@vuelidate/validators\";\nimport generalInformationsServices from '../../../../api/generalInformationsServices'\nimport questionServices from '../../../../api/questionServices'\n\nexport default {\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  name: 'Stage2',\n  mounted() {\n    this.getInformations();\n    this.getQuestions();\n  },\n  components: {\n    ListQuestion,\n  },\n  props: {\n    book: {\n      type: [Object],\n      required: true,\n    }, status: {\n      required: true\n    }\n\n  },\n  validations() {\n    return {\n      generalInfromationsform: {\n        general_question: {\n          required\n        },\n        summary: {\n          required\n        },\n      },\n      questionForm: {\n        question: {\n          required\n        }, starting_page: {\n          required \n        },\n        ending_page: {\n          required,valdiatePages:this.validatePages\n        }, quotes: {\n          required,\n          minLength: minLength(1),\n          $each: {\n            text: {\n\n              minLength: minLength(2)\n            }\n          }\n        }\n      }\n    };\n  },\n  data() {\n    return {\n      auditable: false,\n      pageError:'',\n      questionForm: {\n        question: '',\n        starting_page: \"\",\n        ending_page: \"\",\n        user_book_id: this.$route.params.id,\n        quotes: [\n          { text: '' }\n        ]\n      },\n      generalInfromationsform: {\n        general_question: '',\n        summary: '',\n        user_book_id: this.$route.params.id,\n      },\n      generalInformations: [],\n      questions: [],\n      show: false,\n    }\n  },\n  methods: {\n    addField(value, fieldType) {\n\n      fieldType.push({ text: \"\" });\n    },\n    removeField(index, fieldType) {\n      fieldType.splice(index, 1);\n    },\n    async submitGenralInformationsForm() {\n      this.v$.$touch();\n      if (!this.v$.generalInfromationsform.$invalid) {\n        this.generalInformations = await generalInformationsServices.addGeneralInformations(this.generalInfromationsform);\n        this.v$.generalInfromationsform.general_question.$reset()\n        this.v$.generalInfromationsform.summary.$reset()\n      }\n    },\n    async submitQuestionForm() {\n      this.v$.$touch();\n\n      if (!this.v$.questionForm.$invalid) {\n        const question = await questionServices.addQuestion(this.questionForm);\n        this.questionForm.question = \"\";\n        this.questionForm.pageEnd = \"\";\n        this.questionForm.pageStart = \"\";\n        this.questionForm.quotes = [{ text: '' }];\n        this.v$.questionForm.$reset()\n        this.questions.push(question)\n      }\n    },\n    async getInformations() {\n      this.generalInformations = await generalInformationsServices.getGeneralInformations(this.$route.params.id);\n    },\n    async getQuestions() {\n      this.questions = await questionServices.getQuestions(this.$route.params.id);\n      this.auditable = this.questions.some(element => {\n        if (element.status === 'rejected' || element.status === null) {\n          return true;\n        }\n        return false;\n      });\n    },\n    deleteGeneralInformation(id) {\n      this.show = !this.show;\n      const swalWithBootstrapButtons = this.$swal.mixin({\n        customClass: {\n          confirmButton: 'btn btn-primary btn-lg',\n          cancelButton: 'btn btn-outline-primary btn-lg ms-2'\n        },\n        buttonsStyling: false\n      })\n\n      swalWithBootstrapButtons.fire({\n        title: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',\n        text: \"Ù…ÙˆØ§ÙÙ‚ØªÙƒ ØªØ¹Ù†ÙŠ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ \",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Ù†Ø¹Ù… Ù‚Ù… Ø¨Ø§Ù„Ø­Ø°Ù',\n        cancelButtonText: 'ØªØ±Ø§Ø¬Ø¹  ',\n        showClass: {\n          popup: 'animate__animated animate__zoomIn'\n        },\n        hideClass: {\n          popup: 'animate__animated animate__zoomOut'\n        }\n      })\n        .then((willDelete) => {\n          if (willDelete.isConfirmed) {\n            generalInformationsServices.deleteGeneralInformation(id)\n              .then(response => {\n                swalWithBootstrapButtons.fire({\n                  title: 'ØªÙ… Ø§Ù„Ø­Ø°Ù',\n                  text: 'ØªÙ… Ø­Ø°Ù Ø§Ù„Ø³Ø¤Ø§Ù„',\n                  icon: 'success',\n                  showClass: {\n                    popup: 'animate__animated animate__zoomIn'\n                  },\n                  hideClass: {\n                    popup: 'animate__animated animate__zoomOut'\n                  }\n                })\n                location.reload()\n              })\n              .catch(error => {\n                console.log(error)\n              })\n\n\n          }\n        })\n    },\n    async updateGenralInformationsForm() {\n      this.v$.$touch();\n      if (!this.v$.generalInfromationsform.$invalid) {\n        this.generalInformations = await generalInformationsServices.updateGeneralInformations(this.generalInfromationsform, this.generalInformations.id);\n        this.v$.generalInfromationsform.general_question.$reset()\n        this.v$.generalInfromationsform.summary.$reset()\n      }\n    },\n        validatePages(){\n      const error =  parseInt(this.questionForm.starting_page) < parseInt(this.questionForm.ending_page)\n      console.log(error)\n      if(!error)this.pageError = 'ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø§Ù‚Ù„ Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ©'\n      else this.pageError = ''\n      return error;\n    },\n    async auditQuestions() {\n      const swalWithBootstrapButtons = this.$swal.mixin({\n        customClass: {\n          confirmButton: 'btn btn-primary btn-lg',\n          cancelButton: 'btn btn-outline-primary btn-lg ms-2'\n        },\n        buttonsStyling: false\n      })\n      swalWithBootstrapButtons.fire({\n        title: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',\n        text: \"ÙÙŠ Ø­Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ù„Ù„ØªØ¯Ù‚ÙŠÙ‚ Ù„Ù† ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯ Ø£Ùˆ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªÙŠ ÙƒØªØ¨ØªÙ‡Ø§ \",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Ù†Ø¹Ù… Ù‚Ù… Ø¨Ø·Ù„Ø¨ ØªØ¯Ù‚ÙŠÙ‚',\n        cancelButtonText: 'ØªØ±Ø§Ø¬Ø¹  ',\n        showClass: {\n          popup: 'animate__animated animate__zoomIn'\n        },\n        hideClass: {\n          popup: 'animate__animated animate__zoomOut'\n        }\n      })\n        .then((willDelete) => {\n          if (willDelete.isConfirmed) {\n            questionServices.auditQuestion(this.$route.params.id)\n              .then(response => {\n                swalWithBootstrapButtons.fire({\n                  title: 'ØªÙ… Ø§Ù„Ø§Ø±Ø³Ø§Ù„',\n                  text: 'ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ù„Ù„ØªØ¯Ù‚ÙŠÙ‚',\n                  icon: 'success',\n                  showClass: {\n                    popup: 'animate__animated animate__zoomIn'\n                  },\n                  hideClass: {\n                    popup: 'animate__animated animate__zoomOut'\n                  }\n                })\n                this.auditable = false;\n              })\n              .catch(error => {\n                console.log(error)\n              })\n\n          }\n        })\n\n    },\n  },\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}