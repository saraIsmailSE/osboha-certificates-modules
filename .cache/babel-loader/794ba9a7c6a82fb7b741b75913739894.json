{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nexport default {\n  name: \"Chart\",\n  mounted: function mounted() {\n    var env = {\n      options: {\n        drawShadow: true,\n        drawText: true,\n        drawPercentageSign: true,\n        drawBubbles: true,\n        fontSize: \"70px\",\n        fontFamily: \"Arial\",\n        fontFillStyle: \"white\",\n        size: 300,\n        borderWidth: 25,\n        backgroundColor: \"#e2e2e2\",\n        foregroundColor: \"#fafafa\"\n      },\n      context: null,\n      targetContainer: null,\n      time: null,\n      dt: null,\n      currentFillPercentage: 0,\n      fillPercentage: 0,\n      //#region fluid context values\n      foregroundFluidLayer: {\n        fillStyle: \"purple\",\n        angle: 0,\n        horizontalPosition: 0,\n        angularSpeed: 0,\n        maxAmplitude: 9,\n        frequency: 30,\n        horizontalSpeed: -150,\n        initialHeight: 0\n      },\n      backgroundFluidLayer: {\n        fillStyle: \"pink\",\n        angle: 0,\n        horizontalPosition: 0,\n        angularSpeed: 140,\n        maxAmplitude: 12,\n        frequency: 40,\n        horizontalSpeed: 150,\n        initialHeight: 0\n      }\n    };\n    env.targetContainer = document.getElementById(\"fluidDiv\");\n    env.fillPercentage = 90;\n    env.options.fontSize = \"30px\";\n    env.options.drawPercentageSign = true;\n    env.options.drawBubbles = false;\n    env.options.size = 300;\n    env.options.borderWidth = 19;\n    env.options.backgroundColor = \"#e2e2e2\";\n    env.options.foregroundColor = \"#fafafa\";\n    env.foregroundFluidLayer.fillStyle = \"#16E1FF\";\n    env.foregroundFluidLayer.angularSpeed = 30;\n    env.foregroundFluidLayer.maxAmplitude = 5;\n    env.foregroundFluidLayer.frequency = 30;\n    env.foregroundFluidLayer.horizontalSpeed = -20;\n    env.backgroundFluidLayer.fillStyle = \"#4F8FC6\";\n    env.backgroundFluidLayer.angularSpeed = 100;\n    env.backgroundFluidLayer.maxAmplitude = 3;\n    env.backgroundFluidLayer.frequency = 22;\n    env.backgroundFluidLayer.horizontalSpeed = 20;\n    this.init(env);\n    this.setPercentage(90);\n  },\n  created: function created() {},\n  props: {\n    percintage: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      options: {\n        drawShadow: true,\n        drawText: true,\n        drawPercentageSign: true,\n        drawBubbles: true,\n        fontSize: \"70px\",\n        fontFamily: \"Arial\",\n        fontFillStyle: \"white\",\n        size: 300,\n        borderWidth: 25,\n        backgroundColor: \"#e2e2e2\",\n        foregroundColor: \"#fafafa\"\n      },\n      context: null,\n      targetContainer: null,\n      time: null,\n      dt: null,\n      currentFillPercentage: 0,\n      fillPercentage: 0,\n      //#region fluid context values\n      foregroundFluidLayer: {\n        fillStyle: \"purple\",\n        angle: 0,\n        horizontalPosition: 0,\n        angularSpeed: 0,\n        maxAmplitude: 9,\n        frequency: 30,\n        horizontalSpeed: -150,\n        initialHeight: 0\n      },\n      backgroundFluidLayer: {\n        fillStyle: \"pink\",\n        angle: 0,\n        horizontalPosition: 0,\n        angularSpeed: 140,\n        maxAmplitude: 12,\n        frequency: 40,\n        horizontalSpeed: 150,\n        initialHeight: 0\n      }\n    };\n  },\n  methods: {\n    setupCanvas: function setupCanvas() {\n      var canvas = document.createElement('canvas');\n      canvas.width = this.options.size;\n      canvas.height = this.options.size;\n      canvas.imageSmoothingEnabled = true;\n      this.context = canvas.getContext(\"2d\");\n      this.targetContainer.appendChild(canvas); // shadow is not required  to be on the draw loop\n      //#region shadow\n\n      if (this.options.drawShadow) {\n        this.context.save();\n        this.context.beginPath();\n        this.context.filter = \"drop-shadow(0px 4px 6px rgba(0,0,0,0.1))\";\n        this.context.arc(this.options.size / 2, this.options.size / 2, this.getMeterRadius() / 2, 0, 2 * Math.PI);\n        this.context.closePath();\n        this.context.fill();\n        this.context.restore();\n      } //#endregion\n\n    },\n    draw: function draw() {\n      var now = new Date().getTime();\n      this.dt = (now - (this.time || now)) / 1000;\n      this.time = now; // requestAnimationFrame(draw);\n\n      this.context.clearRect(0, 0, this.options.size, this.options.size);\n      this.drawMeterBackground();\n      this.drawFluid(this.dt);\n\n      if (this.options.drawText) {\n        this.drawText();\n      }\n\n      this.drawMeterForeground();\n    },\n    drawMeterBackground: function drawMeterBackground() {\n      this.context.save();\n      this.context.fillStyle = this.options.backgroundColor;\n      this.context.beginPath();\n      this.context.arc(this.options.size / 2, this.options.size / 2, this.getMeterRadius() / 2 - this.options.borderWidth, 0, 2 * Math.PI);\n      this.context.closePath();\n      this.context.fill();\n      this.context.restore();\n    },\n    drawMeterForeground: function drawMeterForeground() {\n      this.context.save();\n      this.context.lineWidth = this.options.borderWidth;\n      this.context.strokeStyle = this.options.foregroundColor;\n      this.context.beginPath();\n      this.context.arc(this.options.size / 2, this.options.size / 2, this.getMeterRadius() / 2 - this.options.borderWidth / 2, 0, 2 * Math.PI);\n      this.context.closePath();\n      this.context.stroke();\n      this.context.restore();\n    },\n    drawFluid: function drawFluid(dt) {\n      this.context.save();\n      this.context.arc(this.options.size / 2, this.options.size / 2, this.getMeterRadius() / 2 - this.options.borderWidth, 0, Math.PI * 2);\n      this.context.clip();\n      this.drawFluidLayer(this.backgroundFluidLayer, this.dt);\n      this.drawFluidLayer(this.foregroundFluidLayer, this.dt);\n      this.context.restore();\n    },\n    drawFluidLayer: function drawFluidLayer(layer, dt) {\n      // calculate wave angle\n      if (layer.angularSpeed > 0) {\n        layer.angle += layer.angularSpeed * dt;\n        layer.angle = layer.angle < 0 ? layer.angle + 360 : layer.angle;\n      } // calculate horizontal position\n\n\n      layer.horizontalPosition += layer.horizontalSpeed * dt;\n\n      if (layer.horizontalSpeed > 0) {\n        layer.horizontalPosition > Math.pow(2, 53) ? 0 : layer.horizontalPosition;\n      } else if (layer.horizontalPosition < 0) {\n        layer.horizontalPosition < -1 * Math.pow(2, 53) ? 0 : layer.horizontalPosition;\n      }\n\n      var x = 0;\n      var y = 0;\n      var amplitude = layer.maxAmplitude * Math.sin(layer.angle * Math.PI / 180);\n      var meterBottom = this.options.size - (this.options.size - this.getMeterRadius()) / 2 - this.options.borderWidth;\n      var fluidAmount = this.currentFillPercentage * (this.getMeterRadius() - this.options.borderWidth * 2) / 100;\n\n      if (this.currentFillPercentage < this.fillPercentage) {\n        this.currentFillPercentage += 15 * dt;\n      } else if (this.currentFillPercentage > this.fillPercentage) {\n        this.currentFillPercentage -= 15 * dt;\n      }\n\n      layer.initialHeight = meterBottom - fluidAmount;\n      this.context.save();\n      this.context.beginPath();\n      this.context.lineTo(0, layer.initialHeight);\n\n      while (x < this.options.size) {\n        y = layer.initialHeight + amplitude * Math.sin((x + layer.horizontalPosition) / layer.frequency);\n        this.context.lineTo(x, y);\n        x++;\n      }\n\n      this.context.lineTo(x, this.options.size);\n      this.context.lineTo(0, this.options.size);\n      this.context.closePath();\n      this.context.fillStyle = layer.fillStyle;\n      this.context.fill();\n      this.context.restore();\n    },\n    drawFluidMask: function drawFluidMask(layer) {\n      var x = 0;\n      var y = 0;\n      var amplitude = layer.maxAmplitude * Math.sin(layer.angle * Math.PI / 180);\n      this.context.beginPath();\n      this.context.lineTo(0, layer.initialHeight);\n\n      while (x < this.options.size) {\n        y = layer.initialHeight + amplitude * Math.sin((x + layer.horizontalPosition) / layer.frequency);\n        this.context.lineTo(x, y);\n        x++;\n      }\n\n      this.context.lineTo(x, this.options.size);\n      this.context.lineTo(0, this.options.size);\n      this.context.closePath();\n      this.context.clip();\n    },\n    // drawBubblesLayer(this.dt) {\n    //   this.context.save();\n    //   for (var i = 0; i < bubblesLayer.bubbles.length; i++) {\n    //     var bubble = bubblesLayer.bubbles[i];\n    //     this.context.beginPath();\n    //     this.context.strokeStyle = 'white';\n    //     this.context.arc(bubble.x, bubble.y, bubble.r, 2 * Math.PI, false);\n    //     this.context.stroke();\n    //     this.context.closePath();\n    //     var currentSpeed = bubblesLayer.current * this.dt;\n    //     bubble.velX = Math.abs(bubble.velX) < Math.abs(bubblesLayer.current) ? bubble.velX + currentSpeed : bubblesLayer.current;\n    //     bubble.y = bubble.y - bubble.velY * this.dt;\n    //     bubble.x = bubble.x + (bubblesLayer.swing ? 0.4 * Math.cos(bubblesLayer.swing += 0.03) * bubblesLayer.swing : 0) + bubble.velX * 0.5;\n    //     // determine if current bubble is outside the safe area\n    //     var meterBottom = (this.options.size - (this.options.size - getMeterRadius()) / 2) - this.options.borderWidth;\n    //     var fluidAmount = currentFillPercentage * (getMeterRadius() - this.options.borderWidth * 2) / 100;\n    //     if (bubble.y <= meterBottom - fluidAmount) {\n    //       bubblesLayer.reset(bubble);\n    //     }\n    //   }\n    //   this.context.restore();\n    // },\n    drawText: function drawText() {\n      var text = this.options.drawPercentageSign ? this.currentFillPercentage.toFixed(0) + \"%\" : this.currentFillPercentage.toFixed(0);\n      this.context.save();\n      this.context.font = this.getFontSize();\n      this.context.fillStyle = this.options.fontFillStyle;\n      this.context.textAlign = \"center\";\n      this.context.textBaseline = 'middle';\n      this.context.filter = \"drop-shadow(0px 0px 5px rgba(0,0,0,0.4))\";\n      this.context.fillText(text, this.options.size / 2, this.options.size / 2);\n      this.context.restore();\n    },\n    //#region helper methods\n    clamp: function clamp(number, min, max) {\n      return Math.min(Math.max(number, min), max);\n    },\n    getMeterRadius: function getMeterRadius() {\n      return this.options.size * 0.9;\n    },\n    random: function random(min, max) {\n      var delta = max - min;\n      return max === min ? min : Math.random() * delta + min;\n    },\n    getFontSize: function getFontSize() {\n      return this.options.fontSize + \" \" + this.options.fontFamily;\n    },\n    init: function init(env) {\n      if (!env.targetContainer) throw \"empty or invalid container\";\n      this.targetContainer = env.targetContainer;\n      this.fillPercentage = this.clamp(env.fillPercentage, 0, 100);\n\n      if (env.options) {\n        this.options.drawShadow = env.options.drawShadow === false ? false : true;\n        this.options.size = env.options.size;\n        this.options.drawBubbles = env.options.drawBubbles === false ? false : true;\n        this.options.borderWidth = env.options.borderWidth || this.options.borderWidth;\n        this.options.foregroundFluidColor = env.options.foregroundFluidColor || this.options.foregroundFluidColor;\n        this.options.backgroundFluidColor = env.options.backgroundFluidColor || this.options.backgroundFluidColor;\n        this.options.backgroundColor = env.options.backgroundColor || this.options.backgroundColor;\n        this.options.foregroundColor = env.options.foregroundColor || this.options.foregroundColor;\n        this.options.drawText = env.options.drawText === false ? false : true;\n        this.options.drawPercentageSign = env.options.drawPercentageSign === false ? false : true;\n        this.options.fontSize = env.options.fontSize || this.options.fontSize;\n        this.options.fontFamily = env.options.fontFamily || this.options.fontFamily;\n        this.options.fontFillStyle = env.options.fontFillStyle || this.options.fontFillStyle; // fluid settings\n\n        if (env.options.foregroundFluidLayer) {\n          this.foregroundFluidLayer.fillStyle = env.options.foregroundFluidLayer.fillStyle || this.foregroundFluidLayer.fillStyle;\n          this.foregroundFluidLayer.angularSpeed = env.options.foregroundFluidLayer.angularSpeed || this.foregroundFluidLayer.angularSpeed;\n          this.foregroundFluidLayer.maxAmplitude = env.options.foregroundFluidLayer.maxAmplitude || this.foregroundFluidLayer.maxAmplitude;\n          this.foregroundFluidLayer.frequency = env.options.foregroundFluidLayer.frequency || this.foregroundFluidLayer.frequency;\n          this.foregroundFluidLayer.horizontalSpeed = env.options.foregroundFluidLayer.horizontalSpeed || this.foregroundFluidLayer.horizontalSpeed;\n        }\n\n        if (env.options.backgroundFluidLayer) {\n          this.backgroundFluidLayer.fillStyle = env.options.backgroundFluidLayer.fillStyle || this.backgroundFluidLayer.fillStyle;\n          this.backgroundFluidLayer.angularSpeed = env.options.backgroundFluidLayer.angularSpeed || this.backgroundFluidLayer.angularSpeed;\n          this.backgroundFluidLayer.maxAmplitude = env.options.backgroundFluidLayer.maxAmplitude || this.backgroundFluidLayer.maxAmplitude;\n          this.backgroundFluidLayer.frequency = env.options.backgroundFluidLayer.frequency || this.backgroundFluidLayer.frequency;\n          this.backgroundFluidLayer.horizontalSpeed = env.options.backgroundFluidLayer.horizontalSpeed || this.backgroundFluidLayer.horizontalSpeed;\n        }\n      } // bubblesLayer.init();\n\n\n      this.setupCanvas();\n      this.draw();\n    },\n    setPercentage: function setPercentage(percentage) {\n      this.fillPercentage = this.clamp(percentage, 0, 100);\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","mounted","env","options","drawShadow","drawText","drawPercentageSign","drawBubbles","fontSize","fontFamily","fontFillStyle","size","borderWidth","backgroundColor","foregroundColor","context","targetContainer","time","dt","currentFillPercentage","fillPercentage","foregroundFluidLayer","fillStyle","angle","horizontalPosition","angularSpeed","maxAmplitude","frequency","horizontalSpeed","initialHeight","backgroundFluidLayer","document","getElementById","init","setPercentage","created","props","percintage","required","data","methods","setupCanvas","canvas","createElement","width","height","imageSmoothingEnabled","getContext","appendChild","save","beginPath","filter","arc","getMeterRadius","Math","PI","closePath","fill","restore","draw","now","Date","getTime","clearRect","drawMeterBackground","drawFluid","drawMeterForeground","lineWidth","strokeStyle","stroke","clip","drawFluidLayer","layer","pow","x","y","amplitude","sin","meterBottom","fluidAmount","lineTo","drawFluidMask","text","toFixed","font","getFontSize","textAlign","textBaseline","fillText","clamp","number","min","max","random","delta","foregroundFluidColor","backgroundFluidColor","percentage"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\components\\chart.vue"],"sourcesContent":["<template>\r\n  <div class=\"col  text-center\">\r\n    <div id=\"fluidDiv\"></div>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"Chart\",\r\n  mounted() {\r\n    var env= {\r\n      options: {\r\n        drawShadow: true,\r\n        drawText: true,\r\n        drawPercentageSign: true,\r\n        drawBubbles: true,\r\n        fontSize: \"70px\",\r\n        fontFamily: \"Arial\",\r\n        fontFillStyle: \"white\",\r\n        size: 300,\r\n        borderWidth: 25,\r\n        backgroundColor: \"#e2e2e2\",\r\n        foregroundColor: \"#fafafa\"\r\n      },\r\n      context: null,\r\n      targetContainer: null,\r\n      time: null,\r\n      dt: null,\r\n      currentFillPercentage: 0,\r\n      fillPercentage: 0,\r\n\r\n      //#region fluid context values\r\n      foregroundFluidLayer: {\r\n        fillStyle: \"purple\",\r\n        angle: 0,\r\n        horizontalPosition: 0,\r\n        angularSpeed: 0,\r\n        maxAmplitude: 9,\r\n        frequency: 30,\r\n        horizontalSpeed: -150,\r\n        initialHeight: 0\r\n      },\r\n      backgroundFluidLayer: {\r\n        fillStyle: \"pink\",\r\n        angle: 0,\r\n        horizontalPosition: 0,\r\n        angularSpeed: 140,\r\n        maxAmplitude: 12,\r\n        frequency: 40,\r\n        horizontalSpeed: 150,\r\n        initialHeight: 0\r\n      },\r\n    }   ;\r\n    env.targetContainer = document.getElementById(\"fluidDiv\");\r\n    env.fillPercentage = 90;\r\n    env.options.fontSize = \"30px\";\r\n    env.options.drawPercentageSign = true;\r\n    env.options.drawBubbles = false;\r\n    env.options.size = 300;\r\n    env.options.borderWidth = 19;\r\n    env.options.backgroundColor = \"#e2e2e2\";\r\n    env.options.foregroundColor = \"#fafafa\";\r\n\r\n    env.foregroundFluidLayer.fillStyle = \"#16E1FF\";\r\n    env.foregroundFluidLayer.angularSpeed = 30;\r\n    env.foregroundFluidLayer.maxAmplitude = 5;\r\n    env.foregroundFluidLayer.frequency = 30;\r\n    env.foregroundFluidLayer.horizontalSpeed = -20;\r\n    env.backgroundFluidLayer.fillStyle = \"#4F8FC6\";\r\n    env.backgroundFluidLayer.angularSpeed = 100;\r\n    env.backgroundFluidLayer.maxAmplitude = 3;\r\n    env.backgroundFluidLayer.frequency = 22;\r\n    env.backgroundFluidLayer.horizontalSpeed = 20;\r\n    \r\n    this.init(env);\r\n    this.setPercentage(90)\r\n\r\n  },\r\n  created() {\r\n  },\r\n  props: {\r\n    percintage: {\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n    \r\n      options: {\r\n        drawShadow: true,\r\n        drawText: true,\r\n        drawPercentageSign: true,\r\n        drawBubbles: true,\r\n        fontSize: \"70px\",\r\n        fontFamily: \"Arial\",\r\n        fontFillStyle: \"white\",\r\n        size: 300,\r\n        borderWidth: 25,\r\n        backgroundColor: \"#e2e2e2\",\r\n        foregroundColor: \"#fafafa\"\r\n      },\r\n      context: null,\r\n      targetContainer: null,\r\n      time: null,\r\n      dt: null,\r\n      currentFillPercentage: 0,\r\n      fillPercentage: 0,\r\n\r\n      //#region fluid context values\r\n      foregroundFluidLayer: {\r\n        fillStyle: \"purple\",\r\n        angle: 0,\r\n        horizontalPosition: 0,\r\n        angularSpeed: 0,\r\n        maxAmplitude: 9,\r\n        frequency: 30,\r\n        horizontalSpeed: -150,\r\n        initialHeight: 0\r\n      },\r\n      backgroundFluidLayer: {\r\n        fillStyle: \"pink\",\r\n        angle: 0,\r\n        horizontalPosition: 0,\r\n        angularSpeed: 140,\r\n        maxAmplitude: 12,\r\n        frequency: 40,\r\n        horizontalSpeed: 150,\r\n        initialHeight: 0\r\n      },\r\n\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    setupCanvas() {\r\n      var canvas = document.createElement('canvas');\r\n      canvas.width = this.options.size;\r\n      canvas.height = this.options.size;\r\n      canvas.imageSmoothingEnabled = true;\r\n      this.context = canvas.getContext(\"2d\");\r\n      this.targetContainer.appendChild(canvas);\r\n\r\n      // shadow is not required  to be on the draw loop\r\n      //#region shadow\r\n      if (this.options.drawShadow) {\r\n        this.context.save();\r\n        this.context.beginPath();\r\n        this.context.filter = \"drop-shadow(0px 4px 6px rgba(0,0,0,0.1))\";\r\n        this.context.arc(this.options.size / 2, this.options.size / 2, this.getMeterRadius() / 2, 0, 2 * Math.PI);\r\n        this.context.closePath();\r\n        this.context.fill();\r\n        this.context.restore();\r\n      }\r\n      //#endregion\r\n    },\r\n    draw() {\r\n      var now = new Date().getTime();\r\n      this.dt = (now - (this.time || now)) / 1000;\r\n      this.time = now;\r\n      // requestAnimationFrame(draw);\r\n      this.context.clearRect(0, 0, this.options.size, this.options.size);\r\n      this.drawMeterBackground();\r\n      this.drawFluid(this.dt);\r\n      if (this.options.drawText) {\r\n        this.drawText();\r\n      }\r\n      this.drawMeterForeground();\r\n    },\r\n\r\n    drawMeterBackground() {\r\n      this.context.save();\r\n      this.context.fillStyle = this.options.backgroundColor;\r\n      this.context.beginPath();\r\n      this.context.arc(this.options.size / 2, this.options.size / 2, this.getMeterRadius() / 2 - this.options.borderWidth, 0, 2 * Math.PI);\r\n      this.context.closePath();\r\n      this.context.fill();\r\n      this.context.restore();\r\n    },\r\n\r\n    drawMeterForeground() {\r\n      this.context.save();\r\n      this.context.lineWidth = this.options.borderWidth;\r\n      this.context.strokeStyle = this.options.foregroundColor;\r\n      this.context.beginPath();\r\n      this.context.arc(this.options.size / 2, this.options.size / 2, this.getMeterRadius() / 2 - this.options.borderWidth / 2, 0, 2 * Math.PI);\r\n      this.context.closePath();\r\n      this.context.stroke();\r\n      this.context.restore();\r\n    },\r\n    drawFluid(dt) {\r\n      this.context.save();\r\n      this.context.arc(this.options.size / 2, this.options.size / 2, this.getMeterRadius() / 2 - this.options.borderWidth, 0, Math.PI * 2);\r\n      this.context.clip();\r\n      this.drawFluidLayer(this.backgroundFluidLayer, this.dt);\r\n      this.drawFluidLayer(this.foregroundFluidLayer, this.dt);\r\n      this.context.restore();\r\n    },\r\n    drawFluidLayer(layer, dt) {\r\n      // calculate wave angle\r\n      if (layer.angularSpeed > 0) {\r\n        layer.angle += layer.angularSpeed * dt;\r\n        layer.angle = layer.angle < 0 ? layer.angle + 360 : layer.angle;\r\n      }\r\n\r\n      // calculate horizontal position\r\n      layer.horizontalPosition += layer.horizontalSpeed * dt;\r\n      if (layer.horizontalSpeed > 0) {\r\n        layer.horizontalPosition > Math.pow(2, 53) ? 0 : layer.horizontalPosition;\r\n      }\r\n      else if (layer.horizontalPosition < 0) {\r\n        layer.horizontalPosition < -1 * Math.pow(2, 53) ? 0 : layer.horizontalPosition;\r\n      }\r\n\r\n      var x = 0;\r\n      var y = 0;\r\n      var amplitude = layer.maxAmplitude * Math.sin(layer.angle * Math.PI / 180);\r\n\r\n      var meterBottom = (this.options.size - (this.options.size - this.getMeterRadius()) / 2) - this.options.borderWidth;\r\n      var fluidAmount = this.currentFillPercentage * (this.getMeterRadius() - this.options.borderWidth * 2) / 100;\r\n\r\n      if (this.currentFillPercentage < this.fillPercentage) {\r\n        this.currentFillPercentage += 15 * dt;\r\n      } else if (this.currentFillPercentage > this.fillPercentage) {\r\n        this.currentFillPercentage -= 15 * dt;\r\n      }\r\n\r\n      layer.initialHeight = meterBottom - fluidAmount;\r\n\r\n      this.context.save();\r\n      this.context.beginPath();\r\n\r\n      this.context.lineTo(0, layer.initialHeight);\r\n\r\n      while (x < this.options.size) {\r\n        y = layer.initialHeight + amplitude * Math.sin((x + layer.horizontalPosition) / layer.frequency);\r\n        this.context.lineTo(x, y);\r\n        x++;\r\n      }\r\n\r\n      this.context.lineTo(x, this.options.size);\r\n      this.context.lineTo(0, this.options.size);\r\n      this.context.closePath();\r\n\r\n      this.context.fillStyle = layer.fillStyle;\r\n      this.context.fill();\r\n      this.context.restore();\r\n\r\n    },\r\n    drawFluidMask(layer) {\r\n      var x = 0;\r\n      var y = 0;\r\n      var amplitude = layer.maxAmplitude * Math.sin(layer.angle * Math.PI / 180);\r\n\r\n      this.context.beginPath();\r\n\r\n      this.context.lineTo(0, layer.initialHeight);\r\n\r\n      while (x < this.options.size) {\r\n        y = layer.initialHeight + amplitude * Math.sin((x + layer.horizontalPosition) / layer.frequency);\r\n        this.context.lineTo(x, y);\r\n        x++;\r\n      }\r\n      this.context.lineTo(x, this.options.size);\r\n      this.context.lineTo(0, this.options.size);\r\n      this.context.closePath();\r\n      this.context.clip();\r\n    },\r\n    // drawBubblesLayer(this.dt) {\r\n    //   this.context.save();\r\n    //   for (var i = 0; i < bubblesLayer.bubbles.length; i++) {\r\n    //     var bubble = bubblesLayer.bubbles[i];\r\n\r\n    //     this.context.beginPath();\r\n    //     this.context.strokeStyle = 'white';\r\n    //     this.context.arc(bubble.x, bubble.y, bubble.r, 2 * Math.PI, false);\r\n    //     this.context.stroke();\r\n    //     this.context.closePath();\r\n\r\n    //     var currentSpeed = bubblesLayer.current * this.dt;\r\n\r\n    //     bubble.velX = Math.abs(bubble.velX) < Math.abs(bubblesLayer.current) ? bubble.velX + currentSpeed : bubblesLayer.current;\r\n    //     bubble.y = bubble.y - bubble.velY * this.dt;\r\n    //     bubble.x = bubble.x + (bubblesLayer.swing ? 0.4 * Math.cos(bubblesLayer.swing += 0.03) * bubblesLayer.swing : 0) + bubble.velX * 0.5;\r\n\r\n    //     // determine if current bubble is outside the safe area\r\n    //     var meterBottom = (this.options.size - (this.options.size - getMeterRadius()) / 2) - this.options.borderWidth;\r\n    //     var fluidAmount = currentFillPercentage * (getMeterRadius() - this.options.borderWidth * 2) / 100;\r\n\r\n    //     if (bubble.y <= meterBottom - fluidAmount) {\r\n    //       bubblesLayer.reset(bubble);\r\n    //     }\r\n\r\n    //   }\r\n    //   this.context.restore();\r\n    // },\r\n    drawText() {\r\n\r\n      var text = this.options.drawPercentageSign ?\r\n        this.currentFillPercentage.toFixed(0) + \"%\" : this.currentFillPercentage.toFixed(0);\r\n\r\n      this.context.save();\r\n      this.context.font = this.getFontSize();\r\n      this.context.fillStyle = this.options.fontFillStyle;\r\n      this.context.textAlign = \"center\";\r\n      this.context.textBaseline = 'middle';\r\n      this.context.filter = \"drop-shadow(0px 0px 5px rgba(0,0,0,0.4))\"\r\n      this.context.fillText(text, this.options.size / 2, this.options.size / 2);\r\n      this.context.restore();\r\n    },\r\n    //#region helper methods\r\n    clamp(number, min, max) {\r\n      return Math.min(Math.max(number, min), max);\r\n    },\r\n    getMeterRadius() {\r\n      return this.options.size * 0.9;\r\n    },\r\n\r\n    random(min, max) {\r\n      var delta = max - min;\r\n      return max === min ? min : Math.random() * delta + min;\r\n    },\r\n\r\n    getFontSize() {\r\n      return this.options.fontSize + \" \" + this.options.fontFamily;\r\n    },\r\n    init: function (env) {\r\n      if (!env.targetContainer)\r\n        throw \"empty or invalid container\";\r\n\r\n      this.targetContainer = env.targetContainer;\r\n      this.fillPercentage = this.clamp(env.fillPercentage, 0, 100);\r\n\r\n      if (env.options) {\r\n        this.options.drawShadow = env.options.drawShadow === false ? false : true;\r\n        this.options.size = env.options.size;\r\n        this.options.drawBubbles = env.options.drawBubbles === false ? false : true;\r\n        this.options.borderWidth = env.options.borderWidth ||this.options.borderWidth;\r\n        this.options.foregroundFluidColor = env.options.foregroundFluidColor || this.options.foregroundFluidColor;\r\n        this.options.backgroundFluidColor = env.options.backgroundFluidColor || this.options.backgroundFluidColor;\r\n        this.options.backgroundColor = env.options.backgroundColor || this.options.backgroundColor;\r\n        this.options.foregroundColor = env.options.foregroundColor || this.options.foregroundColor;\r\n\r\n        this.options.drawText = env.options.drawText === false ? false : true;\r\n        this.options.drawPercentageSign = env.options.drawPercentageSign === false ? false : true;\r\n        this.options.fontSize = env.options.fontSize || this.options.fontSize;\r\n        this.options.fontFamily = env.options.fontFamily || this.options.fontFamily;\r\n        this.options.fontFillStyle = env.options.fontFillStyle || this.options.fontFillStyle;\r\n        // fluid settings\r\n\r\n        if (env.options.foregroundFluidLayer) {\r\n          this.foregroundFluidLayer.fillStyle = env.options.foregroundFluidLayer.fillStyle || this.foregroundFluidLayer.fillStyle;\r\n          this.foregroundFluidLayer.angularSpeed = env.options.foregroundFluidLayer.angularSpeed || this.foregroundFluidLayer.angularSpeed;\r\n          this.foregroundFluidLayer.maxAmplitude = env.options.foregroundFluidLayer.maxAmplitude || this.foregroundFluidLayer.maxAmplitude;\r\n          this.foregroundFluidLayer.frequency = env.options.foregroundFluidLayer.frequency || this.foregroundFluidLayer.frequency;\r\n          this.foregroundFluidLayer.horizontalSpeed = env.options.foregroundFluidLayer.horizontalSpeed || this.foregroundFluidLayer.horizontalSpeed;\r\n        }\r\n\r\n        if (env.options.backgroundFluidLayer) {\r\n         this.backgroundFluidLayer.fillStyle = env.options.backgroundFluidLayer.fillStyle || this.backgroundFluidLayer.fillStyle;\r\n          this.backgroundFluidLayer.angularSpeed = env.options.backgroundFluidLayer.angularSpeed || this.backgroundFluidLayer.angularSpeed;\r\n          this.backgroundFluidLayer.maxAmplitude = env.options.backgroundFluidLayer.maxAmplitude || this.backgroundFluidLayer.maxAmplitude;\r\n          this.backgroundFluidLayer.frequency = env.options.backgroundFluidLayer.frequency || this.backgroundFluidLayer.frequency;\r\n          this.backgroundFluidLayer.horizontalSpeed = env.options.backgroundFluidLayer.horizontalSpeed || this.backgroundFluidLayer.horizontalSpeed;\r\n        }\r\n      }\r\n\r\n\r\n\r\n      // bubblesLayer.init();\r\n      this.setupCanvas();\r\n      this.draw();\r\n    },\r\n    setPercentage(percentage) {\r\n      this.fillPercentage = this.clamp(percentage, 0, 100);\r\n    }\r\n\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}