{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport useVuelidate from \"@vuelidate/core\";\nimport { required, minLength, maxLength } from \"@vuelidate/validators\";\nimport generalInformationsServices from '../../api/generalInformationsServices';\nimport questionServices from '../../api/questionServices';\nexport default {\n  setup: function setup() {\n    return {\n      v$: useVuelidate()\n    };\n  },\n  name: 'GeneralSummary',\n  mounted: function mounted() {\n    this.getInformations();\n  },\n  props: {\n    book: {\n      type: [Object],\n      required: true\n    },\n    status: {\n      required: true\n    },\n    user_book: {\n      type: [Object],\n      required: true\n    }\n  },\n  validations: function validations() {\n    return {\n      generalInfromationsform: {\n        general_question: {\n          required: required,\n          minLength: minLength(100),\n          maxLength: maxLength(250)\n        },\n        summary: {\n          required: required,\n          minLength: minLength(350),\n          maxLength: maxLength(1800)\n        }\n      },\n      questionForm: {\n        question: {\n          required: required,\n          minLength: minLength(100),\n          maxLength: maxLength(250)\n        },\n        starting_page: {\n          required: required\n        },\n        ending_page: {\n          required: required,\n          valdiatePages: this.validatePages\n        },\n        quotes: {\n          required: required,\n          minLength: minLength(1),\n          $each: {\n            text: {\n              minLength: minLength(250)\n            }\n          }\n        }\n      }\n    };\n  },\n  data: function data() {\n    return {\n      auditable: false,\n      pageError: '',\n      questionForm: {\n        question: '',\n        starting_page: \"\",\n        ending_page: \"\",\n        user_book_id: this.user_book.id,\n        quotes: [{\n          text: ''\n        }]\n      },\n      generalInfromationsform: {\n        general_question: '',\n        summary: '',\n        user_book_id: this.user_book.id\n      },\n      generalInformations: [],\n      questions: [],\n      show: false\n    };\n  },\n  methods: {\n    addField: function addField(value, fieldType) {\n      fieldType.push({\n        text: \"\"\n      });\n    },\n    removeField: function removeField(index, fieldType) {\n      fieldType.splice(index, 1);\n    },\n    submitGenralInformationsForm: function submitGenralInformationsForm() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.v$.$touch();\n\n                if (_this.v$.generalInfromationsform.$invalid) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _context.next = 4;\n                return generalInformationsServices.addGeneralInformations(_this.generalInfromationsform);\n\n              case 4:\n                _this.generalInformations = _context.sent;\n\n                _this.v$.generalInfromationsform.general_question.$reset();\n\n                _this.v$.generalInfromationsform.summary.$reset();\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    submitQuestionForm: function submitQuestionForm() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var question;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this2.v$.$touch();\n\n                if (_this2.v$.questionForm.$invalid) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                _context2.next = 4;\n                return questionServices.addQuestion(_this2.questionForm);\n\n              case 4:\n                question = _context2.sent;\n                _this2.questionForm.question = \"\";\n                _this2.questionForm.starting_page = \"\";\n                _this2.questionForm.ending_page = \"\";\n                _this2.questionForm.quotes = [{\n                  text: ''\n                }];\n\n                _this2.v$.questionForm.$reset();\n\n                _this2.questions.push(question);\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    getInformations: function getInformations() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return generalInformationsServices.getGeneralInformations(_this3.user_book.id);\n\n              case 2:\n                _this3.generalInformations = _context3.sent;\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    },\n    getQuestions: function getQuestions() {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return questionServices.getQuestions(_this4.user_book.id);\n\n              case 2:\n                _this4.questions = _context4.sent;\n                _this4.auditable = _this4.questions.some(function (element) {\n                  if (element.status === 'rejected' || element.status === null) {\n                    return true;\n                  }\n\n                  return false;\n                });\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }))();\n    },\n    deleteGeneralInformation: function deleteGeneralInformation(id) {\n      this.show = !this.show;\n      var swalWithBootstrapButtons = this.$swal.mixin({\n        customClass: {\n          confirmButton: 'btn btn-primary btn-lg',\n          cancelButton: 'btn btn-outline-primary btn-lg ms-2'\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',\n        text: \"Ù…ÙˆØ§ÙÙ‚ØªÙƒ ØªØ¹Ù†ÙŠ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ \",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Ù†Ø¹Ù… Ù‚Ù… Ø¨Ø§Ù„Ø­Ø°Ù',\n        cancelButtonText: 'ØªØ±Ø§Ø¬Ø¹  ',\n        showClass: {\n          popup: 'animate__animated animate__zoomIn'\n        },\n        hideClass: {\n          popup: 'animate__animated animate__zoomOut'\n        }\n      }).then(function (willDelete) {\n        if (willDelete.isConfirmed) {\n          generalInformationsServices.deleteGeneralInformation(id).then(function (response) {\n            swalWithBootstrapButtons.fire({\n              title: 'ØªÙ… Ø§Ù„Ø­Ø°Ù',\n              text: 'ØªÙ… Ø­Ø°Ù Ø§Ù„Ø³Ø¤Ø§Ù„',\n              icon: 'success',\n              showClass: {\n                popup: 'animate__animated animate__zoomIn'\n              },\n              hideClass: {\n                popup: 'animate__animated animate__zoomOut'\n              }\n            });\n            location.reload();\n          })[\"catch\"](function (error) {\n            console.log(error);\n          });\n        }\n      });\n    },\n    updateGeneralInformation: function updateGeneralInformation(id) {\n      this.show = !this.show;\n      this.$router.push({\n        path: \"/general/update/\".concat(id)\n      });\n    },\n    validatePages: function validatePages() {\n      var error = parseInt(this.questionForm.starting_page) < parseInt(this.questionForm.ending_page);\n      if (!error) this.pageError = 'ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø§Ù‚Ù„ Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ©';else this.pageError = '';\n      return error;\n    },\n    reviewQuestions: function reviewQuestions() {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var swalWithBootstrapButtons;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                swalWithBootstrapButtons = _this5.$swal.mixin({\n                  customClass: {\n                    confirmButton: 'btn btn-primary btn-lg',\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\n                  },\n                  buttonsStyling: false\n                });\n                swalWithBootstrapButtons.fire({\n                  title: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',\n                  text: \"ÙÙŠ Ø­Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ù„Ù„ØªØ¯Ù‚ÙŠÙ‚ Ù„Ù† ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯ Ø£Ùˆ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªÙŠ ÙƒØªØ¨ØªÙ‡Ø§ \",\n                  icon: 'warning',\n                  showCancelButton: true,\n                  confirmButtonText: 'Ù†Ø¹Ù… Ù‚Ù… Ø¨Ø·Ù„Ø¨ ØªØ¯Ù‚ÙŠÙ‚',\n                  cancelButtonText: 'ØªØ±Ø§Ø¬Ø¹  ',\n                  showClass: {\n                    popup: 'animate__animated animate__zoomIn'\n                  },\n                  hideClass: {\n                    popup: 'animate__animated animate__zoomOut'\n                  }\n                }).then(function (willDelete) {\n                  if (willDelete.isConfirmed) {\n                    questionServices.reviewQuestion(_this5.user_book.id).then(function (response) {\n                      swalWithBootstrapButtons.fire({\n                        title: 'ØªÙ… Ø§Ù„Ø§Ø±Ø³Ø§Ù„',\n                        text: 'ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ù„Ù„ØªØ¯Ù‚ÙŠÙ‚',\n                        icon: 'success',\n                        showClass: {\n                          popup: 'animate__animated animate__zoomIn'\n                        },\n                        hideClass: {\n                          popup: 'animate__animated animate__zoomOut'\n                        }\n                      });\n                      _this5.auditable = false;\n                    })[\"catch\"](function (error) {\n                      console.log(error);\n                    });\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }))();\n    },\n    reviewGeneralInformation: function reviewGeneralInformation() {\n      var _this6 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var swalWithBootstrapButtons;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                swalWithBootstrapButtons = _this6.$swal.mixin({\n                  customClass: {\n                    confirmButton: 'btn btn-primary btn-lg',\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\n                  },\n                  buttonsStyling: false\n                });\n                swalWithBootstrapButtons.fire({\n                  title: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',\n                  text: \"ÙÙŠ Ø­Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ù„Ù„ØªØ¯Ù‚ÙŠÙ‚ Ù„Ù† ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯ Ø£Ùˆ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ„Ø®ÙŠØµ Ø§Ù„Ø°ÙŠ ÙƒØªØ¨ØªÙ‡ \",\n                  icon: 'warning',\n                  showCancelButton: true,\n                  confirmButtonText: 'Ù†Ø¹Ù… Ù‚Ù… Ø¨Ø·Ù„Ø¨ ØªØ¯Ù‚ÙŠÙ‚',\n                  cancelButtonText: 'ØªØ±Ø§Ø¬Ø¹  ',\n                  showClass: {\n                    popup: 'animate__animated animate__zoomIn'\n                  },\n                  hideClass: {\n                    popup: 'animate__animated animate__zoomOut'\n                  }\n                }).then(function (willDelete) {\n                  if (willDelete.isConfirmed) {\n                    generalInformationsServices.reviewGeneralInformation(_this6.user_book.id).then(function (response) {\n                      swalWithBootstrapButtons.fire({\n                        title: 'ØªÙ… Ø§Ù„Ø§Ø±Ø³Ø§Ù„',\n                        text: 'ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ù„Ù„ØªØ¯Ù‚ÙŠÙ‚',\n                        icon: 'success',\n                        showClass: {\n                          popup: 'animate__animated animate__zoomIn'\n                        },\n                        hideClass: {\n                          popup: 'animate__animated animate__zoomOut'\n                        }\n                      });\n                      location.reload();\n                    })[\"catch\"](function (error) {\n                      console.log(error);\n                    });\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["useVuelidate","required","minLength","maxLength","generalInformationsServices","questionServices","setup","v$","name","mounted","getInformations","props","book","type","Object","status","user_book","validations","generalInfromationsform","general_question","summary","questionForm","question","starting_page","ending_page","valdiatePages","validatePages","quotes","$each","text","data","auditable","pageError","user_book_id","id","generalInformations","questions","show","methods","addField","value","fieldType","push","removeField","index","splice","submitGenralInformationsForm","$touch","$invalid","addGeneralInformations","$reset","submitQuestionForm","addQuestion","getGeneralInformations","getQuestions","some","element","deleteGeneralInformation","swalWithBootstrapButtons","$swal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","icon","showCancelButton","confirmButtonText","cancelButtonText","showClass","popup","hideClass","then","willDelete","isConfirmed","location","reload","console","log","error","updateGeneralInformation","$router","path","parseInt","reviewQuestions","reviewQuestion","reviewGeneralInformation"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\views\\Achievement\\GeneralSummary.vue"],"sourcesContent":["<template>\r\n    <div class=\"row\">\r\n        <div class=\"col-sm-12\">\r\n            <iq-card>\r\n                <div class=\"iq-card-body profile-page p-0\">\r\n                    <div class=\"profile-header\">\r\n                        <div class=\"cover-container\">\r\n                            <img src=\"../../assets/images/book-banner.png\" alt=\"profile-bg\" class=\"rounded img-fluid\" />\r\n                        </div>\r\n                        <div class=\"user-detail text-center mb-3\">\r\n                            <div class=\"profile-img\">\r\n                                <img src=\"../../assets/images/reader.png\" alt=\"profile-img\"\r\n                                    class=\"avatar-130 img-fluid\" />\r\n                            </div>\r\n                            <div class=\"profile-detail mt-1\">\r\n                                <br />\r\n                                <h3 class=\"\" v-if=\"book\">{{book.book_name}} - Ù‚Ø³Ù… Ø§Ù„ØªÙ„Ø®ÙŠØµ Ø§Ù„Ø¹Ø§Ù…</h3>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </iq-card>\r\n            <iq-card class=\"iq-card\">\r\n                <div class=\"iq-card-body p-0\">\r\n                    <div class=\"user-tabing\">\r\n                        <tab-nav :pills=\"true\" id=\"pills-tab\"\r\n                            class=\"nav nav-pills d-flex align-items-center justify-content-center profile-feed-items p-0 m-0\">\r\n                            <tab-nav-items class=\"w-100 p-0\" :active=\"true\" id=\"pills-feed-tab\" href=\"#general-idea\"\r\n                                ariaControls=\"pills-home\" role=\"tab\" :ariaSelected=\"true\"\r\n                                title=\"Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ù„Ø«Ø§Ù†ÙŠØ© - Ø§Ù„ØªÙ„Ø®ÙŠØµ Ø§Ù„Ø¹Ø§Ù…\" />\r\n                        </tab-nav>\r\n                    </div>\r\n                </div>\r\n            </iq-card>\r\n        </div>\r\n        <div class=\"col-12\">\r\n            <div class=\"tab-content\">\r\n                <!-- START GENERAL IDEA -->\r\n                <tab-content-item :active=\"true\" id=\"general-idea\" aria-labelled-by=\"general-idea\">\r\n                    <h4>ÙƒÙŠÙ Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ø®Ù„Øµ Ø§Ù„Ø¹Ø§Ù…ØŒ ÙˆÙƒÙŠÙ Ø£Ø­Ø¯Ø¯ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ù… </h4>\r\n                    <hr>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-12\">\r\n                            <p>\r\n                                Ù„ÙƒÙ„ Ù…Ø§Ø¯Ø© Ù…Ù‚Ø±ÙˆØ¡Ø© (ÙƒØªØ§Ø¨) Ù‡Ù†Ø§Ùƒ Ø³Ø¤Ø§Ù„Ù‹Ø§ Ø¹Ø§Ù…Ù‹Ø§ ÙŠØ³Ø¹Ù‰ Ø§Ù„ÙƒØªØ§Ø¨ Ù„Ù†Ù‚Ø§Ø´Ù‡ØŒ ÙˆÙ…Ù†Ù‡ ÙŠØªÙØ±Ø¹ Ø§Ù„ÙƒØªØ§Ø¨ Ø¹Ù„Ù‰ Ø´ÙƒÙ„\r\n                                ÙØµÙˆÙ„ Ø£Ø³Ø§Ø³ÙŠØ© ÙˆÙ…Ù†\r\n                                Ø«Ù… Ù…Ø¨Ø§Ø­Ø« Ø¯Ø§Ø®Ù„ ÙƒÙ„ ÙØµÙ„. Ø¹Ù†Ø¯ Ø´Ø±ÙˆØ¹Ùƒ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ÙƒØªØ§Ø¨ØŒ Ø¹Ù„ÙŠÙƒ Ø§Ù„Ù…Ø±ÙˆØ± Ø¹Ù„Ù‰ Ù…Ù‚Ø¯Ù…Ø© Ø§Ù„Ù…Ø¤Ù„Ù ÙˆÙ…Ø­Ø§ÙˆÙ„Ø©\r\n                                Ù…Ø¹Ø±ÙØ© (Ø§Ù„Ø³Ø¤Ø§Ù„\r\n                                Ø§Ù„Ø¹Ø§Ù…) Ø§Ù„Ø°ÙŠ ÙŠØ³Ø¹Ù‰ Ø§Ù„ÙƒØªØ§Ø¨ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù†Ù‡.\r\n                                <br />\r\n                                Ø£Ù…Ø«Ù„Ø© ğŸ‘‡ğŸ»\r\n                                <br />\r\n                                ÙƒØªØ§Ø¨ Ø£ØºÙ†Ù‰ Ø±Ø¬Ù„ ÙÙŠ Ø¨Ø§Ø¨Ù„ = ÙŠØ¯ÙˆØ± Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ù… Ø­ÙˆÙ„ ÙƒÙŠÙÙŠØ© ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ø«Ø±ÙˆØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ù„Ù„ÙØ±Ø¯ âœ…\r\n                                <br />\r\n                                ÙƒØªØ§Ø¨ Ø³ÙŠÙƒÙˆÙ„ÙˆØ¬ÙŠØ© Ø§Ù„Ø¬Ù…Ø§Ù‡ÙŠØ± = ÙŠØ¯ÙˆØ± Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ù… ÙÙŠ Ø§Ù„ÙƒØªØ§Ø¨ Ø­ÙˆÙ„ Ù‚Ø¯Ø±Ø© Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ\r\n                                Ø§Ù„Ø¬Ù…Ø§Ù‡ÙŠØ± ÙˆØ§Ù„Ø´Ø¹ÙˆØ¨\r\n                                Ù…Ù† Ø§Ù„Ù†Ø§Ø­ÙŠØ© Ø§Ù„Ø³ÙƒÙˆÙ„ÙˆØ¬ÙŠØ© âœ…\r\n                                <br />\r\n\r\n                                ÙˆÙ…Ù† Ø¬Ø§Ù†Ø¨ Ø¢Ø®Ø±ØŒ Ù„ÙƒÙ„ Ù…Ø§Ø¯Ø© Ù…Ù‚Ø±ÙˆØ¡Ø© (ÙƒØªØ§Ø¨) Ù‡Ù†Ø§Ùƒ ØªÙ„Ø®ÙŠØµ Ø¹Ø§Ù… Ù„Ù„Ø£ÙÙƒØ§Ø± Ø§Ù„Ø¹Ø§Ù…Ø© ÙˆØ§Ù„Ù…Ø­Ø§ÙˆØ± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\r\n                                Ø§Ù„ØªÙŠ ÙŠØ¯ÙˆØ± Ø­ÙˆÙ„Ù‡Ø§\r\n                                Ø§Ù„ÙƒØªØ§Ø¨. ÙÙŠØ¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø±Ø¦ Ø£Ù† ÙŠØ³ØªØ·ÙŠØ¹ Ø¯Ø§Ø¦Ù…Ù‹Ø§ ØªÙ‚Ø¯ÙŠÙ… Ù…Ù„Ø®Øµ Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨ØŒ ÙˆÙŠØ³ØªØ­Ø³Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£ÙÙƒØ§Ø±\r\n                                Ø§Ù„ÙƒØ§ØªØ¨ ÙˆØ§Ù„ÙØ§Ø¸Ù‡\r\n                                Ø¨Ø§ØºØªØ¶Ø§Ø¨ Ù„ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ù…Ù„Ø®ØµØŒ Ù„Ø§ ØªÙ‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ø£ÙÙƒØ§Ø±Ùƒ ÙˆØ§Ø¹ØªÙ‚Ø§Ø¯Ø§ØªÙƒ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø®Ù„ØµØŒ Ø³ØªÙØ¹Ù„ Ø°Ù„Ùƒ Ø­ÙŠÙ† ØªÙƒØªØ¨\r\n                                Ø§Ù„Ø£Ø·Ø±ÙˆØ­Ø© Ø­ÙŠÙ† ØªÙ…Ø²Ø¬\r\n                                Ù…Ù„Ø®Øµ Ø§Ù„ÙƒØ§ØªØ¨ Ù…Ø¹ Ø£ÙÙƒØ§Ø±Ùƒ ÙˆØ¥Ø³Ù‚Ø§Ø·Ø§ØªÙƒ Ø§Ù„ÙÙƒØ±ÙŠØ© ÙˆÙ…Ø®Ø²ÙˆÙ†Ùƒ Ø§Ù„Ù…Ø¹Ø±ÙÙŠ ÙˆÙ…Ù‚Ø§Ø±Ù†ØªÙ‡ Ù…Ø¹ Ø§Ù„ÙƒØªØ§Ø¨.\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <div v-if=\"generalInformations\" class=\"d-flex align-items-center mt-3\">\r\n                        <div class=\"post-text ml-3 w-100 row\">\r\n                            <div class=\"row\">\r\n                                <div class=\"w-100\">\r\n                                    <p class=\"mb-0 text-primary\" v-if=\"generalInformations.degree\">Ø§Ù„ØªÙ‚ÙŠÙŠÙ… || {{\r\n                                    generalInformations.degree }}</p>\r\n                                    <div class=\"alert alert-success w-100\" v-if=\"generalInformations.reviews\">\r\n                                        {{ generalInformations.reviews }}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-12 form-group\">\r\n                                    <div class=\"card-post-toolbar text-end\"\r\n                                        v-if=\"generalInformations.status == null || generalInformations.status == 'rejected'\">\r\n                                        <div class=\"dropdown-toggle\" id=\"dropdownMenuButton\" data-bs-toggle=\"dropdown\"\r\n                                            aria-expanded=\"false\" role=\"button\" @click=\"show = !show\">\r\n                                            <span class=\"material-symbols-outlined\">\r\n                                                more_horiz\r\n                                            </span>\r\n                                        </div>\r\n                                        <div :class=\"`dropdown-menu dropdown-menu-right ${show ? 'show' : ''}`\"\r\n                                            aria-labelledby=\"dropdownMenuButton\" style=\"\">\r\n                                            <a class=\"dropdown-item d-flex align-items-center\"\r\n                                                @click=\"updateGeneralInformation(generalInformations.id)\">\r\n                                                <span class=\"material-symbols-outlined me-2 md-18\">\r\n                                                    edit\r\n                                                </span>\r\n                                                ØªØ¹Ø¯ÙŠÙ„\r\n                                            </a>\r\n                                            <a class=\"dropdown-item d-flex align-items-center\"\r\n                                                @click=\"deleteGeneralInformation(generalInformations.id)\">\r\n                                                <span class=\"material-symbols-outlined me-2 md-18\">\r\n                                                    delete\r\n                                                </span>\r\n                                                Ø­Ø°Ù\r\n                                            </a>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                    <div class=\"col-md-12 form-group\">\r\n                                        <h4 class=\"form-label\"> Ø§Ù„ØªÙ„Ø®ÙŠØµ Ø§Ù„Ø¹Ø§Ù…</h4>\r\n                                        <p class=\"form-control-plaintext\">{{ generalInformations.summary }}</p>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div class=\"col-md-12 form-group\">\r\n                                    <div class=\"col-md-12 form-group\">\r\n                                        <h4 class=\"form-label\"> Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ù… </h4>\r\n                                        <p class=\"form-control-plaintext\">{{ generalInformations.general_question }}</p>\r\n                                    </div>\r\n\r\n                                </div>\r\n\r\n                                <iq-card\r\n                                    v-if=\"generalInformations.status == null || generalInformations.status == 'rejected'\">\r\n                                    <template v-slot:body>\r\n                                        <button class=\"btn btn-primary d-block w-100\"\r\n                                            @click=\"reviewGeneralInformation\">Ø·Ù„Ø¨ ØªØ¯Ù‚ÙŠÙ‚</button>\r\n                                    </template>\r\n                                </iq-card>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div v-else class=\"d-flex align-items-center mt-3\">\r\n                        <form @submit.prevent=\"submitGenralInformationsForm\" class=\"post-text ml-3 w-100 row\">\r\n                            <div class=\"form-group\">\r\n                                <label class=\"form-label\" for=\"bookGeneralIdea\">Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ø¹Ø§Ù…Ø©</label>\r\n                                <textarea v-model=\"v$.generalInfromationsform.summary.$model\" rows=\"5\"\r\n                                    placeholder=\"... Ø§ÙƒØªØ¨ ÙÙƒØ±Ø© Ø¹Ø§Ù…Ø©\" class=\"rounded form-control\"\r\n                                    id=\"bookGeneralIdea\"></textarea>\r\n                                <small style=\"color:red;\" v-if=\"v$.generalInfromationsform.summary.$error\">\r\n                                    Ù„Ø·ÙÙ‹Ø§ Ù‚Ù… Ø¨ÙƒØªØ§Ø¨Ø© ØªÙ„Ø®ÙŠØµ Ø¹Ø¯Ø¯ Ø­Ø±ÙˆÙÙ‡ Ø¨ÙŠÙ† 350 Ùˆ 1800\r\n                                </small>\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                                <label class=\"form-label\" for=\"bookGeneralQuestion\">Ø³Ø¤Ø§Ù„ Ø¹Ø§Ù… </label>\r\n                                <textarea v-model=\"v$.generalInfromationsform.general_question.$model\" rows=\"5\"\r\n                                    placeholder=\"... Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ù‹Ø§ Ø¹Ø§Ù…Ø§Ù‹\" class=\"rounded form-control\"\r\n                                    id=\"bookGeneralQuestion\"></textarea>\r\n                                <small style=\"color:red;\" v-if=\"v$.generalInfromationsform.general_question.$error\">\r\n                                    Ù‚Ù… Ø¨ÙƒØªØ§Ø¨Ø© Ø³Ø¤Ø§Ù„ Ø¹Ø§Ù… Ù„Ø§ ÙŠØ²ÙŠØ¯ Ø¹Ø¯Ø¯ Ø­Ø±ÙˆÙØ© Ø¹Ù† 250\r\n                                </small>\r\n                            </div>\r\n\r\n                            <input type=\"submit\" value=\"Ø£Ø¶Ø§ÙØ©\" href=\"javascript:void(0);\"\r\n                                class=\"btn btn-primary d-block mt-3\" />\r\n                        </form>\r\n                    </div>\r\n                </tab-content-item>\r\n                <!-- END GENERAL IDEA -->\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\n\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, minLength, maxLength } from \"@vuelidate/validators\";\r\nimport generalInformationsServices from '../../api/generalInformationsServices'\r\nimport questionServices from '../../api/questionServices'\r\n\r\nexport default {\r\n    setup() {\r\n        return { v$: useVuelidate() };\r\n    },\r\n    name: 'GeneralSummary',\r\n    mounted() {\r\n        this.getInformations();\r\n    },\r\n    props: {\r\n        book: {\r\n            type: [Object],\r\n            required: true,\r\n        },\r\n        status: {\r\n            required: true\r\n        },\r\n        user_book: {\r\n            type: [Object],\r\n            required: true,\r\n        },\r\n\r\n    },\r\n    validations() {\r\n        return {\r\n            generalInfromationsform: {\r\n                general_question: {\r\n                    required,\r\n                    minLength: minLength(100),\r\n                    maxLength: maxLength(250)\r\n                },\r\n                summary: {\r\n                    required,\r\n                    minLength: minLength(350),\r\n                    maxLength: maxLength(1800)\r\n\r\n                },\r\n            },\r\n            questionForm: {\r\n                question: {\r\n                    required,\r\n                    minLength: minLength(100),\r\n                    maxLength: maxLength(250)\r\n\r\n                }, starting_page: {\r\n                    required\r\n                },\r\n                ending_page: {\r\n                    required, valdiatePages: this.validatePages\r\n                }, quotes: {\r\n                    required,\r\n                    minLength: minLength(1),\r\n                    $each: {\r\n                        text: {\r\n\r\n                            minLength: minLength(250)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    },\r\n    data() {\r\n        return {\r\n            auditable: false,\r\n            pageError: '',\r\n            questionForm: {\r\n                question: '',\r\n                starting_page: \"\",\r\n                ending_page: \"\",\r\n                user_book_id: this.user_book.id,\r\n                quotes: [\r\n                    { text: '' }\r\n                ]\r\n            },\r\n            generalInfromationsform: {\r\n                general_question: '',\r\n                summary: '',\r\n                user_book_id: this.user_book.id,\r\n            },\r\n            generalInformations: [],\r\n            questions: [],\r\n            show: false,\r\n        }\r\n    },\r\n    methods: {\r\n        addField(value, fieldType) {\r\n\r\n            fieldType.push({ text: \"\" });\r\n        },\r\n        removeField(index, fieldType) {\r\n            fieldType.splice(index, 1);\r\n        },\r\n        async submitGenralInformationsForm() {\r\n            this.v$.$touch();\r\n            if (!this.v$.generalInfromationsform.$invalid) {\r\n                this.generalInformations = await generalInformationsServices.addGeneralInformations(this.generalInfromationsform);\r\n                this.v$.generalInfromationsform.general_question.$reset();\r\n                this.v$.generalInfromationsform.summary.$reset();\r\n\r\n            }\r\n        },\r\n        async submitQuestionForm() {\r\n            this.v$.$touch();\r\n\r\n            if (!this.v$.questionForm.$invalid) {\r\n                const question = await questionServices.addQuestion(this.questionForm);\r\n                this.questionForm.question = \"\";\r\n                this.questionForm.starting_page = \"\";\r\n                this.questionForm.ending_page = \"\";\r\n                this.questionForm.quotes = [{ text: '' }];\r\n                this.v$.questionForm.$reset()\r\n                this.questions.push(question)\r\n            }\r\n        },\r\n        async getInformations() {\r\n            this.generalInformations = await generalInformationsServices.getGeneralInformations(this.user_book.id);\r\n        },\r\n        async getQuestions() {\r\n            this.questions = await questionServices.getQuestions(this.user_book.id);\r\n            this.auditable = this.questions.some(element => {\r\n                if (element.status === 'rejected' || element.status === null) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n        },\r\n        deleteGeneralInformation(id) {\r\n            this.show = !this.show;\r\n            const swalWithBootstrapButtons = this.$swal.mixin({\r\n                customClass: {\r\n                    confirmButton: 'btn btn-primary btn-lg',\r\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\r\n                },\r\n                buttonsStyling: false\r\n            })\r\n\r\n            swalWithBootstrapButtons.fire({\r\n                title: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',\r\n                text: \"Ù…ÙˆØ§ÙÙ‚ØªÙƒ ØªØ¹Ù†ÙŠ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ \",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Ù†Ø¹Ù… Ù‚Ù… Ø¨Ø§Ù„Ø­Ø°Ù',\r\n                cancelButtonText: 'ØªØ±Ø§Ø¬Ø¹  ',\r\n                showClass: {\r\n                    popup: 'animate__animated animate__zoomIn'\r\n                },\r\n                hideClass: {\r\n                    popup: 'animate__animated animate__zoomOut'\r\n                }\r\n            })\r\n                .then((willDelete) => {\r\n                    if (willDelete.isConfirmed) {\r\n                        generalInformationsServices.deleteGeneralInformation(id)\r\n                            .then(response => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'ØªÙ… Ø§Ù„Ø­Ø°Ù',\r\n                                    text: 'ØªÙ… Ø­Ø°Ù Ø§Ù„Ø³Ø¤Ø§Ù„',\r\n                                    icon: 'success',\r\n                                    showClass: {\r\n                                        popup: 'animate__animated animate__zoomIn'\r\n                                    },\r\n                                    hideClass: {\r\n                                        popup: 'animate__animated animate__zoomOut'\r\n                                    }\r\n                                })\r\n                                location.reload()\r\n                            })\r\n                            .catch(error => {\r\n                                console.log(error)\r\n                            })\r\n\r\n\r\n                    }\r\n                })\r\n        },\r\n        updateGeneralInformation(id) {\r\n            this.show = !this.show;\r\n            this.$router.push({ path: `/general/update/${id}` })\r\n\r\n        },\r\n        validatePages() {\r\n            const error = parseInt(this.questionForm.starting_page) < parseInt(this.questionForm.ending_page)\r\n            if (!error) this.pageError = 'ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø§Ù‚Ù„ Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ©'\r\n            else this.pageError = ''\r\n            return error;\r\n        },\r\n        async reviewQuestions() {\r\n            const swalWithBootstrapButtons = this.$swal.mixin({\r\n                customClass: {\r\n                    confirmButton: 'btn btn-primary btn-lg',\r\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\r\n                },\r\n                buttonsStyling: false\r\n            })\r\n            swalWithBootstrapButtons.fire({\r\n                title: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',\r\n                text: \"ÙÙŠ Ø­Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ù„Ù„ØªØ¯Ù‚ÙŠÙ‚ Ù„Ù† ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯ Ø£Ùˆ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªÙŠ ÙƒØªØ¨ØªÙ‡Ø§ \",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Ù†Ø¹Ù… Ù‚Ù… Ø¨Ø·Ù„Ø¨ ØªØ¯Ù‚ÙŠÙ‚',\r\n                cancelButtonText: 'ØªØ±Ø§Ø¬Ø¹  ',\r\n                showClass: {\r\n                    popup: 'animate__animated animate__zoomIn'\r\n                },\r\n                hideClass: {\r\n                    popup: 'animate__animated animate__zoomOut'\r\n                }\r\n            })\r\n                .then((willDelete) => {\r\n                    if (willDelete.isConfirmed) {\r\n                        questionServices.reviewQuestion(this.user_book.id)\r\n                            .then(response => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'ØªÙ… Ø§Ù„Ø§Ø±Ø³Ø§Ù„',\r\n                                    text: 'ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ù„Ù„ØªØ¯Ù‚ÙŠÙ‚',\r\n                                    icon: 'success',\r\n                                    showClass: {\r\n                                        popup: 'animate__animated animate__zoomIn'\r\n                                    },\r\n                                    hideClass: {\r\n                                        popup: 'animate__animated animate__zoomOut'\r\n                                    }\r\n                                })\r\n                                this.auditable = false;\r\n                            })\r\n                            .catch(error => {\r\n                                console.log(error)\r\n                            })\r\n                    }\r\n                })\r\n        },\r\n        async reviewGeneralInformation() {\r\n            const swalWithBootstrapButtons = this.$swal.mixin({\r\n                customClass: {\r\n                    confirmButton: 'btn btn-primary btn-lg',\r\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\r\n                },\r\n                buttonsStyling: false\r\n            })\r\n            swalWithBootstrapButtons.fire({\r\n                title: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',\r\n                text: \"ÙÙŠ Ø­Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ù„Ù„ØªØ¯Ù‚ÙŠÙ‚ Ù„Ù† ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯ Ø£Ùˆ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ„Ø®ÙŠØµ Ø§Ù„Ø°ÙŠ ÙƒØªØ¨ØªÙ‡ \",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Ù†Ø¹Ù… Ù‚Ù… Ø¨Ø·Ù„Ø¨ ØªØ¯Ù‚ÙŠÙ‚',\r\n                cancelButtonText: 'ØªØ±Ø§Ø¬Ø¹  ',\r\n                showClass: {\r\n                    popup: 'animate__animated animate__zoomIn'\r\n                },\r\n                hideClass: {\r\n                    popup: 'animate__animated animate__zoomOut'\r\n                }\r\n            })\r\n                .then((willDelete) => {\r\n                    if (willDelete.isConfirmed) {\r\n                        generalInformationsServices.reviewGeneralInformation(this.user_book.id)\r\n                            .then(response => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'ØªÙ… Ø§Ù„Ø§Ø±Ø³Ø§Ù„',\r\n                                    text: 'ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ù„Ù„ØªØ¯Ù‚ÙŠÙ‚',\r\n                                    icon: 'success',\r\n                                    showClass: {\r\n                                        popup: 'animate__animated animate__zoomIn'\r\n                                    },\r\n                                    hideClass: {\r\n                                        popup: 'animate__animated animate__zoomOut'\r\n                                    }\r\n                                })\r\n                                location.reload()\r\n                            })\r\n                            .catch(error => {\r\n                                console.log(error)\r\n                            })\r\n                    }\r\n                })\r\n        },\r\n    },\r\n}\r\n</script>\r\n  "]},"metadata":{},"sourceType":"module"}