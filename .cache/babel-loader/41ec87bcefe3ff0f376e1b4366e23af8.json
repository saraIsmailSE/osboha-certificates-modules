{"ast":null,"code":"import { socialvue } from '../../config/pluginInit';\nimport userBookServices from '../../api/userBookServices';\nimport certificateServices from '../../api/certificateServices';\nexport default {\n  name: 'acceptCertificates',\n  components: {},\n  mounted: function mounted() {\n    socialvue.index();\n  },\n  created: function created() {\n    var _this = this;\n\n    userBookServices.getByStatus('audited').then(function (response) {\n      _this.certificates = response;\n      console.log(response);\n    })[\"catch\"](function (error) {});\n  },\n  data: function data() {\n    return {\n      certificates: []\n    };\n  },\n  methods: {\n    deleterequest: function deleterequest(id) {\n      var swalWithBootstrapButtons = this.$swal.mixin({\n        customClass: {\n          confirmButton: 'btn btn-primary btn-lg',\n          cancelButton: 'btn btn-outline-primary btn-lg ms-2'\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: 'هل أنت متأكد؟',\n        text: \"موافقتك تعني حذف هذا المستخدم\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'نعم قم بالحذف',\n        cancelButtonText: 'تراجع  ',\n        showClass: {\n          popup: 'animate__animated animate__zoomIn'\n        },\n        hideClass: {\n          popup: 'animate__animated animate__zoomOut'\n        }\n      }).then(function (willDelete) {\n        if (willDelete.isConfirmed) {\n          userBookServices.changeStatus(\"rejected\", id).then(function (response) {\n            swalWithBootstrapButtons.fire({\n              title: 'تم الحذف',\n              text: 'تم حذف المستخدم',\n              icon: 'success',\n              showClass: {\n                popup: 'animate__animated animate__zoomIn'\n              },\n              hideClass: {\n                popup: 'animate__animated animate__zoomOut'\n              }\n            });\n            location.reload();\n          })[\"catch\"](function (error) {\n            error;\n          });\n        }\n      });\n    },\n    acceptrequest: function acceptrequest(id) {\n      var swalWithBootstrapButtons = this.$swal.mixin({\n        customClass: {\n          confirmButton: 'btn btn-primary btn-lg',\n          cancelButton: 'btn btn-outline-primary btn-lg ms-2'\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: 'هل أنت متأكد؟',\n        text: \"موافقتك تعني قبول هذا الشهاده\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'نعم قم بالقبول',\n        cancelButtonText: 'تراجع  ',\n        showClass: {\n          popup: 'animate__animated animate__zoomIn'\n        },\n        hideClass: {\n          popup: 'animate__animated animate__zoomOut'\n        }\n      }).then(function (willDelete) {\n        if (willDelete.isConfirmed) {\n          certificateServices.createCertificate(id).then(function (response) {\n            swalWithBootstrapButtons.fire({\n              title: 'تم القبول',\n              text: 'تم قبول الشهادة',\n              icon: 'success',\n              showClass: {\n                popup: 'animate__animated animate__zoomIn'\n              },\n              hideClass: {\n                popup: 'animate__animated animate__zoomOut'\n              }\n            });\n            location.reload();\n          })[\"catch\"](function (error) {\n            console.log(error);\n          });\n        }\n      });\n    },\n    resolve_img_url: function resolve_img_url(image) {\n      var url = \"http://127.0.0.1:8000/api/certificates/image?path=\".concat(image);\n      return url;\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["socialvue","userBookServices","certificateServices","name","components","mounted","index","created","getByStatus","then","certificates","response","console","log","data","methods","deleterequest","id","swalWithBootstrapButtons","$swal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","showClass","popup","hideClass","willDelete","isConfirmed","changeStatus","location","reload","error","acceptrequest","createCertificate","resolve_img_url","image","url"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\views\\Admin\\acceptCertificate.vue"],"sourcesContent":["<template>\r\n    <div class=\"row\" v-if=\"certificates.length>0\">\r\n        <div class=\"col-lg-12\" v-for=\"certificate in certificates\" :key=\"certificate.id\">\r\n            <iq-card>\r\n                <template v-slot:headerTitle>\r\n                    <h4 class=\"card-title\">طلبات الشهادات</h4>\r\n                </template>\r\n                <template v-slot:body>\r\n \r\n            <div class=\"card card-block card-stretch card-height blog-list\">\r\n                <div class=\"card-body\">\r\n                    <div class=\"row align-items-center\">\r\n                       \r\n                        <div class=\"col-md-6\">\r\n                            <div class=\"blog-description p-2 text-center\">\r\n                                <h3 class=\"mb-2 text-center\"> اسم اليوزر: {{ certificate.user.name }}</h3>\r\n                                      <h3 class=\"mb-2 text-center\">اسم الكتاب:{{ certificate.book.book_name }}</h3>\r\n                                <button @click=\"acceptrequest(certificate.id)\" type=\"submit\"\r\n                                    class=\"btn btn-primary d-block w-100\">قبول </button>\r\n\r\n                                    <button @click=\"deleterequest(certificate.id)\" type=\"submit\"\r\n                                    class=\"btn btn-primary d-block w-100 mt-3\">رفض </button>\r\n                                    \r\n                                    <button @click=\"$router.push({path:`/certificate/${certificate.id}}`})\" type=\"submit\"\r\n                                    class=\"btn btn-primary d-block w-100 mt-3\">عرض الشهادة </button>\r\n                                </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </template>\r\n            </iq-card>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\" v-else>\r\n        <div class=\"col-sm-12\">\r\n            <iq-card>\r\n                <template v-slot:headerTitle>\r\n                    <h4 class=\"card-title\">طلبات الشهادات</h4>\r\n                </template>\r\n                <template v-slot:body>\r\n\r\n            <h4>\r\n                لا يوجد طلبات\r\n            </h4>\r\n            </template>\r\n            </iq-card>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n<script>\r\nimport { socialvue } from '../../config/pluginInit' \r\nimport userBookServices from '../../api/userBookServices'\r\nimport certificateServices from '../../api/certificateServices'\r\n\r\nexport default {\r\n    name: 'acceptCertificates',\r\n    components: {},\r\n    mounted() {\r\n        socialvue.index()\r\n    },\r\n    created() {\r\n        userBookServices.getByStatus('audited')\r\n            .then(response => {\r\n                this.certificates = response\r\n                console.log(response)\r\n            })\r\n            .catch(error => {\r\n\r\n            })\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            certificates: [],\r\n        }\r\n    },\r\n    methods: {\r\n        deleterequest(id) {\r\n            const swalWithBootstrapButtons = this.$swal.mixin({\r\n                customClass: {\r\n                    confirmButton: 'btn btn-primary btn-lg',\r\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\r\n                },\r\n                buttonsStyling: false\r\n            })\r\n\r\n            swalWithBootstrapButtons.fire({\r\n                title: 'هل أنت متأكد؟',\r\n                text: \"موافقتك تعني حذف هذا المستخدم\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'نعم قم بالحذف',\r\n                cancelButtonText: 'تراجع  ',\r\n                showClass: {\r\n                    popup: 'animate__animated animate__zoomIn'\r\n                },\r\n                hideClass: {\r\n                    popup: 'animate__animated animate__zoomOut'\r\n                }\r\n            })\r\n                .then((willDelete) => {\r\n                    if (willDelete.isConfirmed) {\r\n                        userBookServices.changeStatus(\"rejected\",id)\r\n                            .then(response => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'تم الحذف',\r\n                                    text: 'تم حذف المستخدم',\r\n                                    icon: 'success',\r\n                                    showClass: {\r\n                                        popup: 'animate__animated animate__zoomIn'\r\n                                    },\r\n                                    hideClass: {\r\n                                        popup: 'animate__animated animate__zoomOut'\r\n                                    }\r\n                                })\r\n                                location.reload()\r\n                            })\r\n                            .catch(error => {\r\n                                (error)\r\n                            })\r\n\r\n\r\n                    }\r\n                })\r\n        },\r\n        acceptrequest(id) {\r\n            const swalWithBootstrapButtons = this.$swal.mixin({\r\n                customClass: {\r\n                    confirmButton: 'btn btn-primary btn-lg',\r\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\r\n                },\r\n                buttonsStyling: false\r\n            })\r\n            swalWithBootstrapButtons.fire({\r\n                title: 'هل أنت متأكد؟',\r\n                text: \"موافقتك تعني قبول هذا الشهاده\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'نعم قم بالقبول',\r\n                cancelButtonText: 'تراجع  ',\r\n                showClass: {\r\n                    popup: 'animate__animated animate__zoomIn'\r\n                },\r\n                hideClass: {\r\n                    popup: 'animate__animated animate__zoomOut'\r\n                }\r\n            })\r\n                .then((willDelete) => {\r\n                    if (willDelete.isConfirmed) {\r\n                        certificateServices.createCertificate(id)\r\n                            .then(response => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'تم القبول',\r\n                                    text: 'تم قبول الشهادة',\r\n                                    icon: 'success',\r\n                                    showClass: {\r\n                                        popup: 'animate__animated animate__zoomIn'\r\n                                    },\r\n                                    hideClass: {\r\n                                        popup: 'animate__animated animate__zoomOut'\r\n                                    }\r\n                                })\r\n                                location.reload()\r\n                            })\r\n                            .catch(error => {\r\n                                console.log(error)\r\n                            })\r\n\r\n\r\n                    }\r\n                })\r\n        },\r\n        resolve_img_url: function (image) {\r\n      \r\n            const url = `http://127.0.0.1:8000/api/certificates/image?path=${image}`\r\n              \r\n            return url;\r\n        },\r\n\r\n    }\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}