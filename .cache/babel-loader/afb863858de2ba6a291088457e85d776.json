{"ast":null,"code":"import \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nexport default {\n  name: \"Chart\",\n  created: function created() {},\n  props: {\n    percintage: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      options: {\n        drawShadow: true,\n        drawText: true,\n        drawPercentageSign: true,\n        drawBubbles: true,\n        fontSize: \"70px\",\n        fontFamily: \"Arial\",\n        fontFillStyle: \"white\",\n        size: 300,\n        borderWidth: 25,\n        backgroundColor: \"#e2e2e2\",\n        foregroundColor: \"#fafafa\"\n      },\n      context: context,\n      targetContainer: targetContainer,\n      time: null,\n      dt: null,\n      currentFillPercentage: 0,\n      fillPercentage: 0,\n      //#region fluid context values\n      foregroundFluidLayer: {\n        fillStyle: \"purple\",\n        angle: 0,\n        horizontalPosition: 0,\n        angularSpeed: 0,\n        maxAmplitude: 9,\n        frequency: 30,\n        horizontalSpeed: -150,\n        initialHeight: 0\n      },\n      backgroundFluidLayer: {\n        fillStyle: \"pink\",\n        angle: 0,\n        horizontalPosition: 0,\n        angularSpeed: 140,\n        maxAmplitude: 12,\n        frequency: 40,\n        horizontalSpeed: 150,\n        initialHeight: 0\n      }\n    };\n  },\n  methods: {\n    drawFluidMask: function drawFluidMask(layer) {\n      var x = 0;\n      var y = 0;\n      var amplitude = layer.maxAmplitude * Math.sin(layer.angle * Math.PI / 180);\n      this.context.beginPath();\n      this.context.lineTo(0, layer.initialHeight);\n\n      while (x < this.options.size) {\n        y = layer.initialHeight + amplitude * Math.sin((x + layer.horizontalPosition) / layer.frequency);\n        this.context.lineTo(x, y);\n        x++;\n      }\n\n      this.context.lineTo(x, options.size);\n      this.context.lineTo(0, options.size);\n      this.context.closePath();\n      this.context.clip();\n    },\n    drawBubblesLayer: function drawBubblesLayer(dt) {\n      context.save();\n\n      for (var i = 0; i < bubblesLayer.bubbles.length; i++) {\n        var bubble = bubblesLayer.bubbles[i];\n        context.beginPath();\n        context.strokeStyle = 'white';\n        context.arc(bubble.x, bubble.y, bubble.r, 2 * Math.PI, false);\n        context.stroke();\n        context.closePath();\n        var currentSpeed = bubblesLayer.current * dt;\n        bubble.velX = Math.abs(bubble.velX) < Math.abs(bubblesLayer.current) ? bubble.velX + currentSpeed : bubblesLayer.current;\n        bubble.y = bubble.y - bubble.velY * dt;\n        bubble.x = bubble.x + (bubblesLayer.swing ? 0.4 * Math.cos(bubblesLayer.swing += 0.03) * bubblesLayer.swing : 0) + bubble.velX * 0.5; // determine if current bubble is outside the safe area\n\n        var meterBottom = options.size - (options.size - getMeterRadius()) / 2 - options.borderWidth;\n        var fluidAmount = currentFillPercentage * (getMeterRadius() - options.borderWidth * 2) / 100;\n\n        if (bubble.y <= meterBottom - fluidAmount) {\n          bubblesLayer.reset(bubble);\n        }\n      }\n\n      context.restore();\n    },\n    drawText: function drawText() {\n      var text = this.options.drawPercentageSign ? currentFillPercentage.toFixed(0) + \"%\" : currentFillPercentage.toFixed(0);\n      this.context.save();\n      this.context.font = getFontSize();\n      this.context.fillStyle = options.fontFillStyle;\n      this.context.textAlign = \"center\";\n      this.context.textBaseline = 'middle';\n      this.context.filter = \"drop-shadow(0px 0px 5px rgba(0,0,0,0.4))\";\n      this.context.fillText(text, this.options.size / 2, this.options.size / 2);\n      this.context.restore();\n    },\n    //#region helper methods\n    clamp: function clamp(number, min, max) {\n      return Math.min(Math.max(number, min), max);\n    },\n    getMeterRadius: function getMeterRadius() {\n      return options.size * 0.9;\n    },\n    random: function random(min, max) {\n      var delta = max - min;\n      return max === min ? min : Math.random() * delta + min;\n    },\n    getFontSize: function getFontSize() {\n      return this.options.fontSize + \" \" + this.options.fontFamily;\n    },\n    init: function init(env) {\n      if (!env.targetContainer) throw \"empty or invalid container\";\n      targetContainer = env.targetContainer;\n      fillPercentage = clamp(env.fillPercentage, 0, 100);\n\n      if (env.options) {\n        this.options.drawShadow = env.options.drawShadow === false ? false : true;\n        this.options.size = env.options.size;\n        this.options.drawBubbles = env.options.drawBubbles === false ? false : true;\n        this.options.borderWidth = env.options.borderWidth || this.options.borderWidth;\n        this.options.foregroundFluidColor = env.options.foregroundFluidColor || this.options.foregroundFluidColor;\n        this.options.backgroundFluidColor = env.options.backgroundFluidColor || this.options.backgroundFluidColor;\n        this.options.backgroundColor = env.options.backgroundColor || this.options.backgroundColor;\n        this.options.foregroundColor = env.options.foregroundColor || this.options.foregroundColor;\n        this.options.drawText = env.options.drawText === false ? false : true;\n        this.options.drawPercentageSign = env.options.drawPercentageSign === false ? false : true;\n        this.options.fontSize = env.options.fontSize || this.options.fontSize;\n        this.options.fontFamily = env.options.fontFamily || this.options.fontFamily;\n        this.options.fontFillStyle = env.options.fontFillStyle || this.options.fontFillStyle; // fluid settings\n\n        if (env.options[\"this\"].foregroundFluidLayer) {\n          this.foregroundFluidLayer.fillStyle = env.options[\"this\"].foregroundFluidLayer.fillStyle || this.foregroundFluidLayer.fillStyle;\n          this.foregroundFluidLayer.angularSpeed = env.options[\"this\"].foregroundFluidLayer.angularSpeed || this.foregroundFluidLayer.angularSpeed;\n          this.foregroundFluidLayer.maxAmplitude = env.options[\"this\"].foregroundFluidLayer.maxAmplitude || this.foregroundFluidLayer.maxAmplitude;\n          this.foregroundFluidLayer.frequency = env.options[\"this\"].foregroundFluidLayer.frequency || this.foregroundFluidLayer.frequency;\n          this.foregroundFluidLayer.horizontalSpeed = env.options[\"this\"].foregroundFluidLayer.horizontalSpeed || this.foregroundFluidLayer.horizontalSpeed;\n        }\n\n        if (env.options[\"this\"].backgroundFluidLayer) {\n          this.backgroundFluidLayer.fillStyle = env.options[\"this\"].backgroundFluidLayer.fillStyle || this.backgroundFluidLayer.fillStyle;\n          this.backgroundFluidLayer.angularSpeed = env.options[\"this\"].backgroundFluidLayer.angularSpeed || this.backgroundFluidLayer.angularSpeed;\n          this.backgroundFluidLayer.maxAmplitude = env.options[\"this\"].backgroundFluidLayer.maxAmplitude || this.backgroundFluidLayer.maxAmplitude;\n          this.backgroundFluidLayer.frequency = env.options[\"this\"].backgroundFluidLayer.frequency || this.backgroundFluidLayer.frequency;\n          this.backgroundFluidLayer.horizontalSpeed = env.options[\"this\"].backgroundFluidLayer.horizontalSpeed || this.backgroundFluidLayer.horizontalSpeed;\n        }\n      }\n\n      bubblesLayer.init();\n      setupCanvas();\n      draw();\n    },\n    setPercentage: function setPercentage(percentage) {\n      fillPercentage = clamp(percentage, 0, 100);\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","created","props","percintage","required","data","options","drawShadow","drawText","drawPercentageSign","drawBubbles","fontSize","fontFamily","fontFillStyle","size","borderWidth","backgroundColor","foregroundColor","context","targetContainer","time","dt","currentFillPercentage","fillPercentage","foregroundFluidLayer","fillStyle","angle","horizontalPosition","angularSpeed","maxAmplitude","frequency","horizontalSpeed","initialHeight","backgroundFluidLayer","methods","drawFluidMask","layer","x","y","amplitude","Math","sin","PI","beginPath","lineTo","closePath","clip","drawBubblesLayer","save","i","bubblesLayer","bubbles","length","bubble","strokeStyle","arc","r","stroke","currentSpeed","current","velX","abs","velY","swing","cos","meterBottom","getMeterRadius","fluidAmount","reset","restore","text","toFixed","font","getFontSize","textAlign","textBaseline","filter","fillText","clamp","number","min","max","random","delta","init","env","foregroundFluidColor","backgroundFluidColor","setupCanvas","draw","setPercentage","percentage"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\components\\chart.vue"],"sourcesContent":["<template>\r\n  <div class=\"col  text-center\">\r\n    <div id=\"fluid-meter-3\"></div>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"Chart\",\r\n  created() { },\r\n  props: {\r\n    percintage: {\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      options: {\r\n        drawShadow: true,\r\n        drawText: true,\r\n        drawPercentageSign: true,\r\n        drawBubbles: true,\r\n        fontSize: \"70px\",\r\n        fontFamily: \"Arial\",\r\n        fontFillStyle: \"white\",\r\n        size: 300,\r\n        borderWidth: 25,\r\n        backgroundColor: \"#e2e2e2\",\r\n        foregroundColor: \"#fafafa\"\r\n      },\r\n      context,\r\n      targetContainer,\r\n      time: null,\r\n      dt: null,\r\n      currentFillPercentage: 0,\r\n      fillPercentage: 0,\r\n\r\n      //#region fluid context values\r\n      foregroundFluidLayer: {\r\n        fillStyle: \"purple\",\r\n        angle: 0,\r\n        horizontalPosition: 0,\r\n        angularSpeed: 0,\r\n        maxAmplitude: 9,\r\n        frequency: 30,\r\n        horizontalSpeed: -150,\r\n        initialHeight: 0\r\n      },\r\n      backgroundFluidLayer: {\r\n        fillStyle: \"pink\",\r\n        angle: 0,\r\n        horizontalPosition: 0,\r\n        angularSpeed: 140,\r\n        maxAmplitude: 12,\r\n        frequency: 40,\r\n        horizontalSpeed: 150,\r\n        initialHeight: 0\r\n      },\r\n\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    drawFluidMask(layer) {\r\n      var x = 0;\r\n      var y = 0;\r\n      var amplitude = layer.maxAmplitude * Math.sin(layer.angle * Math.PI / 180);\r\n\r\n      this.context.beginPath();\r\n\r\n      this.context.lineTo(0, layer.initialHeight);\r\n\r\n      while (x < this.options.size) {\r\n        y = layer.initialHeight + amplitude * Math.sin((x + layer.horizontalPosition) / layer.frequency);\r\n        this.context.lineTo(x, y);\r\n        x++;\r\n      }\r\n      this.context.lineTo(x, options.size);\r\n      this.context.lineTo(0, options.size);\r\n      this.context.closePath();\r\n      this.context.clip();\r\n    },\r\n    drawBubblesLayer(dt) {\r\n      context.save();\r\n      for (var i = 0; i < bubblesLayer.bubbles.length; i++) {\r\n        var bubble = bubblesLayer.bubbles[i];\r\n\r\n        context.beginPath();\r\n        context.strokeStyle = 'white';\r\n        context.arc(bubble.x, bubble.y, bubble.r, 2 * Math.PI, false);\r\n        context.stroke();\r\n        context.closePath();\r\n\r\n        var currentSpeed = bubblesLayer.current * dt;\r\n\r\n        bubble.velX = Math.abs(bubble.velX) < Math.abs(bubblesLayer.current) ? bubble.velX + currentSpeed : bubblesLayer.current;\r\n        bubble.y = bubble.y - bubble.velY * dt;\r\n        bubble.x = bubble.x + (bubblesLayer.swing ? 0.4 * Math.cos(bubblesLayer.swing += 0.03) * bubblesLayer.swing : 0) + bubble.velX * 0.5;\r\n\r\n        // determine if current bubble is outside the safe area\r\n        var meterBottom = (options.size - (options.size - getMeterRadius()) / 2) - options.borderWidth;\r\n        var fluidAmount = currentFillPercentage * (getMeterRadius() - options.borderWidth * 2) / 100;\r\n\r\n        if (bubble.y <= meterBottom - fluidAmount) {\r\n          bubblesLayer.reset(bubble);\r\n        }\r\n\r\n      }\r\n      context.restore();\r\n    },\r\n    drawText() {\r\n\r\n      var text = this.options.drawPercentageSign ?\r\n        currentFillPercentage.toFixed(0) + \"%\" : currentFillPercentage.toFixed(0);\r\n\r\n      this.context.save();\r\n      this.context.font = getFontSize();\r\n      this.context.fillStyle = options.fontFillStyle;\r\n      this.context.textAlign = \"center\";\r\n      this.context.textBaseline = 'middle';\r\n      this.context.filter = \"drop-shadow(0px 0px 5px rgba(0,0,0,0.4))\"\r\n      this.context.fillText(text, this.options.size / 2, this.options.size / 2);\r\n      this.context.restore();\r\n    },\r\n    //#region helper methods\r\n    clamp(number, min, max) {\r\n      return Math.min(Math.max(number, min), max);\r\n    },\r\n    getMeterRadius() {\r\n      return options.size * 0.9;\r\n    },\r\n\r\n    random(min, max) {\r\n      var delta = max - min;\r\n      return max === min ? min : Math.random() * delta + min;\r\n    },\r\n\r\n    getFontSize() {\r\n      return this.options.fontSize + \" \" + this.options.fontFamily;\r\n    },\r\n    init: function (env) {\r\n      if (!env.targetContainer)\r\n        throw \"empty or invalid container\";\r\n\r\n      targetContainer = env.targetContainer;\r\n      fillPercentage = clamp(env.fillPercentage, 0, 100);\r\n\r\n      if (env.options) {\r\n        this.options.drawShadow = env.options.drawShadow === false ? false : true;\r\n        this.options.size = env.options.size;\r\n        this.options.drawBubbles = env.options.drawBubbles === false ? false : true;\r\n        this.options.borderWidth = env.options.borderWidth || this.options.borderWidth;\r\n        this.options.foregroundFluidColor = env.options.foregroundFluidColor || this.options.foregroundFluidColor;\r\n        this.options.backgroundFluidColor = env.options.backgroundFluidColor || this.options.backgroundFluidColor;\r\n        this.options.backgroundColor = env.options.backgroundColor || this.options.backgroundColor;\r\n        this.options.foregroundColor = env.options.foregroundColor || this.options.foregroundColor;\r\n\r\n        this.options.drawText = env.options.drawText === false ? false : true;\r\n        this.options.drawPercentageSign = env.options.drawPercentageSign === false ? false : true;\r\n        this.options.fontSize = env.options.fontSize || this.options.fontSize;\r\n        this.options.fontFamily = env.options.fontFamily || this.options.fontFamily;\r\n        this.options.fontFillStyle = env.options.fontFillStyle || this.options.fontFillStyle;\r\n        // fluid settings\r\n\r\n        if (env.options.this.foregroundFluidLayer) {\r\n          this.foregroundFluidLayer.fillStyle = env.options.this.foregroundFluidLayer.fillStyle || this.foregroundFluidLayer.fillStyle;\r\n          this.foregroundFluidLayer.angularSpeed = env.options.this.foregroundFluidLayer.angularSpeed || this.foregroundFluidLayer.angularSpeed;\r\n          this.foregroundFluidLayer.maxAmplitude = env.options.this.foregroundFluidLayer.maxAmplitude || this.foregroundFluidLayer.maxAmplitude;\r\n          this.foregroundFluidLayer.frequency = env.options.this.foregroundFluidLayer.frequency || this.foregroundFluidLayer.frequency;\r\n          this.foregroundFluidLayer.horizontalSpeed = env.options.this.foregroundFluidLayer.horizontalSpeed || this.foregroundFluidLayer.horizontalSpeed;\r\n        }\r\n\r\n        if (env.options.this.backgroundFluidLayer) {\r\n          this.backgroundFluidLayer.fillStyle = env.options.this.backgroundFluidLayer.fillStyle || this.backgroundFluidLayer.fillStyle;\r\n          this.backgroundFluidLayer.angularSpeed = env.options.this.backgroundFluidLayer.angularSpeed || this.backgroundFluidLayer.angularSpeed;\r\n          this.backgroundFluidLayer.maxAmplitude = env.options.this.backgroundFluidLayer.maxAmplitude || this.backgroundFluidLayer.maxAmplitude;\r\n          this.backgroundFluidLayer.frequency = env.options.this.backgroundFluidLayer.frequency || this.backgroundFluidLayer.frequency;\r\n          this.backgroundFluidLayer.horizontalSpeed = env.options.this.backgroundFluidLayer.horizontalSpeed || this.backgroundFluidLayer.horizontalSpeed;\r\n        }\r\n      }\r\n      bubblesLayer.init();\r\n      setupCanvas();\r\n      draw();\r\n    },\r\n    setPercentage(percentage) {\r\n      fillPercentage = clamp(percentage, 0, 100);\r\n    }\r\n\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}