{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport generalInformationsServices from '../../../../api/generalInformationsServices';\nimport useVuelidate from \"@vuelidate/core\";\nimport { required, minLength, maxLength } from \"@vuelidate/validators\";\nexport default {\n  name: \"UpdateGeneralInformation\",\n  created: function created() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return generalInformationsServices.getById(_this.$route.params.id);\n\n            case 2:\n              _this.generalInfortmationToUpdate = _context.sent;\n              _this.questionForm.question = _this.generalInfortmationToUpdate.question;\n              _this.questionForm.user_book_id = _this.generalInfortmationToUpdate.user_book.id;\n              _this.questionForm.starting_page = _this.generalInfortmationToUpdate.starting_page;\n              _this.questionForm.ending_page = _this.generalInfortmationToUpdate.ending_page;\n              _this.questionForm.quotes = _this.generalInfortmationToUpdate.quotation;\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  components: {},\n  setup: function setup() {\n    return {\n      v$: useVuelidate()\n    };\n  },\n  data: function data() {\n    return {\n      loader: false,\n      message: null,\n      generalInfromationsUpdateform: {\n        general_question: '',\n        summary: '',\n        user_book_id: this.user_book.id\n      },\n      generalInfortmationToUpdate: []\n    };\n  },\n  validations: function validations() {\n    return {\n      generalInfromationsUpdateform: {\n        general_question: {\n          required: required,\n          minLength: minLength(100),\n          maxLength: maxLength(250)\n        },\n        summary: {\n          required: required,\n          minLength: minLength(350),\n          maxLength: maxLength(1800)\n        }\n      }\n    };\n  },\n  methods: {\n    submitGenralInformationsUpdate: function submitGenralInformationsUpdate() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this2.v$.$touch();\n\n                if (_this2.v$.generalInfromationsUpdateform.$invalid) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                _this2.message = \"\";\n                _this2.loader = true;\n                _context2.next = 6;\n                return generalInformationsServices.updateGeneralInformations(_this2.generalInfromationsUpdateform, _this2.generalInformations.id);\n\n              case 6:\n                _this2.generalInformations = _context2.sent;\n                _this2.generalInfromationsUpdateform.general_question = _this2.generalInformations.general_question;\n                _this2.generalInfromationsUpdateform.summary = _this2.generalInformations.summary;\n\n                _this2.v$.generalInfromationsUpdateform.general_question.$reset();\n\n                _this2.v$.generalInfromationsUpdateform.summary.$reset();\n\n              case 11:\n                _this2.loader = false;\n                _this2.message = \"تم التعديل بنجاح\";\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    back: function back() {\n      this.$router.push({\n        path: \"/user_book/\".concat(this.generalInfortmationToUpdate.user_book.book.id)\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["generalInformationsServices","useVuelidate","required","minLength","maxLength","name","created","getById","$route","params","id","generalInfortmationToUpdate","questionForm","question","user_book_id","user_book","starting_page","ending_page","quotes","quotation","components","setup","v$","data","loader","message","generalInfromationsUpdateform","general_question","summary","validations","methods","submitGenralInformationsUpdate","$touch","$invalid","updateGeneralInformations","generalInformations","$reset","back","$router","push","path","book"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\views\\GeneralInormation\\update.vue"],"sourcesContent":["<template>\r\n  <div class=\"col-sm-12 mt-3 text-center\">\r\n    <iq-card class=\"iq-card\">\r\n      <div class=\"iq-card-header-toolbar d-flex align-items-center mx-auto\">\r\n        <h3 class=\"text-center mt-3 mb-3\">\r\n          تعديل التلخيص العام\r\n        </h3>\r\n      </div>\r\n      <div class=\"iq-card-body p-3\">\r\n        <div class=\"image-block text-center\">\r\n          <img src=\"@/assets/images/update-forms.png\" class=\"img-fluid rounded w-50\" alt=\"blog-img\">\r\n        </div>\r\n\r\n        <div class=\"d-flex align-items-center mt-3\"\r\n          v-if=\"generalInfortmationToUpdate.status == null || generalInfortmationToUpdate.status == 'rejected'  \">\r\n          <form @submit.prevent=\"updateGenralInformationsForm\" class=\"post-text ml-3 w-100 row\">\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\" for=\"bookGeneralIdea\">الفكرة العامة</label>\r\n              <textarea v-model=\"v$.generalInfromationsUpdateform.summary.$model\" rows=\"5\"\r\n                placeholder=\"... اكتب فكرة عامة\" class=\"rounded form-control\" id=\"bookGeneralIdea\"></textarea>\r\n              <small style=\"color:red;\" v-if=\"v$.generalInfromationsUpdateform.summary.$error\">\r\n                لطفًا قم بكتابة تلخيص عدد حروفه بين 500 و 1800\r\n              </small>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\" for=\"bookGeneralQuestion\">سؤال عام </label>\r\n              <textarea v-model=\"v$.generalInfromationsUpdateform.general_question.$model\" rows=\"5\"\r\n                placeholder=\"... اكتب سؤالًا عاماً\" class=\"rounded form-control\" id=\"bookGeneralQuestion\"></textarea>\r\n              <small style=\"color:red;\" v-if=\"v$.generalInfromationsUpdateform.general_question.$error\">الرجاء قم بادخال\r\n                السؤال العام</small>\r\n            </div>\r\n\r\n            <input type=\"submit\" value=\"تعديل\" href=\"javascript:void(0);\" class=\"btn btn-primary d-block mt-3\" />\r\n          </form>\r\n\r\n        </div>\r\n        <div class=\"d-flex align-items-center mt-3 row\" v-else>\r\n          <h4 class=\"text-center mt-3 mb-3 col-12\"> لا يمكنك تعديل السؤال لأنه في حالة التقييم أو تم تقييمه</h4>\r\n          <div class=\"d-inline-block w-100 text-center col-12\">\r\n            <button type=\"\" @click=\"back()\" class=\"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto\">\r\n              عودة لصفحة الأنجاز\r\n            </button>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </iq-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport generalInformationsServices from '../../../../api/generalInformationsServices'\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, minLength, maxLength } from \"@vuelidate/validators\";\r\nexport default {\r\n  name: \"UpdateGeneralInformation\",\r\n  async created() {\r\n    this.generalInfortmationToUpdate = await generalInformationsServices.getById(this.$route.params.id)\r\n    this.questionForm.question = this.generalInfortmationToUpdate.question\r\n    this.questionForm.user_book_id = this.generalInfortmationToUpdate.user_book.id\r\n    this.questionForm.starting_page = this.generalInfortmationToUpdate.starting_page\r\n    this.questionForm.ending_page = this.generalInfortmationToUpdate.ending_page\r\n    this.questionForm.quotes = this.generalInfortmationToUpdate.quotation\r\n  },\r\n  components: {\r\n  },\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n  data() {\r\n    return {\r\n      loader: false,\r\n      message: null,\r\n      generalInfromationsUpdateform: {\r\n        general_question: '',\r\n        summary: '',\r\n        user_book_id: this.user_book.id,\r\n      },\r\n      generalInfortmationToUpdate: [],\r\n    };\r\n  },\r\n  validations() {\r\n    return {\r\n      generalInfromationsUpdateform: {\r\n        general_question: {\r\n          required,\r\n          minLength: minLength(100),\r\n          maxLength: maxLength(250)\r\n        },\r\n        summary: {\r\n          required,\r\n          minLength: minLength(350),\r\n          maxLength: maxLength(1800)\r\n\r\n        },\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    async submitGenralInformationsUpdate() {\r\n      this.v$.$touch();\r\n      if (!this.v$.generalInfromationsUpdateform.$invalid) {\r\n        this.message = \"\";\r\n        this.loader = true;\r\n        this.generalInformations = await generalInformationsServices.updateGeneralInformations(this.generalInfromationsUpdateform, this.generalInformations.id);\r\n        this.generalInfromationsUpdateform.general_question = this.generalInformations.general_question\r\n        this.generalInfromationsUpdateform.summary = this.generalInformations.summary\r\n        this.v$.generalInfromationsUpdateform.general_question.$reset()\r\n        this.v$.generalInfromationsUpdateform.summary.$reset()\r\n      }\r\n\r\n      this.loader = false;\r\n      this.message = \"تم التعديل بنجاح\"\r\n\r\n    },\r\n    back() {\r\n      this.$router.push({ path: `/user_book/${this.generalInfortmationToUpdate.user_book.book.id}` })\r\n    }\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}