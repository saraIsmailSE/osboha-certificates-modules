{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport bookServices from \"../../api/bookServices\";\nimport certificateServices from \"../../api/certificateServices\";\nexport default {\n  name: \"Profile\",\n  created: function created() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.checkAchievement();\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  components: {},\n  data: function data() {\n    return {\n      already_have_one: 0,\n      book: null,\n      user_book: null,\n      status: \"\",\n      error: \"\"\n    };\n  },\n  methods: {\n    checkAchievement: function checkAchievement() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return bookServices.checkAchievement(_this2.$route.params.id);\n\n              case 2:\n                response = _context2.sent;\n                _this2.already_have_one = response.already_have_one;\n\n                if (response.book != null) {\n                  _this2.book = response.book;\n\n                  if (response.user_book != null) {\n                    _this2.user_book = response.user_book;\n                    _this2.status = _this2.user_book.status;\n\n                    if (_this2.user_book.thesises != null) {\n                      _this2.thesises = _this2.user_book.thesises;\n                      _this2.auditable = _this2.thesises.some(function (element) {\n                        if (element.status === \"rejected\" || element.status === null) {\n                          return true;\n                        }\n\n                        return false;\n                      });\n                      _this2.user_book_info[0].value = _this2.user_book.thesises.length;\n                      _this2.thesisLength = _this2.user_book.thesises.length;\n                    }\n\n                    _this2.user_book_info[1].value = _this2.user_book.questions.length;\n\n                    if (_this2.user_book.questions.quotation) {\n                      _this2.user_book_info[2].value = _this2.user_book.questions.quotation.length;\n                    }\n                  }\n                } else {\n                  _this2.status = \"404\";\n                }\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    requestCertificate: function requestCertificate() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return certificateServices.requestCertificateApi(_this3.book.id);\n\n              case 2:\n                res = _context3.sent;\n\n                if (!res) {\n                  _this3.already_have_one = 1;\n                } else {\n                  window.location.reload();\n                }\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    },\n    back: function back() {\n      this.$router.push({\n        path: \"/book\"\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["bookServices","certificateServices","name","created","checkAchievement","components","data","already_have_one","book","user_book","status","error","methods","$route","params","id","response","thesises","auditable","some","element","user_book_info","value","length","thesisLength","questions","quotation","requestCertificate","requestCertificateApi","res","window","location","reload","back","$router","push","path"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\views\\Achievement\\CheckAchievement.vue"],"sourcesContent":["<template>\r\n    <div class=\"row\">\r\n        <div class=\"col-sm-12 d-flex justify-content-center\" v-if=\"already_have_one >= 1\">\r\n            <div class=\"col-sm-12\">\r\n                <iq-card class=\"iq-card\">\r\n                    <div class=\"iq-card-body p-3\">\r\n                        <div class=\"image-block text-center\">\r\n                            <img src=\"@/assets/images/start_new.png\" class=\"img-fluid rounded w-25 mt-3\"\r\n                                alt=\"blog-img\" />\r\n                        </div>\r\n                        <h2 class=\"text-center mt-3 mb-3\">ملاحظة</h2>\r\n                        <h4 class=\"text-center mt-3 mb-3\">\r\n                            يقتضي حصولك على شهادة توثيق قراءتك جهد كبير من المختصين في التحقق\r\n                            من قراءتك وتقييم النتاج المعرفي الذي قدمت في قراءتك، بالتالي نعتذر\r\n                            عن إمكانية تقييم أكثر من كتاب لك دفعة واحدة. انتظر حصولك على\r\n                            الشهادة لكتابك المقدم آنفًا قبل الشروع بتقديم طلب جديد للحصول على\r\n                            توثيق القراءة الخاص بك\r\n                        </h4>\r\n                        <button @click=\"back()\" type=\"submit\" class=\"btn btn-primary d-block w-75 mx-auto mb-3\">\r\n                            عودة\r\n                        </button>\r\n                    </div>\r\n                </iq-card>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-sm-12 d-flex justify-content-center\" v-else>\r\n            <div class=\"col-sm-12\">\r\n                <iq-card class=\"iq-card\">\r\n                    <div class=\"iq-card-body p-0\">\r\n                        <div class=\"image-block text-center\">\r\n                            <img src=\"@/assets/images/start_new.png\" class=\"img-fluid rounded w-25 mt-3\"\r\n                                alt=\"blog-img\" />\r\n                        </div>\r\n\r\n                        <h2 class=\"text-center mt-3 mb-3\">ملاحظة</h2>\r\n                        <h4 class=\"text-center mt-3 mb-3\">\r\n                            سعداء بأنك تستعد لصعود أولى درجات سلم المجد، من خلال طلبك لفتح طلب\r\n                            تقييم ل قراءتك لهذا الكتاب. لكن انتبه، في حال فتحك لطلب تقييم\r\n                            قراءتك ضمن هذا الكتاب فلن تكون قادرًا على طلب تقييم كتب إضافية إلا\r\n                            بعد انتهاء فريق التقييم من مراجعة طلبك الحالي\r\n                        </h4>\r\n\r\n                        <button @click=\"requestCertificate\" type=\"submit\"\r\n                            class=\"btn btn-primary d-block w-75 mx-auto mb-3\">\r\n                            طلب شهادة\r\n                        </button>\r\n\r\n                        <button @click=\"$router.go(-1)\" type=\"submit\" class=\"btn btn-success d-block w-75 mx-auto mb-3\">\r\n                            عودة\r\n                        </button>\r\n\r\n\r\n                    </div>\r\n                </iq-card>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template >\r\n<script>\r\nimport bookServices from \"../../api/bookServices\";\r\nimport certificateServices from \"../../api/certificateServices\";\r\n\r\nexport default {\r\n    name: \"Profile\",\r\n    async created() {\r\n        await this.checkAchievement();\r\n    },\r\n    components: {\r\n    },\r\n    data() {\r\n        return {\r\n            already_have_one: 0,\r\n            book: null,\r\n            user_book: null,\r\n            status: \"\",\r\n            error: \"\",\r\n        };\r\n    },\r\n    methods: {\r\n        async checkAchievement() {\r\n            const response = await bookServices.checkAchievement(this.$route.params.id);\r\n            this.already_have_one = response.already_have_one;\r\n            if (response.book != null) {\r\n                this.book = response.book;\r\n                if (response.user_book != null) {\r\n                    this.user_book = response.user_book;\r\n                    this.status = this.user_book.status;\r\n                    if (this.user_book.thesises != null) {\r\n                        this.thesises = this.user_book.thesises;\r\n                        this.auditable = this.thesises.some((element) => {\r\n                            if (element.status === \"rejected\" || element.status === null) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        });\r\n\r\n                        this.user_book_info[0].value = this.user_book.thesises.length;\r\n                        this.thesisLength = this.user_book.thesises.length;\r\n                    }\r\n                    this.user_book_info[1].value = this.user_book.questions.length;\r\n                    if (this.user_book.questions.quotation) {\r\n                        this.user_book_info[2].value =\r\n                            this.user_book.questions.quotation.length;\r\n                    }\r\n                }\r\n            } else {\r\n                this.status = \"404\";\r\n            }\r\n        },\r\n        async requestCertificate() {\r\n            const res = await certificateServices.requestCertificateApi(this.book.id);\r\n            if (!res) {\r\n                this.already_have_one = 1;\r\n            } else {\r\n                window.location.reload();\r\n            }\r\n        },\r\n        back() {\r\n            this.$router.push({ path: `/book` });\r\n        },\r\n    },\r\n};\r\n</script>\r\n  "]},"metadata":{},"sourceType":"module"}