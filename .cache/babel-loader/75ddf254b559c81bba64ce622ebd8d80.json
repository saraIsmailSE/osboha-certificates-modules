{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, vShow as _vShow, withModifiers as _withModifiers, createBlock as _createBlock, normalizeClass as _normalizeClass } from \"vue\";\nimport _imports_0 from '../../assets/images/book-banner.png';\nimport _imports_1 from '../../assets/images/reader.png';\nvar _hoisted_1 = {\n  \"class\": \"row\"\n};\nvar _hoisted_2 = {\n  \"class\": \"col-sm-12\"\n};\nvar _hoisted_3 = {\n  \"class\": \"iq-card-body profile-page p-0\"\n};\nvar _hoisted_4 = {\n  \"class\": \"profile-header\"\n};\n\nvar _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"cover-container\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"profile-bg\",\n  \"class\": \"rounded img-fluid\"\n})], -1\n/* HOISTED */\n);\n\nvar _hoisted_6 = {\n  \"class\": \"user-detail text-center mb-3\"\n};\n\nvar _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"profile-img\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_1,\n  alt: \"profile-img\",\n  \"class\": \"avatar-130 img-fluid\"\n})], -1\n/* HOISTED */\n);\n\nvar _hoisted_8 = {\n  \"class\": \"profile-detail mt-1\"\n};\n\nvar _hoisted_9 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_10 = {\n  key: 0,\n  \"class\": \"\"\n};\nvar _hoisted_11 = {\n  \"class\": \"iq-card-body p-0\"\n};\nvar _hoisted_12 = {\n  \"class\": \"user-tabing\"\n};\nvar _hoisted_13 = {\n  \"class\": \"col-sm-12\"\n};\nvar _hoisted_14 = {\n  \"class\": \"tab-content\"\n};\nvar _hoisted_15 = {\n  \"class\": \"iq-card-body p-0\"\n};\nvar _hoisted_16 = {\n  \"class\": \"row\"\n};\nvar _hoisted_17 = {\n  \"class\": \"col-12\"\n};\nvar _hoisted_18 = {\n  id: \"post-modal-data\",\n  \"class\": \"iq-card\"\n};\n\nvar _hoisted_19 = /*#__PURE__*/_createElementVNode(\"h4\", {\n  \"class\": \"card-title\"\n}, \"إضافة الأسئلة والاقتباسات\", -1\n/* HOISTED */\n);\n\nvar _hoisted_20 = {\n  \"class\": \"d-flex align-items-center\"\n};\nvar _hoisted_21 = {\n  key: 0,\n  \"class\": \"d-flex align-items-center mt-3 w-100\"\n};\nvar _hoisted_22 = {\n  \"class\": \"form-group col-6\"\n};\n\nvar _hoisted_23 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\"\n}, \"اختر صفحة البداية\", -1\n/* HOISTED */\n);\n\nvar _hoisted_24 = [\"value\"];\nvar _hoisted_25 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\nvar _hoisted_26 = {\n  \"class\": \"form-group col-6\"\n};\n\nvar _hoisted_27 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\"\n}, \"اختر صفحة النهاية\", -1\n/* HOISTED */\n);\n\nvar _hoisted_28 = [\"value\"];\nvar _hoisted_29 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\nvar _hoisted_30 = {\n  \"class\": \"form-group\"\n};\nvar _hoisted_31 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\n\nvar _hoisted_32 = /*#__PURE__*/_createElementVNode(\"div\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_33 = {\n  \"class\": \"form-group\"\n};\n\nvar _hoisted_34 = /*#__PURE__*/_createElementVNode(\"h4\", {\n  \"class\": \"card-title\"\n}, \"الاقتباسات \", -1\n/* HOISTED */\n);\n\nvar _hoisted_35 = [\"onUpdate:modelValue\"];\nvar _hoisted_36 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\n\nvar _hoisted_37 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_38 = /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"submit\",\n  value: \"أضافة\",\n  href: \"javascript:void(0);\",\n  \"class\": \"btn btn-primary d-block mt-3\"\n}, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_39 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_40 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"h5\", {\n  \"class\": \"card-title\"\n}, \" تمت الاضافة بنجاح \")], -1\n/* HOISTED */\n);\n\nvar _hoisted_41 = /*#__PURE__*/_createElementVNode(\"h4\", {\n  \"class\": \"card-title\"\n}, \"الأسئلة\", -1\n/* HOISTED */\n);\n\nvar _hoisted_42 = {\n  id: \"form-wizard1\",\n  \"class\": \"text-center mt-3\"\n};\nvar _hoisted_43 = {\n  id: \"top-tab-list\",\n  \"class\": \"p-0 row list-inline\"\n};\nvar _hoisted_44 = [\"onClick\"];\nvar _hoisted_45 = {\n  href: \"javascript:void(0);\"\n};\nvar _hoisted_46 = {\n  \"class\": \"col-lg-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_iq_card = _resolveComponent(\"iq-card\");\n\n  var _component_tab_nav_items = _resolveComponent(\"tab-nav-items\");\n\n  var _component_tab_nav = _resolveComponent(\"tab-nav\");\n\n  var _component_alert = _resolveComponent(\"alert\");\n\n  var _component_ListQuestion = _resolveComponent(\"ListQuestion\");\n\n  var _component_tab_content_item = _resolveComponent(\"tab-content-item\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_iq_card, null, {\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, $data.book ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_10, _toDisplayString($data.book.book_name) + \" - قسم الأسئلة العامة\", 1\n      /* TEXT */\n      )) : _createCommentVNode(\"v-if\", true)])])])])];\n    }),\n    _: 1\n    /* STABLE */\n\n  }), _createVNode(_component_iq_card, {\n    \"class\": \"iq-card\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_tab_nav, {\n        pills: true,\n        id: \"pills-tab\",\n        \"class\": \"nav nav-pills d-flex align-items-center justify-content-center profile-feed-items p-0 m-0\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_tab_nav_items, {\n            \"class\": \"w-50 p-0\",\n            active: true,\n            id: \"pills-feed-tab\",\n            href: \"#questions_container\",\n            ariaControls: \"pills-home\",\n            role: \"tab\",\n            ariaSelected: true,\n            title: \"المرحلة الثالثة - الاسئلة المعرفية\"\n          }), _createVNode(_component_tab_nav_items, {\n            \"class\": \"w-50 p-0\",\n            id: \"return\",\n            title: \"صفحة الانجاز\",\n            onClick: _cache[0] || (_cache[0] = function ($event) {\n              return $options.back();\n            })\n          })];\n        }),\n        _: 1\n        /* STABLE */\n\n      })])])];\n    }),\n    _: 1\n    /* STABLE */\n\n  })]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createCommentVNode(\" START QUESTIONS \"), _createVNode(_component_tab_content_item, {\n    active: true,\n    id: \"questions_container\",\n    \"aria-labelled-by\": \"pills-feed-tab\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", null, [_createVNode(_component_iq_card, {\n        id: \"post-modal-data\",\n        \"body-class\": \"iq-card iq-card-block iq-card-stretch iq-card-height\"\n      }, {\n        headerTitle: _withCtx(function () {\n          return [_hoisted_19];\n        }),\n        body: _withCtx(function () {\n          return [_createElementVNode(\"div\", _hoisted_20, [$data.questions.length < 12 && $data.auditable || $data.questions.length == 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [$data.book ? (_openBlock(), _createElementBlock(\"form\", {\n            key: 0,\n            onSubmit: _cache[6] || (_cache[6] = _withModifiers(function () {\n              return $options.submitQuestionForm && $options.submitQuestionForm.apply($options, arguments);\n            }, [\"prevent\"])),\n            \"class\": \"post-text ml-3 w-100 row\"\n          }, [_createElementVNode(\"div\", _hoisted_22, [_withDirectives(_createElementVNode(\"select\", {\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n              return $setup.v$.questionForm.starting_page.$model = $event;\n            }),\n            \"class\": \"form-select\",\n            \"data-trigger\": \"\",\n            name: \"choices-single-default\",\n            id: \"choices-single-default\"\n          }, [_hoisted_23, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.book.pages, function (i, index) {\n            return _openBlock(), _createElementBlock(\"option\", {\n              key: index,\n              value: i\n            }, _toDisplayString(i), 9\n            /* TEXT, PROPS */\n            , _hoisted_24);\n          }), 128\n          /* KEYED_FRAGMENT */\n          ))], 512\n          /* NEED_PATCH */\n          ), [[_vModelSelect, $setup.v$.questionForm.starting_page.$model]]), $setup.v$.questionForm.starting_page.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_25, _toDisplayString($data.pageError ? $data.pageError : 'الرجاء قم بادخال صفحة البداية'), 1\n          /* TEXT */\n          )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_26, [_withDirectives(_createElementVNode(\"select\", {\n            \"class\": \"form-select\",\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n              return $setup.v$.questionForm.ending_page.$model = $event;\n            }),\n            \"data-trigger\": \"\",\n            name: \"choices-single-default\",\n            id: \"choices-single-default\"\n          }, [_hoisted_27, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.book.pages, function (i, index) {\n            return _openBlock(), _createElementBlock(\"option\", {\n              key: index,\n              value: i\n            }, _toDisplayString(i), 9\n            /* TEXT, PROPS */\n            , _hoisted_28);\n          }), 128\n          /* KEYED_FRAGMENT */\n          ))], 512\n          /* NEED_PATCH */\n          ), [[_vModelSelect, $setup.v$.questionForm.ending_page.$model]]), $setup.v$.questionForm.ending_page.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_29, _toDisplayString($data.pageError ? $data.pageError : \" \\u0627\\u0644\\u0631\\u062C\\u0627\\u0621 \\u0642\\u0645 \\u0628\\u0627\\u062F\\u062E\\u0627\\u0644 \\u0635\\u0641\\u062D\\u0629\\n                                                                    \\u0627\\u0644\\u0646\\u0647\\u0627\\u064A\\u0629\"), 1\n          /* TEXT */\n          )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_30, [_withDirectives(_createElementVNode(\"textarea\", {\n            rows: \"5\",\n            placeholder: \"... اكتب سؤالًا \",\n            \"class\": \"rounded form-control\",\n            id: \"bookQuestion\",\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n              return $setup.v$.questionForm.question.$model = $event;\n            })\n          }, null, 512\n          /* NEED_PATCH */\n          ), [[_vModelText, $setup.v$.questionForm.question.$model]]), $setup.v$.questionForm.question.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_31, \" لطفًا قم بكتابة سؤال عدد حروفه بين 100 و 250 \")) : _createCommentVNode(\"v-if\", true)]), _hoisted_32, _createElementVNode(\"div\", _hoisted_33, [_hoisted_34, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.questionForm.quotes, function (v, index) {\n            return _withDirectives((_openBlock(), _createElementBlock(\"textarea\", {\n              rows: \"5\",\n              placeholder: \"... اكتب اقتباسًا \",\n              key: index,\n              \"class\": \"rounded form-control mt-2\",\n              id: \"bookQuote\",\n              \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n                return v.text = $event;\n              }\n            }, \"\\r\\n                                                                \", 8\n            /* PROPS */\n            , _hoisted_35)), [[_vModelText, v.text]]);\n          }), 128\n          /* KEYED_FRAGMENT */\n          )), $setup.v$.questionForm.quotes.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_36, \" قم بادخال اقتباس واحد على الاقل عدد حروفه لا يزيد عن 250 \")) : _createCommentVNode(\"v-if\", true), _hoisted_37, _createElementVNode(\"a\", {\n            \"class\": \"btn btn-primary rounded-pill mb-3 me-1\",\n            onClick: _cache[4] || (_cache[4] = function ($event) {\n              return $options.addField(_ctx.textarea, $data.questionForm.quotes);\n            })\n          }, \" اضافة اقتباس \"), _withDirectives(_createElementVNode(\"a\", {\n            \"class\": \"btn btn-danger rounded-pill mb-3 me-1\",\n            onClick: _cache[5] || (_cache[5] = function ($event) {\n              return $options.removeField(_ctx.index, $data.questionForm.quotes);\n            })\n          }, \" حذف اقتباس \", 512\n          /* NEED_PATCH */\n          ), [[_vShow, $data.questionForm.quotes && $data.questionForm.quotes.length > 1]])]), _hoisted_38], 32\n          /* HYDRATE_EVENTS */\n          )) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]), _hoisted_39];\n        }),\n        _: 1\n        /* STABLE */\n\n      })])]), $data.insertSuccessful ? (_openBlock(), _createBlock(_component_alert, {\n        key: 0,\n        variant: \"primary\",\n        className: \"d-flex align-items-center text-center\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_hoisted_40];\n        }),\n        _: 1\n        /* STABLE */\n\n      })) : _createCommentVNode(\"v-if\", true), $data.questions.length > 0 ? (_openBlock(), _createBlock(_component_iq_card, {\n        key: 1\n      }, {\n        headerTitle: _withCtx(function () {\n          return [_hoisted_41];\n        }),\n        body: _withCtx(function () {\n          return [_createElementVNode(\"form\", _hoisted_42, [_createElementVNode(\"ul\", _hoisted_43, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.questions, function (question, index) {\n            return _openBlock(), _createElementBlock(\"li\", {\n              key: index,\n              \"class\": _normalizeClass([$options.checkActive(index, index + 1), \"col-2 mb-2 text-start\"]),\n              onClick: function onClick($event) {\n                return $options.changeTab(index + 1);\n              },\n              id: \"account\"\n            }, [_createElementVNode(\"a\", _hoisted_45, [_createElementVNode(\"span\", null, _toDisplayString(index + 1), 1\n            /* TEXT */\n            )])], 10\n            /* CLASS, PROPS */\n            , _hoisted_44);\n          }), 128\n          /* KEYED_FRAGMENT */\n          ))]), _createCommentVNode(\" fieldsets \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.questions, function (question, index) {\n            return _openBlock(), _createElementBlock(\"fieldset\", {\n              key: index,\n              \"class\": _normalizeClass($data.current == index + 1 ? 'd-block' : 'd-none')\n            }, [_createVNode(_component_ListQuestion, {\n              question: question,\n              index: index,\n              book: $data.book,\n              user_book: $data.user_book\n            }, null, 8\n            /* PROPS */\n            , [\"question\", \"index\", \"book\", \"user_book\"])], 2\n            /* CLASS */\n            );\n          }), 128\n          /* KEYED_FRAGMENT */\n          ))])];\n        }),\n        _: 1\n        /* STABLE */\n\n      })) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_46, [$data.questions.length >= 5 && $data.auditable && $data.status != 'finished' ? (_openBlock(), _createBlock(_component_iq_card, {\n        key: 0\n      }, {\n        body: _withCtx(function () {\n          return [_createElementVNode(\"button\", {\n            \"class\": \"btn btn-primary d-block w-100\",\n            onClick: _cache[7] || (_cache[7] = function () {\n              return $options.reviewQuestions && $options.reviewQuestions.apply($options, arguments);\n            })\n          }, \" اعتماد\")];\n        }),\n        _: 1\n        /* STABLE */\n\n      })) : _createCommentVNode(\"v-if\", true)])])])])];\n    }),\n    _: 1\n    /* STABLE */\n\n  }), _createCommentVNode(\" END QUESTIONS \")])])]);\n}","map":{"version":3,"mappings":"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","names":["_imports_0","_imports_1","_createElementVNode","src","alt","id","value","style","type","href","_createElementBlock","_createVNode","_component_iq_card","_hoisted_5","_hoisted_7","_hoisted_9","$data","_toDisplayString","book_name","_component_tab_nav","pills","_component_tab_nav_items","active","ariaControls","role","ariaSelected","title","onClick","$options","_createCommentVNode","_component_tab_content_item","headerTitle","_hoisted_19","body","length","onSubmit","$setup","questionForm","starting_page","$model","$event","name","_hoisted_23","_Fragment","_renderList","pages","i","index","key","_hoisted_24","$error","ending_page","_hoisted_27","_hoisted_28","rows","placeholder","question","_hoisted_32","_hoisted_34","quotes","v","text","_hoisted_35","_hoisted_37","_ctx","_hoisted_38","_hoisted_39","_createBlock","_component_alert","variant","className","_hoisted_40","_hoisted_41","_normalizeClass","_component_ListQuestion","book","user_book"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\views\\Achievement\\Questions.vue"],"sourcesContent":["<template>\r\n    <div class=\"row\">\r\n        <div class=\"col-sm-12\">\r\n            <iq-card>\r\n                <div class=\"iq-card-body profile-page p-0\">\r\n                    <div class=\"profile-header\">\r\n                        <div class=\"cover-container\">\r\n                            <img src=\"../../assets/images/book-banner.png\" alt=\"profile-bg\" class=\"rounded img-fluid\" />\r\n                        </div>\r\n                        <div class=\"user-detail text-center mb-3\">\r\n                            <div class=\"profile-img\">\r\n                                <img src=\"../../assets/images/reader.png\" alt=\"profile-img\"\r\n                                    class=\"avatar-130 img-fluid\" />\r\n                            </div>\r\n                            <div class=\"profile-detail mt-1\">\r\n                                <br />\r\n                                <h3 class=\"\" v-if=\"book\">{{book.book_name}} - قسم الأسئلة العامة</h3>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </iq-card>\r\n            <iq-card class=\"iq-card\">\r\n                <div class=\"iq-card-body p-0\">\r\n                    <div class=\"user-tabing\">\r\n                        <tab-nav :pills=\"true\" id=\"pills-tab\"\r\n                            class=\"nav nav-pills d-flex align-items-center justify-content-center profile-feed-items p-0 m-0\">\r\n                            <tab-nav-items class=\"w-50 p-0\" :active=\"true\" id=\"pills-feed-tab\"\r\n                                href=\"#questions_container\" ariaControls=\"pills-home\" role=\"tab\" :ariaSelected=\"true\"\r\n                                title=\"المرحلة الثالثة - الاسئلة المعرفية\" />\r\n                            <tab-nav-items class=\"w-50 p-0\" id=\"return\" title=\"صفحة الانجاز\" @click=\"back()\" />\r\n\r\n                        </tab-nav>\r\n                    </div>\r\n                </div>\r\n            </iq-card>\r\n        </div>\r\n        <div class=\"col-sm-12\">\r\n            <div class=\"tab-content\">\r\n                <!-- START QUESTIONS -->\r\n                <tab-content-item :active=\"true\" id=\"questions_container\" aria-labelled-by=\"pills-feed-tab\">\r\n                    <div class=\"iq-card-body p-0\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12\">\r\n                                <div id=\"post-modal-data\" class=\"iq-card\">\r\n                                    <div>\r\n                                        <iq-card id=\"post-modal-data\"\r\n                                            body-class=\"iq-card iq-card-block iq-card-stretch iq-card-height\">\r\n                                            <template v-slot:headerTitle>\r\n                                                <h4 class=\"card-title\">إضافة الأسئلة والاقتباسات</h4>\r\n                                            </template>\r\n                                            <template v-slot:body>\r\n                                                <div class=\"d-flex align-items-center\">\r\n                                                    <div v-if=\"(questions.length < 12 && auditable) || questions.length==0\"\r\n                                                        class=\"d-flex align-items-center mt-3 w-100\">\r\n                                                        <form v-if=\"book\" @submit.prevent=\"submitQuestionForm\"\r\n                                                            class=\"post-text ml-3 w-100 row\">\r\n                                                            <div class=\"form-group col-6\">\r\n                                                                <select v-model=\"v$.questionForm.starting_page.$model\"\r\n                                                                    class=\"form-select\" data-trigger\r\n                                                                    name=\"choices-single-default\"\r\n                                                                    id=\"choices-single-default\">\r\n                                                                    <option value=\"\">اختر صفحة البداية</option>\r\n                                                                    <option v-for=\"(i, index) in book.pages\"\r\n                                                                        :key=\"index\" :value=\"i\">\r\n                                                                        {{ i }}\r\n                                                                    </option>\r\n                                                                </select>\r\n                                                                <small style=\"color: red\"\r\n                                                                    v-if=\"v$.questionForm.starting_page.$error\">{{pageError\r\n                                                                    ? pageError\r\n                                                                    :'الرجاء قم بادخال صفحة البداية'}}</small>\r\n                                                            </div>\r\n                                                            <div class=\"form-group col-6\">\r\n                                                                <select class=\"form-select\"\r\n                                                                    v-model=\"v$.questionForm.ending_page.$model\"\r\n                                                                    data-trigger name=\"choices-single-default\"\r\n                                                                    id=\"choices-single-default\">\r\n                                                                    <option value=\"\">اختر صفحة النهاية</option>\r\n                                                                    <option v-for=\"(i, index) in book.pages\"\r\n                                                                        :key=\"index\" :value=\"i\">\r\n                                                                        {{ i }}\r\n                                                                    </option>\r\n                                                                </select>\r\n                                                                <small style=\"color: red\"\r\n                                                                    v-if=\"v$.questionForm.ending_page.$error\">{{pageError\r\n                                                                    ? pageError :` الرجاء قم بادخال صفحة\r\n                                                                    النهاية`}}</small>\r\n                                                            </div>\r\n                                                            <div class=\"form-group\">\r\n                                                                <textarea rows=\"5\" placeholder=\"... اكتب سؤالًا \"\r\n                                                                    class=\"rounded form-control\" id=\"bookQuestion\"\r\n                                                                    v-model=\"v$.questionForm.question.$model\"></textarea>\r\n                                                                <small style=\"color:red;\"\r\n                                                                    v-if=\"v$.questionForm.question.$error\">\r\n                                                                    لطفًا قم بكتابة سؤال عدد حروفه بين 100 و 250\r\n                                                                </small>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                            </div>\r\n                                                            <div class=\"form-group\">\r\n                                                                <h4 class=\"card-title\">الاقتباسات </h4>\r\n                                                                <textarea rows=\"5\" placeholder=\"... اكتب اقتباسًا \"\r\n                                                                    v-for=\"(v,index) in questionForm.quotes\"\r\n                                                                    :key=\"index\" class=\"rounded form-control mt-2\"\r\n                                                                    id=\"bookQuote\" v-model=\"v.text\">\r\n                                                                </textarea>\r\n                                                                <small style=\"color:red;\"\r\n                                                                    v-if=\"v$.questionForm.quotes.$error\">\r\n                                                                    قم بادخال اقتباس واحد على الاقل عدد حروفه لا يزيد عن\r\n                                                                    250\r\n                                                                </small>\r\n                                                                <hr>\r\n                                                                <a class=\"btn btn-primary rounded-pill mb-3 me-1\"\r\n                                                                    @click=\"addField(textarea, questionForm.quotes)\">\r\n                                                                    اضافة اقتباس\r\n                                                                </a>\r\n                                                                <a class=\"btn btn-danger rounded-pill mb-3 me-1\"\r\n                                                                    v-show=\"questionForm.quotes && questionForm.quotes.length > 1\"\r\n                                                                    @click=\"removeField(index, questionForm.quotes)\">\r\n                                                                    حذف اقتباس\r\n                                                                </a>\r\n                                                            </div>\r\n                                                            <input type=\"submit\" value=\"أضافة\"\r\n                                                                href=\"javascript:void(0);\"\r\n                                                                class=\"btn btn-primary d-block mt-3\" />\r\n                                                        </form>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <hr />\r\n                                            </template>\r\n                                        </iq-card>\r\n                                    </div>\r\n                                </div>\r\n                                <alert v-if=\"insertSuccessful\" variant=\"primary\"\r\n                                    className=\"d-flex align-items-center text-center\">\r\n                                    <template v-slot>\r\n                                        <div>\r\n                                            <h5 class=\"card-title\">\r\n                                                تمت الاضافة بنجاح\r\n                                            </h5>\r\n                                        </div>\r\n                                    </template>\r\n                                </alert>\r\n\r\n                                <iq-card v-if=\"questions.length>0\">\r\n                                    <template v-slot:headerTitle>\r\n                                        <h4 class=\"card-title\">الأسئلة</h4>\r\n                                    </template>\r\n                                    <template v-slot:body>\r\n                                        <form id=\"form-wizard1\" class=\"text-center mt-3\">\r\n                                            <ul id=\"top-tab-list\" class=\"p-0 row list-inline\">\r\n                                                <li v-for=\"(question,index) in  questions\" :key=\"index\"\r\n                                                    :class=\"checkActive(index, index+1)\" class=\"col-2 mb-2 text-start\"\r\n                                                    @click=\"changeTab(index+1)\" id=\"account\">\r\n                                                    <a href=\"javascript:void(0);\">\r\n                                                        <span> {{ index+1 }}</span>\r\n                                                    </a>\r\n                                                </li>\r\n                                            </ul>\r\n                                            <!-- fieldsets -->\r\n                                            <fieldset v-for=\"(question,index) in  questions\" :key=\"index\"\r\n                                                :class=\"current == index+1 ? 'd-block' : 'd-none'\">\r\n                                                <ListQuestion :question=\"question\" :index='index' :book=\"book\"\r\n                                                    :user_book=\"user_book\" />\r\n                                            </fieldset>\r\n                                        </form>\r\n                                    </template>\r\n                                </iq-card>\r\n\r\n                                <div class=\"col-lg-4\">\r\n                                    <iq-card v-if=\"questions.length >= 5 && auditable && status!='finished'\">\r\n                                        <template v-slot:body>\r\n                                            <button class=\"btn btn-primary d-block w-100\" @click=\"reviewQuestions\">\r\n                                                اعتماد</button>\r\n                                        </template>\r\n                                    </iq-card>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </tab-content-item>\r\n                <!-- END QUESTIONS -->\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template >\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, minLength, maxLength } from \"@vuelidate/validators\";\r\nimport ListQuestion from \"../../components/Questions/ListQuestion.vue\";\r\nimport questionServices from '../../api/questionServices'\r\n\r\nexport default {\r\n    name: \"Questions\",\r\n    async created() {\r\n        await this.getQuestions();\r\n    },\r\n    setup() {\r\n        return { v$: useVuelidate() };\r\n    },\r\n    components: {\r\n        ListQuestion,\r\n    },\r\n    data() {\r\n        return {\r\n            auditable: false,\r\n            book: null,\r\n            user_book: null,\r\n            status: \"\",\r\n            pageError: '',\r\n            questionForm: {\r\n                question: '',\r\n                starting_page: \"\",\r\n                ending_page: \"\",\r\n                user_book_id: null,\r\n                quotes: [\r\n                    { text: '' }\r\n                ]\r\n            },\r\n            questions: [],\r\n            show: \"\",\r\n            current: 1,\r\n            insertSuccessful: false\r\n        };\r\n    },\r\n    validations() {\r\n        return {\r\n            questionForm: {\r\n                question: {\r\n                    required,\r\n                    minLength: minLength(100),\r\n                    maxLength: maxLength(250)\r\n                }, starting_page: {\r\n                    required\r\n                },\r\n                ending_page: {\r\n                    required, valdiatePages: this.validatePages\r\n                }, quotes: {\r\n                    required,\r\n                    minLength: minLength(1),\r\n                    $each: {\r\n                        text: {\r\n                            minLength: minLength(250)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    },\r\n    methods: {\r\n        async getQuestions() {\r\n            const response = await questionServices.getByBook(this.$route.params.id);\r\n            this.book = response.user_book.book\r\n            this.questions = response.questions\r\n            this.user_book = response.user_book\r\n            this.questionForm.user_book_id = response.user_book.id;\r\n            this.status = this.user_book.status\r\n            this.auditable = this.questions.some((element) => {\r\n                if (element.status === \"rejected\" || element.status === null) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n\r\n\r\n        },\r\n        async submitQuestionForm() {\r\n            this.v$.$touch();\r\n\r\n            if (!this.v$.questionForm.$invalid) {\r\n                this.insertSuccessful=false\r\n                const question = await questionServices.addQuestion(this.questionForm);\r\n                this.questionForm.question = \"\";\r\n                this.questionForm.starting_page = \"\";\r\n                this.questionForm.ending_page = \"\";\r\n                this.questionForm.quotes = [{ text: '' }];\r\n                this.v$.questionForm.$reset()\r\n                this.questions.push(question)\r\n                this.auditable = true\r\n                this.insertSuccessful = true\r\n\r\n            }\r\n        },\r\n        validatePages() {\r\n            const error = parseInt(this.questionForm.starting_page) < parseInt(this.questionForm.ending_page)\r\n            if (!error) this.pageError = 'يجب ان تكون صفحة البداية اقل من صفحة النهاية'\r\n            else this.pageError = ''\r\n            return error;\r\n        },\r\n        async reviewQuestions() {\r\n            const swalWithBootstrapButtons = this.$swal.mixin({\r\n                customClass: {\r\n                    confirmButton: 'btn btn-primary btn-lg',\r\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\r\n                },\r\n                buttonsStyling: false\r\n            })\r\n            swalWithBootstrapButtons.fire({\r\n                title: 'هل أنت متأكد؟',\r\n                text: \"في حال الاعتماد لن يمكنك اضافة سؤال جديد أو التعديل على الأسئلة التي كتبتها \",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'نعم قم بالاعتماد ',\r\n                cancelButtonText: 'تراجع  ',\r\n                showClass: {\r\n                    popup: 'animate__animated animate__zoomIn'\r\n                },\r\n                hideClass: {\r\n                    popup: 'animate__animated animate__zoomOut'\r\n                }\r\n            })\r\n                .then((willDelete) => {\r\n                    if (willDelete.isConfirmed) {\r\n                        questionServices.reviewQuestion(this.user_book.id)\r\n                            .then(response => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'تم الارسال',\r\n                                    text: 'تم اعتماد الأسئلة',\r\n                                    icon: 'success',\r\n                                    showClass: {\r\n                                        popup: 'animate__animated animate__zoomIn'\r\n                                    },\r\n                                    hideClass: {\r\n                                        popup: 'animate__animated animate__zoomOut'\r\n                                    }\r\n                                })\r\n                                this.auditable = false;\r\n                            })\r\n                            .catch(error => {\r\n                                console.log(error)\r\n                            })\r\n                    }\r\n                })\r\n        },\r\n\r\n        addField(value, fieldType) {\r\n\r\n            fieldType.push({ text: \"\" });\r\n        },\r\n        removeField(index, fieldType) {\r\n            fieldType.splice(index, 1);\r\n        },\r\n\r\n        back() {\r\n            this.$router.push({ path: `/achievement/${this.$route.params.id}/steps`, params: { bookId: this.$route.params.id } })\r\n        },\r\n        changeTab(tab) {\r\n            this.current = tab\r\n            window.scrollTo({ behavior: 'smooth' })\r\n        },\r\n        checkActive(item, active) {\r\n            let className = ''\r\n            if (this.current > item) {\r\n                className = 'active'\r\n            }\r\n            if (this.current > active) {\r\n                className = className + ' done'\r\n            }\r\n            return className\r\n        }\r\n\r\n    },\r\n};\r\n</script>\r\n  "]},"metadata":{},"sourceType":"module"}