{"ast":null,"code":"import _objectSpread from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport BookCard from '../../components/Book/BookCard.vue';\nimport bookService from '../../api/bookServices';\nexport default {\n  name: 'Book',\n  components: {\n    BookCard: BookCard\n  },\n  created: function created() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.getBooks();\n\n            case 2:\n              _this.videosPerPage = 10;\n              _this.selectedPage = 0;\n              _this.searchedVideos = _this.allVideos(null, null);\n              _this.videoChunks = chunk(_this.searchedVideos, _this.videosPerPage);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  data: function data() {\n    return {\n      books: [],\n      openBook: [],\n      searchString: null,\n      oldSearchString: null,\n      searchedVideos: [],\n      selectedPage: 0,\n      videosPerPage: 0,\n      videoChunks: []\n    };\n  },\n  methods: {\n    getBooks: function getBooks() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var books;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return bookService.getAllUserBooks();\n\n              case 2:\n                books = _context2.sent;\n                _this2.books = books.books;\n                _this2.openBook = books.open_book;\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    search: function search() {\n      this.videosPerPage = 10;\n      this.selectedPage = 0;\n\n      if (this.searchString !== \"\" && this.oldSearchString !== this.searchString) {\n        this.searchedVideos = this.allVideos(null, this.searchString);\n        this.videoChunks = _.chunk(this.searchedVideos, this.videosPerPage);\n      }\n\n      this.oldSearchString = this.searchString;\n    },\n    selectPerPageCount: function selectPerPageCount(event) {\n      this.selectedPage = 0;\n      this.videosPerPage = event.target.value;\n      this.videoChunks = _.chunk(this.searchedVideos, this.videosPerPage);\n    },\n    selectPage: function selectPage(event) {\n      this.selectedPage = event.target.text - 1;\n    }\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters([\"allVideos\"])), {}, {\n    videosToShow: function videosToShow() {\n      return this.videoChunks[this.selectedPage];\n    },\n    totalPageCount: function totalPageCount() {\n      return this.videoChunks.length;\n    },\n    previousButton: function previousButton() {\n      return !(this.totalPageCount === 1 || this.selectedPage !== 0);\n    },\n    nextButton: function nextButton() {\n      return !(this.selectedPage + 1 < this.totalPageCount);\n    }\n  })\n};","map":{"version":3,"mappings":"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","names":["BookCard","bookService","name","components","created","getBooks","videosPerPage","selectedPage","searchedVideos","allVideos","videoChunks","chunk","data","books","openBook","searchString","oldSearchString","methods","getAllUserBooks","open_book","search","_","selectPerPageCount","event","target","value","selectPage","text","computed","mapGetters","videosToShow","totalPageCount","length","previousButton","nextButton"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\views\\Book\\Book.vue"],"sourcesContent":["<template>\n  <div v-if=\"openBook.length > 0\">\n    <h1 class=\"text-center mb-3\">الانجاز الحالي  </h1>\n    <BookCard v-for=\"bookInfo in openBook\" :key=\"bookInfo.id\" :bookInfo=\"bookInfo\" />\n    <hr>  \n  </div>\n\n\n    <div class=\"container bg-light\">\n    <div class=\"row mt-5 justify-content-center\">\n      <div class=\"col-sm-8 col-md-8 col-lg-6 m-lg-auto\">\n        <div class=\"input-group\">\n          <input\n            type=\"search\"\n            class=\"form-control rounded\"\n            placeholder=\"Type here\"\n            aria-label=\"Search\"\n            aria-describedby=\"search-addon\"\n            v-model=\"searchString\"\n          />\n          <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"search\">\n            Search Videos\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"row mt-5 justify-content-end\">\n      <div class=\"col-2\">\n        <select\n          class=\"form-select form-select-sm\"\n          aria-label=\".form-select-lg example\"\n          @change=\"selectPerPageCount\"\n        >\n          <option selected>Per page</option>\n          <option v-for=\"i in 5\" :key=\"i * 5\" :value=\"i * 5\">\n            {{ i * 5 }}\n          </option>\n        </select>\n      </div>\n    </div>\n\n    <div class=\"row mt-5 justify-content-center\" id=\"videoContainer\">\n      <div class=\"col-auto\" v-for=\"video in this.videosToShow\" :key=\"video.id\">\n        <div class=\"d-grid gap-3 d-grid-template-1fr-19\">\n\n<BookCard v-for=\"bookInfo in books\" :key=\"bookInfo.id\" :bookInfo=\"bookInfo\" />\n</div>\n</div>\n    </div>\n\n    <div class=\"row mt-3\">\n      <hr class=\"my-4\" />\n    </div>\n\n    <div class=\"row justify-content-end\">\n      <div class=\"col-12 text-center\">\n        <nav aria-label=\"...\">\n          <ul class=\"pagination justify-content-end pagination-sm\">\n            <li class=\"page-item\" v-bind:class=\"{ disabled: previousButton }\">\n              <a\n                href=\"#\"\n                class=\"page-link\"\n                @click=\"\n                  selectedPage + 1 > 1 ? (selectedPage -= 1) : selectedPage\n                \"\n                >Previous</a\n              >\n            </li>\n\n            <li\n              class=\"page-item\"\n              v-for=\"index in this.totalPageCount\"\n              :key=\"index\"\n              :value=\"index\"\n            >\n              <a class=\"page-link\" href=\"#\" @click=\"selectPage\">{{ index }}</a>\n            </li>\n\n            <li class=\"page-item\" v-bind:class=\"{ disabled: nextButton }\">\n              <a\n                class=\"page-link\"\n                href=\"#\"\n                @click=\"\n                  selectedPage + 1 === totalPageCount\n                    ? selectedPage\n                    : (selectedPage += 1)\n                \"\n                >Next</a\n              >\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  </div>\n\n\n\n</template>\n<script>\nimport BookCard from '../../components/Book/BookCard.vue'\nimport bookService from '../../api/bookServices'\nexport default {\n  name: 'Book',\n  components: { BookCard },\n  async created() {\n    await this.getBooks();\n    this.videosPerPage = 10;\n    this.selectedPage = 0;\n    this.searchedVideos = this.allVideos(null, null);\n    this.videoChunks = chunk(this.searchedVideos, this.videosPerPage);\n  },\n  data() {\n    return {\n      books: [],\n      openBook: [],\n      searchString: null,\n      oldSearchString: null,\n      searchedVideos: [],\n      selectedPage: 0,\n      videosPerPage: 0,\n      videoChunks: []\n\n    }\n  }, methods: {\n    async getBooks() {\n      const books = await bookService.getAllUserBooks();\n      this.books = books.books;\n      this.openBook = books.open_book\n    },\n    search() {\n      this.videosPerPage = 10;\n      this.selectedPage = 0;\n      if (\n        this.searchString !== \"\" &&\n        this.oldSearchString !== this.searchString\n      ) {\n        this.searchedVideos = this.allVideos(null, this.searchString);\n        this.videoChunks = _.chunk(this.searchedVideos, this.videosPerPage);\n      }\n      this.oldSearchString = this.searchString;\n    },\n    selectPerPageCount(event) {\n      this.selectedPage = 0;\n      this.videosPerPage = event.target.value;\n      this.videoChunks = _.chunk(this.searchedVideos, this.videosPerPage);\n    },\n    selectPage(event) {\n      this.selectedPage = event.target.text - 1;\n    },\n\n  },\n  computed: {\n    ...mapGetters([\"allVideos\"]),\n    videosToShow() {\n      return this.videoChunks[this.selectedPage];\n    },\n    totalPageCount() {\n      return this.videoChunks.length;\n    },\n    previousButton() {\n      return !(this.totalPageCount === 1 || this.selectedPage !== 0);\n    },\n    nextButton() {\n      return !(this.selectedPage + 1 < this.totalPageCount);\n    },\n  },\n\n}\n\n</script>\n"]},"metadata":{},"sourceType":"module"}