{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, vShow as _vShow, withModifiers as _withModifiers, createBlock as _createBlock } from \"vue\";\nimport _imports_0 from '../../assets/images/book-banner.png';\nimport _imports_1 from '../../assets/images/reader.png';\nvar _hoisted_1 = {\n  \"class\": \"row\"\n};\nvar _hoisted_2 = {\n  \"class\": \"col-sm-12\"\n};\nvar _hoisted_3 = {\n  \"class\": \"iq-card-body profile-page p-0\"\n};\nvar _hoisted_4 = {\n  \"class\": \"profile-header\"\n};\n\nvar _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"cover-container\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"profile-bg\",\n  \"class\": \"rounded img-fluid\"\n})], -1\n/* HOISTED */\n);\n\nvar _hoisted_6 = {\n  \"class\": \"user-detail text-center mb-3\"\n};\n\nvar _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"profile-img\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_1,\n  alt: \"profile-img\",\n  \"class\": \"avatar-130 img-fluid\"\n})], -1\n/* HOISTED */\n);\n\nvar _hoisted_8 = {\n  \"class\": \"profile-detail mt-1\"\n};\n\nvar _hoisted_9 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_10 = {\n  key: 0,\n  \"class\": \"\"\n};\nvar _hoisted_11 = {\n  \"class\": \"iq-card-body p-0\"\n};\nvar _hoisted_12 = {\n  \"class\": \"user-tabing\"\n};\nvar _hoisted_13 = {\n  \"class\": \"col-sm-12\"\n};\nvar _hoisted_14 = {\n  \"class\": \"tab-content\"\n};\nvar _hoisted_15 = {\n  \"class\": \"iq-card-body p-0\"\n};\nvar _hoisted_16 = {\n  \"class\": \"row\"\n};\n\nvar _hoisted_17 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"col-lg-4\"\n}, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_18 = {\n  key: 0,\n  \"class\": \"d-flex align-items-center mt-3\"\n};\nvar _hoisted_19 = {\n  \"class\": \"form-group col-6\"\n};\n\nvar _hoisted_20 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\"\n}, \"اختر صفحة البداية\", -1\n/* HOISTED */\n);\n\nvar _hoisted_21 = [\"value\"];\nvar _hoisted_22 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\nvar _hoisted_23 = {\n  \"class\": \"form-group col-6\"\n};\n\nvar _hoisted_24 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\"\n}, \"اختر صفحة النهاية\", -1\n/* HOISTED */\n);\n\nvar _hoisted_25 = [\"value\"];\nvar _hoisted_26 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\nvar _hoisted_27 = {\n  \"class\": \"form-group\"\n};\nvar _hoisted_28 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\n\nvar _hoisted_29 = /*#__PURE__*/_createElementVNode(\"div\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_30 = {\n  \"class\": \"form-group\"\n};\nvar _hoisted_31 = [\"onUpdate:modelValue\"];\nvar _hoisted_32 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\n\nvar _hoisted_33 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_34 = /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"submit\",\n  value: \"أضافة\",\n  href: \"javascript:void(0);\",\n  \"class\": \"btn btn-primary d-block mt-3\"\n}, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_35 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_iq_card = _resolveComponent(\"iq-card\");\n\n  var _component_tab_nav_items = _resolveComponent(\"tab-nav-items\");\n\n  var _component_tab_nav = _resolveComponent(\"tab-nav\");\n\n  var _component_ListQuestion = _resolveComponent(\"ListQuestion\");\n\n  var _component_tab_content_item = _resolveComponent(\"tab-content-item\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_iq_card, null, {\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _ctx.book ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_10, _toDisplayString(_ctx.book.book_name) + \" - قسم التلخيص والفكرة العامة\", 1\n      /* TEXT */\n      )) : _createCommentVNode(\"v-if\", true)])])])])];\n    }),\n    _: 1\n    /* STABLE */\n\n  }), _createVNode(_component_iq_card, {\n    \"class\": \"iq-card\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_tab_nav, {\n        pills: true,\n        id: \"pills-tab\",\n        \"class\": \"nav nav-pills d-flex align-items-center justify-content-center profile-feed-items p-0 m-0\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_tab_nav_items, {\n            \"class\": \"w-100 p-0\",\n            active: true,\n            id: \"pills-feed-tab\",\n            href: \"#theses_container\",\n            ariaControls: \"pills-home\",\n            role: \"tab\",\n            ariaSelected: true,\n            title: \"المرحلة الثانية - التلخيص والفكرة العامة\"\n          })];\n        }),\n        _: 1\n        /* STABLE */\n\n      })])])];\n    }),\n    _: 1\n    /* STABLE */\n\n  })]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createCommentVNode(\" START QUESTIONS \"), _createVNode(_component_tab_content_item, {\n    active: true,\n    id: \"theses_container\",\n    \"aria-labelled-by\": \"pills-feed-tab\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_hoisted_17, $data.questions.length < 12 && _ctx.status == 'stage_two' && $data.auditable || $data.questions.length == 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [_createElementVNode(\"form\", {\n        onSubmit: _cache[5] || (_cache[5] = _withModifiers(function () {\n          return $options.submitQuestionForm && $options.submitQuestionForm.apply($options, arguments);\n        }, [\"prevent\"])),\n        \"class\": \"post-text ml-3 w-100 row\"\n      }, [_createElementVNode(\"div\", _hoisted_19, [_withDirectives(_createElementVNode(\"select\", {\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n          return $setup.v$.questionForm.starting_page.$model = $event;\n        }),\n        \"class\": \"form-select\",\n        \"data-trigger\": \"\",\n        name: \"choices-single-default\",\n        id: \"choices-single-default\"\n      }, [_hoisted_20, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.book.pages, function (i, index) {\n        return _openBlock(), _createElementBlock(\"option\", {\n          key: index,\n          value: i\n        }, _toDisplayString(i), 9\n        /* TEXT, PROPS */\n        , _hoisted_21);\n      }), 128\n      /* KEYED_FRAGMENT */\n      ))], 512\n      /* NEED_PATCH */\n      ), [[_vModelSelect, $setup.v$.questionForm.starting_page.$model]]), $setup.v$.questionForm.starting_page.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_22, _toDisplayString($data.pageError ? $data.pageError : 'الرجاء قم بادخال صفحة البداية'), 1\n      /* TEXT */\n      )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_23, [_withDirectives(_createElementVNode(\"select\", {\n        \"class\": \"form-select\",\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n          return $setup.v$.questionForm.ending_page.$model = $event;\n        }),\n        \"data-trigger\": \"\",\n        name: \"choices-single-default\",\n        id: \"choices-single-default\"\n      }, [_hoisted_24, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.book.pages, function (i, index) {\n        return _openBlock(), _createElementBlock(\"option\", {\n          key: index,\n          value: i\n        }, _toDisplayString(i), 9\n        /* TEXT, PROPS */\n        , _hoisted_25);\n      }), 128\n      /* KEYED_FRAGMENT */\n      ))], 512\n      /* NEED_PATCH */\n      ), [[_vModelSelect, $setup.v$.questionForm.ending_page.$model]]), $setup.v$.questionForm.ending_page.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_26, _toDisplayString($data.pageError ? $data.pageError : ' الرجاء قم بادخال صفحة النهاية'), 1\n      /* TEXT */\n      )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_27, [_withDirectives(_createElementVNode(\"textarea\", {\n        rows: \"5\",\n        placeholder: \"... اكتب سؤالًا \",\n        \"class\": \"rounded form-control\",\n        id: \"bookQuestion\",\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n          return $setup.v$.questionForm.question.$model = $event;\n        })\n      }, null, 512\n      /* NEED_PATCH */\n      ), [[_vModelText, $setup.v$.questionForm.question.$model]]), $setup.v$.questionForm.question.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_28, \" لطفًا قم بكتابة سؤال عدد حروفه بين 100 و 250 \")) : _createCommentVNode(\"v-if\", true)]), _hoisted_29, _createElementVNode(\"div\", _hoisted_30, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.questionForm.quotes, function (v, index) {\n        return _withDirectives((_openBlock(), _createElementBlock(\"textarea\", {\n          rows: \"5\",\n          placeholder: \"... اكتب اقتباسًا \",\n          key: index,\n          \"class\": \"rounded form-control mt-2\",\n          id: \"bookQuote\",\n          \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n            return v.text = $event;\n          }\n        }, \"\\r\\n                                        \", 8\n        /* PROPS */\n        , _hoisted_31)), [[_vModelText, v.text]]);\n      }), 128\n      /* KEYED_FRAGMENT */\n      )), $setup.v$.questionForm.question.$error ? (_openBlock(), _createElementBlock(\"small\", _hoisted_32, \" قم بادخال اقتباس واحد على الاقل عدد حروفه لا يزيد عن 250 \")) : _createCommentVNode(\"v-if\", true), _hoisted_33, _createElementVNode(\"a\", {\n        \"class\": \"btn btn-primary rounded-pill mb-3 me-1\",\n        onClick: _cache[3] || (_cache[3] = function ($event) {\n          return $options.addField(_ctx.textarea, $data.questionForm.quotes);\n        })\n      }, \" اضافة اقتباس \"), _withDirectives(_createElementVNode(\"a\", {\n        \"class\": \"btn btn-danger rounded-pill mb-3 me-1\",\n        onClick: _cache[4] || (_cache[4] = function ($event) {\n          return $options.removeField(_ctx.index, $data.questionForm.quotes);\n        })\n      }, \" حذف اقتباس \", 512\n      /* NEED_PATCH */\n      ), [[_vShow, $data.questionForm.quotes && $data.questionForm.quotes.length > 1]])]), _hoisted_34], 32\n      /* HYDRATE_EVENTS */\n      )])) : _createCommentVNode(\"v-if\", true), _hoisted_35, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.questions, function (question, index) {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: question.id\n        }, [_createVNode(_component_ListQuestion, {\n          question: question,\n          index: index,\n          book: _ctx.book,\n          user_book: _ctx.user_book\n        }, null, 8\n        /* PROPS */\n        , [\"question\", \"index\", \"book\", \"user_book\"])]);\n      }), 128\n      /* KEYED_FRAGMENT */\n      )), $data.questions.length >= 5 && $data.auditable && _ctx.status != 'finished' ? (_openBlock(), _createBlock(_component_iq_card, {\n        key: 1\n      }, {\n        body: _withCtx(function () {\n          return [_createElementVNode(\"button\", {\n            \"class\": \"btn btn-primary d-block w-100\",\n            onClick: _cache[6] || (_cache[6] = function () {\n              return $options.reviewQuestions && $options.reviewQuestions.apply($options, arguments);\n            })\n          }, \"طلب تدقيق\")];\n        }),\n        _: 1\n        /* STABLE */\n\n      })) : _createCommentVNode(\"v-if\", true)])])];\n    }),\n    _: 1\n    /* STABLE */\n\n  }), _createCommentVNode(\" END QUESTIONS \")])])]);\n}","map":{"version":3,"mappings":"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","names":["_imports_0","_imports_1","_createElementVNode","src","alt","value","style","type","href","_createElementBlock","_createVNode","_component_iq_card","_hoisted_5","_hoisted_7","_hoisted_9","_ctx","_toDisplayString","book_name","_component_tab_nav","pills","id","_component_tab_nav_items","active","ariaControls","role","ariaSelected","title","_createCommentVNode","_component_tab_content_item","_hoisted_17","$data","length","onSubmit","$options","$setup","questionForm","starting_page","$model","$event","name","_hoisted_20","_Fragment","_renderList","pages","i","index","key","_hoisted_21","$error","ending_page","_hoisted_24","_hoisted_25","rows","placeholder","question","_hoisted_29","quotes","v","text","_hoisted_31","_hoisted_33","onClick","_hoisted_34","_hoisted_35","_component_ListQuestion","book","user_book","_createBlock","body"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\views\\Achievement\\Questions.vue"],"sourcesContent":["<template>\r\n    <div class=\"row\">\r\n        <div class=\"col-sm-12\">\r\n            <iq-card>\r\n                <div class=\"iq-card-body profile-page p-0\">\r\n                    <div class=\"profile-header\">\r\n                        <div class=\"cover-container\">\r\n                            <img src=\"../../assets/images/book-banner.png\" alt=\"profile-bg\" class=\"rounded img-fluid\" />\r\n                        </div>\r\n                        <div class=\"user-detail text-center mb-3\">\r\n                            <div class=\"profile-img\">\r\n                                <img src=\"../../assets/images/reader.png\" alt=\"profile-img\"\r\n                                    class=\"avatar-130 img-fluid\" />\r\n                            </div>\r\n                            <div class=\"profile-detail mt-1\">\r\n                                <br />\r\n                                <h3 class=\"\" v-if=\"book\">{{book.book_name}} - قسم التلخيص والفكرة العامة</h3>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </iq-card>\r\n            <iq-card class=\"iq-card\">\r\n                <div class=\"iq-card-body p-0\">\r\n                    <div class=\"user-tabing\">\r\n                        <tab-nav :pills=\"true\" id=\"pills-tab\"\r\n                            class=\"nav nav-pills d-flex align-items-center justify-content-center profile-feed-items p-0 m-0\">\r\n                            <tab-nav-items class=\"w-100 p-0\" :active=\"true\" id=\"pills-feed-tab\" href=\"#theses_container\"\r\n                                ariaControls=\"pills-home\" role=\"tab\" :ariaSelected=\"true\"\r\n                                title=\"المرحلة الثانية - التلخيص والفكرة العامة\" />\r\n                        </tab-nav>\r\n                    </div>\r\n                </div>\r\n            </iq-card>\r\n        </div>\r\n        <div class=\"col-sm-12\">\r\n            <div class=\"tab-content\">\r\n                <!-- START QUESTIONS -->\r\n                <tab-content-item :active=\"true\" id=\"theses_container\" aria-labelled-by=\"pills-feed-tab\">\r\n                    <div class=\"iq-card-body p-0\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-4\">\r\n                            </div>\r\n                            <div v-if=\"(questions.length < 12 && status == 'stage_two' && auditable) || questions.length==0\"\r\n                                class=\"d-flex align-items-center mt-3\">\r\n                                <form @submit.prevent=\"submitQuestionForm\" class=\"post-text ml-3 w-100 row\">\r\n                                    <div class=\"form-group col-6\">\r\n                                        <select v-model=\"v$.questionForm.starting_page.$model\" class=\"form-select\"\r\n                                            data-trigger name=\"choices-single-default\" id=\"choices-single-default\">\r\n                                            <option value=\"\">اختر صفحة البداية</option>\r\n                                            <option v-for=\"(i, index) in book.pages\" :key=\"index\" :value=\"i\">\r\n                                                {{ i }}\r\n                                            </option>\r\n                                        </select>\r\n                                        <small style=\"color: red\"\r\n                                            v-if=\"v$.questionForm.starting_page.$error\">{{pageError ? pageError :'الرجاء قم بادخال صفحة البداية'}}</small>\r\n                                    </div>\r\n                                    <div class=\"form-group col-6\">\r\n\r\n                                        <select class=\"form-select\" v-model=\"v$.questionForm.ending_page.$model\"\r\n                                            data-trigger name=\"choices-single-default\" id=\"choices-single-default\">\r\n                                            <option value=\"\">اختر صفحة النهاية</option>\r\n                                            <option v-for=\"(i, index) in book.pages\" :key=\"index\" :value=\"i\">\r\n                                                {{ i }}\r\n                                            </option>\r\n                                        </select>\r\n                                        <small style=\"color: red\" v-if=\"v$.questionForm.ending_page.$error\">{{pageError\r\n                                        ? pageError :' الرجاء قم بادخال صفحة النهاية'}}</small>\r\n                                    </div>\r\n\r\n                                    <div class=\"form-group\">\r\n                                        <textarea rows=\"5\" placeholder=\"... اكتب سؤالًا \" class=\"rounded form-control\"\r\n                                            id=\"bookQuestion\" v-model=\"v$.questionForm.question.$model\"></textarea>\r\n                                        <small style=\"color:red;\" v-if=\"v$.questionForm.question.$error\">\r\n                                            لطفًا قم بكتابة سؤال عدد حروفه بين 100 و 250\r\n                                        </small>\r\n                                    </div>\r\n                                    <div>\r\n                                    </div>\r\n                                    <div class=\"form-group\">\r\n                                        <textarea rows=\"5\" placeholder=\"... اكتب اقتباسًا \"\r\n                                            v-for=\"(v,index) in questionForm.quotes\" :key=\"index\"\r\n                                            class=\"rounded form-control mt-2\" id=\"bookQuote\" v-model=\"v.text\">\r\n                                        </textarea>\r\n                                        <small style=\"color:red;\" v-if=\"v$.questionForm.question.$error\">\r\n                                            قم بادخال اقتباس واحد على الاقل عدد حروفه لا يزيد عن 250\r\n                                        </small>\r\n                                        <hr>\r\n                                        <a class=\"btn btn-primary rounded-pill mb-3 me-1\"\r\n                                            @click=\"addField(textarea, questionForm.quotes)\">\r\n                                            اضافة اقتباس\r\n                                        </a>\r\n                                        <a class=\"btn btn-danger rounded-pill mb-3 me-1\"\r\n                                            v-show=\"questionForm.quotes && questionForm.quotes.length > 1\"\r\n                                            @click=\"removeField(index, questionForm.quotes)\">\r\n                                            حذف اقتباس\r\n                                        </a>\r\n                                    </div>\r\n                                    <input type=\"submit\" value=\"أضافة\" href=\"javascript:void(0);\"\r\n                                        class=\"btn btn-primary d-block mt-3\" />\r\n                                </form>\r\n                            </div>\r\n                            <hr />\r\n                            <div v-for=\"(question,index) in questions\" :key=\"question.id\">\r\n                                <ListQuestion :question=\"question\" :index='index' :book=\"book\" :user_book=\"user_book\" />\r\n                            </div>\r\n                            <iq-card v-if=\"questions.length >= 5 && auditable && status!='finished'\">\r\n                                <template v-slot:body>\r\n                                    <button class=\"btn btn-primary d-block w-100\" @click=\"reviewQuestions\">طلب\r\n                                        تدقيق</button>\r\n                                </template>\r\n                            </iq-card>\r\n                        </div>\r\n                    </div>\r\n                </tab-content-item>\r\n                <!-- END QUESTIONS -->\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, minLength, maxLength } from \"@vuelidate/validators\";\r\nimport questionServices from '../../api/questionServices'\r\nimport ListQuestion from '../../components/Questions/ListQuestion.vue'\r\n\r\nexport default {\r\n    setup() {\r\n        return { v$: useVuelidate() };\r\n    },\r\n    name: 'Questions',\r\n    created() {\r\n        this.getQuestions();\r\n    },\r\n    validations() {\r\n        return {\r\n            questionForm: {\r\n                components: {\r\n                    ListQuestion,\r\n                },\r\n                question: {\r\n                    required,\r\n                    minLength: minLength(100),\r\n                    maxLength: maxLength(250)\r\n\r\n                }, starting_page: {\r\n                    required\r\n                },\r\n                ending_page: {\r\n                    required, valdiatePages: this.validatePages\r\n                }, quotes: {\r\n                    required,\r\n                    minLength: minLength(1),\r\n                    $each: {\r\n                        text: {\r\n\r\n                            minLength: minLength(250)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    },\r\n    data() {\r\n        return {\r\n            auditable: false,\r\n            pageError: '',\r\n            questionForm: {\r\n                question: '',\r\n                starting_page: \"\",\r\n                ending_page: \"\",\r\n                user_book_id: null,\r\n                quotes: [\r\n                    { text: '' }\r\n                ]\r\n            },\r\n            questions: [],\r\n            show: false,\r\n        }\r\n    },\r\n    methods: {\r\n        addField(value, fieldType) {\r\n\r\n            fieldType.push({ text: \"\" });\r\n        },\r\n        removeField(index, fieldType) {\r\n            fieldType.splice(index, 1);\r\n        },\r\n        async submitQuestionForm() {\r\n            this.v$.$touch();\r\n\r\n            if (!this.v$.questionForm.$invalid) {\r\n                const question = await questionServices.addQuestion(this.questionForm);\r\n                this.questionForm.question = \"\";\r\n                this.questionForm.starting_page = \"\";\r\n                this.questionForm.ending_page = \"\";\r\n                this.questionForm.quotes = [{ text: '' }];\r\n                this.v$.questionForm.$reset()\r\n                this.questions.push(question)\r\n            }\r\n        },\r\n        async getQuestions() {\r\n            const response = await questionServices.getByBook(this.$route.params.book_id);\r\n            this.questions = response.questions\r\n            this.questions.user_book_id = response.user_book.id;\r\n            this.book = response.user_book.book;\r\n\r\n            this.auditable = this.questions.some(element => {\r\n                if (element.status === 'rejected' || element.status === null) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n        },\r\n        validatePages() {\r\n            const error = parseInt(this.questionForm.starting_page) < parseInt(this.questionForm.ending_page)\r\n            if (!error) this.pageError = 'يجب ان تكون صفحة البداية اقل من صفحة النهاية'\r\n            else this.pageError = ''\r\n            return error;\r\n        },\r\n        async reviewQuestions() {\r\n            const swalWithBootstrapButtons = this.$swal.mixin({\r\n                customClass: {\r\n                    confirmButton: 'btn btn-primary btn-lg',\r\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\r\n                },\r\n                buttonsStyling: false\r\n            })\r\n            swalWithBootstrapButtons.fire({\r\n                title: 'هل أنت متأكد؟',\r\n                text: \"في حال طلبك للتدقيق لن يمكنك اضافة سؤال جديد أو التعديل على الأسئلة التي كتبتها \",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'نعم قم بطلب تدقيق',\r\n                cancelButtonText: 'تراجع  ',\r\n                showClass: {\r\n                    popup: 'animate__animated animate__zoomIn'\r\n                },\r\n                hideClass: {\r\n                    popup: 'animate__animated animate__zoomOut'\r\n                }\r\n            })\r\n                .then((willDelete) => {\r\n                    if (willDelete.isConfirmed) {\r\n                        questionServices.reviewQuestion(this.user_book.id)\r\n                            .then(response => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'تم الارسال',\r\n                                    text: 'تم ارسال طلبك للتدقيق',\r\n                                    icon: 'success',\r\n                                    showClass: {\r\n                                        popup: 'animate__animated animate__zoomIn'\r\n                                    },\r\n                                    hideClass: {\r\n                                        popup: 'animate__animated animate__zoomOut'\r\n                                    }\r\n                                })\r\n                                this.auditable = false;\r\n                            })\r\n                            .catch(error => {\r\n                                console.log(error)\r\n                            })\r\n                    }\r\n                })\r\n        },\r\n    },\r\n}\r\n</script>\r\n  "]},"metadata":{},"sourceType":"module"}