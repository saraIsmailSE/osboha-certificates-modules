{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { api } from \"./Intercepter\";\nimport userInfoService from \"../services/userInfo.service\";\nexport default {\n  createThesis: function () {\n    var _createThesis = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(thesis, userbook_id) {\n      var formData, response;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              formData = new FormData();\n              formData.append(\"thesis_text\", thesis.text);\n              formData.append(\"ending_page\", thesis.pageEnd);\n              formData.append(\"starting_page\", thesis.pageStart);\n              formData.append(\"user_book_id\", userbook_id);\n              formData.append(\"image\", thesis.file[0]);\n              response = api.post(\"/thesises\", formData, {\n                headers: {\n                  \"Content-Type\": \"multipart/form-data\"\n                }\n              })[\"catch\"](function (error) {\n                console.log(error);\n              });\n              return _context.abrupt(\"return\", response);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function createThesis(_x, _x2) {\n      return _createThesis.apply(this, arguments);\n    }\n\n    return createThesis;\n  }(),\n  auditThesis: function () {\n    var _auditThesis = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id) {\n      var res;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return api.patch(\"/thesises/audit-thesis/\".concat(id))[\"catch\"](function (e) {\n                // error = e.response.data.message;\n                e;\n              }).then(function (e) {\n                return e;\n              });\n\n            case 2:\n              res = _context2.sent;\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function auditThesis(_x3) {\n      return _auditThesis.apply(this, arguments);\n    }\n\n    return auditThesis;\n  }(),\n  deleteThesis: function deleteThesis(id) {\n    var response = api[\"delete\"](\"/thesises/\".concat(id));\n    return response;\n  },\n  acceptThesis: function acceptThesis(id) {\n    var response = api.post(\"/thesises/audit\", {\n      id: id,\n      status: 'review',\n      auditor_id: userInfoService.getUser().id\n    });\n    return response;\n  },\n  rejectThesis: function rejectThesis(id, note) {\n    var response = api.post(\"/thesises/audit\", {\n      id: id,\n      status: 'rejected',\n      auditor_id: userInfoService.getUser().id,\n      reviews: note\n    });\n    return response;\n  },\n  addDegree: function addDegree(id, note, mark) {\n    var response = api.patch(\"/thesises/add-degree/\".concat(id), {\n      reviewer_id: userInfoService.getUser().id,\n      reviews: note,\n      degree: mark\n    });\n    return response;\n  },\n  updateThesis: function () {\n    var _updateThesis = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(thesis, id) {\n      var updateData, response;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log(\"TEST UPDATE\");\n              console.log(thesis.text);\n              updateData = new FormData();\n              updateData.append(\"text\", thesis.text);\n              updateData.append(\"ending_page\", thesis.ending_page);\n              updateData.append(\"starting_page\", thesis.starting_page);\n              updateData.append(\"image_1\", thesis.image_1);\n              updateData.append(\"image_2\", thesis.image_2);\n              response = api.patch(\"thesises/\".concat(id), updateData, {\n                headers: {\n                  \"Content-Type\": \"multipart/form-data\"\n                }\n              })[\"catch\"](function (error) {\n                console.log(error);\n              });\n              console.log(response);\n              return _context3.abrupt(\"return\", response);\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    function updateThesis(_x4, _x5) {\n      return _updateThesis.apply(this, arguments);\n    }\n\n    return updateThesis;\n  }(),\n  getById: function () {\n    var _getById = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return api.get(\"thesises/\".concat(id));\n\n            case 2:\n              response = _context4.sent;\n              response.data;\n              return _context4.abrupt(\"return\", response.data.data);\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    function getById(_x6) {\n      return _getById.apply(this, arguments);\n    }\n\n    return getById;\n  }()\n};","map":{"version":3,"names":["api","userInfoService","createThesis","thesis","userbook_id","formData","FormData","append","text","pageEnd","pageStart","file","response","post","headers","error","console","log","auditThesis","id","patch","e","then","res","deleteThesis","acceptThesis","status","auditor_id","getUser","rejectThesis","note","reviews","addDegree","mark","reviewer_id","degree","updateThesis","updateData","ending_page","starting_page","image_1","image_2","getById","get","data"],"sources":["C:/Users/someO/Desktop/vue/osboha-template/src/api/thesisServices.js"],"sourcesContent":["import { api } from \"./Intercepter\"\r\nimport userInfoService from \"../services/userInfo.service\";\r\nexport default {\r\n  createThesis: async (thesis, userbook_id) => {\r\n\r\n    let formData = new FormData();\r\n    formData.append(\"thesis_text\", thesis.text);\r\n    formData.append(\"ending_page\", thesis.pageEnd);\r\n    formData.append(\"starting_page\", thesis.pageStart);\r\n    formData.append(\"user_book_id\", userbook_id);\r\n    formData.append(\"image\", thesis.file[0]);\r\n    const response = api.post(\"/thesises\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }).catch(error => {\r\n\r\n      console.log(error)\r\n    }\r\n    )\r\n    return response;\r\n  },\r\n  auditThesis: async (id) => {\r\n    const res = await api\r\n      .patch(`/thesises/audit-thesis/${id}`)\r\n      .catch((e) => {\r\n        // error = e.response.data.message;\r\n        (e)\r\n      }).then(e => (e));\r\n    // return {data:res.data,error}\r\n  },\r\n  deleteThesis(id) {\r\n    const response = api.delete(`/thesises/${id}`)\r\n    return response;\r\n  },\r\n  acceptThesis(id) {\r\n    const response = api.post(\"/thesises/audit\", {\r\n      id: id,\r\n      status: 'review',\r\n      auditor_id: userInfoService.getUser().id\r\n    })\r\n    return response;\r\n  },\r\n  rejectThesis(id, note) {\r\n    const response = api.post(\"/thesises/audit\", {\r\n      id: id,\r\n      status: 'rejected',\r\n      auditor_id: userInfoService.getUser().id,\r\n      reviews: note\r\n    })\r\n    return response;\r\n  },\r\n  addDegree(id, note, mark) {\r\n    const response = api.patch(`/thesises/add-degree/${id}`, {\r\n      reviewer_id: userInfoService.getUser().id,\r\n      reviews: note,\r\n      degree: mark\r\n    })\r\n    return response;\r\n\r\n  },\r\n  updateThesis: async (thesis, id) => {\r\n    console.log(\"TEST UPDATE\")\r\n    console.log(thesis.text)\r\n    let updateData = new FormData();\r\n    updateData.append(\"text\", thesis.text);\r\n    updateData.append(\"ending_page\", thesis.ending_page);\r\n    updateData.append(\"starting_page\", thesis.starting_page);\r\n    updateData.append(\"image_1\", thesis.image_1);\r\n    updateData.append(\"image_2\", thesis.image_2);\r\n    const response = api.patch(`thesises/${id}`, updateData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }).catch(error => {\r\n\r\n      console.log(error)\r\n    }\r\n    )\r\n    console.log(response)\r\n    return response;\r\n  },\r\n  getById: async (id) => {\r\n    const response = await api.get(`thesises/${id}`);\r\n    (response.data)\r\n    return response.data.data;\r\n  },\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}