{"ast":null,"code":"import UserInfo from '../../../services/userInfo.service';\nimport acceptThesis from '../../../api/thesis/accept';\nimport rejectThesis from '../../../api/thesis/reject';\nimport thesisServices from '../../../api/thesisServices';\nexport default {\n  name: 'Thesis',\n  created: function created() {\n    this.role = UserInfo.getRole()[0];\n  },\n  props: ['thesis'],\n  data: function data() {\n    return {\n      role: '',\n      reject: false,\n      rejectNote: '',\n      timelineItems: [{\n        color: 'primary',\n        title: 'تمت المراجعة',\n        right: '24 November 2019',\n        description: 'Bonbon macaroon jelly beans gummi bears jelly lollipop apple',\n        child: {\n          type: 'img',\n          items: []\n        }\n      }]\n    };\n  },\n  methods: {\n    changeTab: function changeTab(value) {\n      this.$emit('onNext', value);\n    },\n    resolve_img_url: function resolve_img_url(path) {\n      var images = require.context('../../../assets/images', false, /\\.png$|\\.jpg$/);\n\n      return images(\"./\" + path);\n    },\n    setReject: function setReject() {\n      this.reject = true;\n    },\n    rejectThesis: function rejectThesis(id) {\n      var _this = this;\n\n      var swalWithBootstrapButtons = this.$swal.mixin({\n        customClass: {\n          confirmButton: 'btn btn-primary btn-lg',\n          cancelButton: 'btn btn-outline-primary btn-lg ms-2'\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: 'هل أنت متأكد؟',\n        text: \"موافقتك تعني رفض هذه الأطروحة\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'نعم قم بالرفض',\n        cancelButtonText: 'تراجع  ',\n        showClass: {\n          popup: 'animate__animated animate__zoomIn'\n        },\n        hideClass: {\n          popup: 'animate__animated animate__zoomOut'\n        }\n      }).then(function (willDelete) {\n        if (willDelete.isConfirmed) {\n          thesisServices.rejectThesis(id, _this.rejectNote).then(function (response) {\n            swalWithBootstrapButtons.fire({\n              title: 'تم الرفض',\n              text: 'تم رفض الأطروحة',\n              icon: 'success',\n              showClass: {\n                popup: 'animate__animated animate__zoomIn'\n              },\n              hideClass: {\n                popup: 'animate__animated animate__zoomOut'\n              }\n            });\n            location.reload();\n          })[\"catch\"](function (error) {\n            console.log(error);\n          });\n        }\n      });\n    },\n    accept: function accept(id) {\n      var swalWithBootstrapButtons = this.$swal.mixin({\n        customClass: {\n          confirmButton: 'btn btn-primary btn-lg',\n          cancelButton: 'btn btn-outline-primary btn-lg ms-2'\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: 'هل أنت متأكد؟',\n        text: \"موافقتك تعني قبول هذه الأطروحة\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'نعم قم بالقبول',\n        cancelButtonText: 'تراجع  ',\n        showClass: {\n          popup: 'animate__animated animate__zoomIn'\n        },\n        hideClass: {\n          popup: 'animate__animated animate__zoomOut'\n        }\n      }).then(function (willDelete) {\n        if (willDelete.isConfirmed) {\n          thesisServices.acceptThesis(id).then(function (response) {\n            swalWithBootstrapButtons.fire({\n              title: 'تم القبول',\n              text: 'تم قبول الأطروحة',\n              icon: 'success',\n              showClass: {\n                popup: 'animate__animated animate__zoomIn'\n              },\n              hideClass: {\n                popup: 'animate__animated animate__zoomOut'\n              }\n            });\n            location.reload();\n          })[\"catch\"](function (error) {\n            console.log(error);\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["UserInfo","acceptThesis","rejectThesis","thesisServices","name","created","role","getRole","props","data","reject","rejectNote","timelineItems","color","title","right","description","child","type","items","methods","changeTab","value","$emit","resolve_img_url","path","images","require","context","setReject","id","swalWithBootstrapButtons","$swal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","text","icon","showCancelButton","confirmButtonText","cancelButtonText","showClass","popup","hideClass","then","willDelete","isConfirmed","location","reload","console","log","error","accept"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\views\\Review\\Theses\\thesis.vue"],"sourcesContent":["<template>\n    <div class=\"form-card text-start\">\n        <form>\n            <div class=\"row setup-content\" id=\"user-detail\">\n                <div class=\"col-sm-12\"\n                    v-if=\"(thesis.status == 'audit' && role == 'admin') || (thesis.status == 'review' && role == 'reviwer')\">\n                    <div class=\"col-md-12 p-0\">\n                        <h3 class=\"mb-4\">معلومات الاطروحة</h3>\n                        <div class=\"row\">\n                            <div class=\"col-md-6 form-group\">\n                                <label for=\"uname\" class=\"form-label\">صفحة البداية</label>\n                                <label class=\"form-control-plaintext\">{{ thesis.starting_page }}</label>\n                            </div>\n                            <div class=\"col-md-6 form-group\">\n                                <label for=\"emailid\" class=\"form-label\">صفحة النهاية</label>\n                                <label class=\"form-control-plaintext\">{{ thesis.ending_page }}</label>\n                            </div>\n                            <hr>\n\n                            <div class=\"col-md-12 form-group\">\n                                <div class=\"col-md-12 form-group\">\n                                    <label for=\"emailid\" class=\"form-label\"> الاطروحة</label>\n                                    <p class=\"form-control-plaintext\">{{ thesis.thesis_text }}</p>\n                                </div>\n                                <div class=\"user-post\">\n                                    <div class=\" d-grid grid-rows-2 grid-flow-col gap-3\">\n                                        <div class=\"row-span-2 row-span-md-1\" v-for=\"photo in thesis.photos\"\n                                            :key=\"photo.path.id\">\n                                            <img :src=\"resolve_img_url(photo.path)\" alt=\"post-image\"\n                                                class=\"img-fluid rounded w-100\" />\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"col-md-12 form-group\">\n                                </div>\n                            </div>\n                            <div class=\"col-md-12 mb-3 form-group\" v-if=\"role == 'reviwer'\">\n                                <label for=\"address\" class=\"form-label\">ملاحظات المراجع *</label>\n                                <textarea name=\"address\" class=\"form-control\" id=\"address\" rows=\"5\"\n                                    required=\"required\"></textarea>\n                            </div>\n\n                            <div v-if=\"role == 'reviwer'\">\n                                <div class=\"row form-group\">\n                                    <label for=\"address\" class=\"form-label\"> درجة التقييم *</label>\n                                    <div class=\"col-md-9 form-group\">\n                                        <input type=\"text\" name=\"mark\" class=\"form-control\" id=\"mark\"\n                                            required=\"required\" />\n                                    </div>\n                                    <div class=\"col-md-3 form-group\">\n                                        <a href=\"javascript:void(0);\" class=\"btn btn-primary d-block\">إضافة</a>\n                                    </div>\n                                </div>\n                            </div>\n                            <div v-if=\"role == 'admin'\">\n                                <div class=\"col-md-12 form-group\">\n                                    <a href=\"javascript:void(0);\" class=\"btn btn-primary d-block\"\n                                        @click=\"accept(thesis.id)\">قبول</a>\n                                    <a href=\"javascript:void(0);\" class=\"btn btn-danger d-block mt-3\"\n                                        @click=\"setReject()\" v-if=\"!reject\">رفض</a>\n                                </div>\n                                <div class=\"col-md-12 mb-3 form-group\" v-if=\"reject\">\n                                    <label for=\"rejectNote\" class=\"form-label\">سبب الرفض *</label>\n                                    <textarea name=\"rejectNote\" class=\"form-control\" id=\"rejectNote\" rows=\"5\"\n                                        required=\"required\" v-model=rejectNote></textarea>\n                                    <a href=\"javascript:void(0);\" class=\"btn btn-danger d-block mt-3\"\n                                        @click=\"rejectThesis(thesis.id)\">رفض</a>\n\n                                </div>\n\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n                <div v-else>\n                    <div class=\"col-lg-6\">\n                        <iq-card>\n                            <template v-slot:headerTitle>\n                                <h4 class=\"card-title\">Product Order</h4>\n                            </template>\n                            <template v-slot:body>\n                                <TimeLine :items=\"[\n                                    {\n                                        color: 'primary',\n                                        title: 'تمت المراجعة',\n                                        right: thesis.updated_at,\n                                        description: 'Bonbon macaroon jelly beans gummi bears jelly lollipop apple',\n                                        child: {\n                                            type: 'img',\n                                            items: [\n                                            ]\n                                        }\n                                    },\n                    \n                                ]\" />\n                            </template>\n                        </iq-card>\n                    </div>\n                    <div class=\"col-lg-12\" v-if=\"role == reviwer\">\n                        <iq-card>\n                            <template v-slot:headerTitle>\n                                <h4 class=\"card-title\">تمت المراجعة</h4>\n                            </template>\n                            <template v-slot:body>\n                                <TimeLine :items=\"\n                                {color: 'primary',\n                                title: 'تمت المراجعة',\n                                right: thesis.updated_at,\n                                description: 'Bonbon macaroon jelly beans gummi bears jelly lollipop apple',}\" />\n                            </template>\n                        </iq-card>\n                    </div>\n                    <div class=\"col-lg-12\" v-if=\"role == 'reviwer'\">\n                        <iq-card>\n                            <template v-slot:headerTitle>\n                                <h4 class=\"card-title\">تم التدقيق </h4>\n                            </template>\n                            <template v-slot:body>\n                                <TimeLine :items=\"info\" />\n                            </template>\n                        </iq-card>\n                    </div>\n                </div>\n            </div>\n        </form>\n    </div>\n</template>\n<script>\nimport UserInfo from '../../../services/userInfo.service'\nimport acceptThesis from '../../../api/thesis/accept'\nimport rejectThesis from '../../../api/thesis/reject'\nimport thesisServices from '../../../api/thesisServices'\n\nexport default {\n    name: 'Thesis',\n    created() {\n        this.role = UserInfo.getRole()[0]\n    },\n    props: [\n        'thesis'\n    ],\n    data() {\n        return {\n            role: '',\n            reject: false,\n            rejectNote: '',\n            timelineItems: [\n                {\n                    color: 'primary',\n                    title: 'تمت المراجعة',\n                    right: '24 November 2019',\n                    description: 'Bonbon macaroon jelly beans gummi bears jelly lollipop apple',\n                    child: {\n                        type: 'img',\n                        items: [\n                        ]\n                    }\n                },\n            ]\n        }\n    },\n    methods: {\n        changeTab(value) {\n            this.$emit('onNext', value)\n        },\n        resolve_img_url: function (path) {\n            let images = require.context('../../../assets/images', false, /\\.png$|\\.jpg$/)\n            return images(\"./\" + path)\n        },\n        setReject() {\n            this.reject = true;\n        },\n        rejectThesis(id) {\n            const swalWithBootstrapButtons = this.$swal.mixin({\n                customClass: {\n                    confirmButton: 'btn btn-primary btn-lg',\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\n                },\n                buttonsStyling: false\n            })\n\n            swalWithBootstrapButtons.fire({\n                title: 'هل أنت متأكد؟',\n                text: \"موافقتك تعني رفض هذه الأطروحة\",\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'نعم قم بالرفض',\n                cancelButtonText: 'تراجع  ',\n                showClass: {\n                    popup: 'animate__animated animate__zoomIn'\n                },\n                hideClass: {\n                    popup: 'animate__animated animate__zoomOut'\n                }\n            })\n                .then((willDelete) => {\n                    if (willDelete.isConfirmed) {\n                        thesisServices.rejectThesis(id, this.rejectNote)\n                            .then(response => {\n                                swalWithBootstrapButtons.fire({\n                                    title: 'تم الرفض',\n                                    text: 'تم رفض الأطروحة',\n                                    icon: 'success',\n                                    showClass: {\n                                        popup: 'animate__animated animate__zoomIn'\n                                    },\n                                    hideClass: {\n                                        popup: 'animate__animated animate__zoomOut'\n                                    }\n                                })\n                                location.reload()\n                            })\n                            .catch(error => {\n                                console.log(error)\n                            })\n                    }\n                })\n        },\n        accept(id) {\n            const swalWithBootstrapButtons = this.$swal.mixin({\n                customClass: {\n                    confirmButton: 'btn btn-primary btn-lg',\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\n                },\n                buttonsStyling: false\n            })\n            swalWithBootstrapButtons.fire({\n                title: 'هل أنت متأكد؟',\n                text: \"موافقتك تعني قبول هذه الأطروحة\",\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'نعم قم بالقبول',\n                cancelButtonText: 'تراجع  ',\n                showClass: {\n                    popup: 'animate__animated animate__zoomIn'\n                },\n                hideClass: {\n                    popup: 'animate__animated animate__zoomOut'\n                }\n            })\n                .then((willDelete) => {\n                    if (willDelete.isConfirmed) {\n                        thesisServices.acceptThesis(id)\n                            .then(response => {\n                                swalWithBootstrapButtons.fire({\n                                    title: 'تم القبول',\n                                    text: 'تم قبول الأطروحة',\n                                    icon: 'success',\n                                    showClass: {\n                                        popup: 'animate__animated animate__zoomIn'\n                                    },\n                                    hideClass: {\n                                        popup: 'animate__animated animate__zoomOut'\n                                    }\n                                })\n                                location.reload()\n                            })\n                            .catch(error => {\n                                console.log(error)\n                            })\n                    }\n                })\n        }\n    }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}