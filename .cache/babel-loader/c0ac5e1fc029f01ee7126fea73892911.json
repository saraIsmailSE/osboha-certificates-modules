{"ast":null,"code":"import _classCallCheck from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { api } from \"../api/Intercepter\";\nimport UserInfo from \"./userInfo.service\";\n\nvar AuthService = /*#__PURE__*/function () {\n  function AuthService() {\n    _classCallCheck(this, AuthService);\n  }\n\n  _createClass(AuthService, [{\n    key: \"login\",\n    value: function login(_ref) {\n      var username = _ref.username,\n          password = _ref.password;\n      return api.post(\"/auth/signin\", {\n        username: username,\n        password: password\n      }).then(function (response) {\n        if (response.data.accessToken) {\n          UserInfo.setUser(response.data);\n        }\n\n        return response.data;\n      });\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      UserInfo.removeUser();\n    }\n  }, {\n    key: \"register\",\n    value: function register(_ref2) {\n      var username = _ref2.username,\n          email = _ref2.email,\n          password = _ref2.password,\n          file = _ref2.file;\n      var formData = new FormData();\n      formData.append(\"name\", username);\n      formData.append(\"email\", email);\n      formData.append(\"password\", password);\n      formData.append(\"image\", file[0]);\n      return api.post(\"register\", formData).then(function (response) {\n        UserInfo.setUser(response.data);\n        return response.data;\n      });\n    }\n  }, {\n    key: \"registerAdmin\",\n    value: function registerAdmin(_ref3) {\n      var username = _ref3.username,\n          email = _ref3.email,\n          password = _ref3.password,\n          role = _ref3.role;\n      return api.post(\"/auth/register-admin\", {\n        username: username,\n        email: email,\n        password: password,\n        role: role\n      }).then(function (response) {\n        UserInfo.setUser(response.data);\n        return response.data;\n      });\n    }\n  }]);\n\n  return AuthService;\n}();\n\nexport default new AuthService();","map":{"version":3,"names":["api","UserInfo","AuthService","username","password","post","then","response","data","accessToken","setUser","removeUser","email","file","formData","FormData","append","role"],"sources":["C:/Users/someO/Desktop/vue/osboha-template/src/services/auth.service.js"],"sourcesContent":["import { api } from \"../api/Intercepter\";\nimport UserInfo from \"./userInfo.service\";\n\nclass AuthService {\n  login({ username, password }) {\n    return api\n      .post(\"/auth/signin\", {\n        username,\n        password,\n      })\n      .then((response) => {\n        if (response.data.accessToken) {\n          UserInfo.setUser(response.data);\n        }\n\n        return response.data;\n      });\n  }\n\n  logout() {\n    UserInfo.removeUser();\n  }\n\n  register({ username, email, password ,file}) {\n    let formData = new FormData();\n  \n    formData.append(\"name\", username);\n    formData.append(\"email\", email);\n    formData.append(\"password\", password); \n    formData.append(\"image\", file[0]);\n    return api\n      .post(\"register\",formData)\n      .then((response) => {\n        UserInfo.setUser(response.data);\n        return response.data\n      });\n  }\n\n  registerAdmin({ username, email, password ,role}) {\n \n    return api\n      .post(\"/auth/register-admin\", {\n        username,\n        email,\n        password,\n        role\n      })\n      .then((response) => {\n        UserInfo.setUser(response.data);\n        return response.data\n      });\n  }\n}\n\nexport default new AuthService();\n"],"mappings":";;AAAA,SAASA,GAAT,QAAoB,oBAApB;AACA,OAAOC,QAAP,MAAqB,oBAArB;;IAEMC,W;;;;;;;WACJ,qBAA8B;MAAA,IAAtBC,QAAsB,QAAtBA,QAAsB;MAAA,IAAZC,QAAY,QAAZA,QAAY;MAC5B,OAAOJ,GAAG,CACPK,IADI,CACC,cADD,EACiB;QACpBF,QAAQ,EAARA,QADoB;QAEpBC,QAAQ,EAARA;MAFoB,CADjB,EAKJE,IALI,CAKC,UAACC,QAAD,EAAc;QAClB,IAAIA,QAAQ,CAACC,IAAT,CAAcC,WAAlB,EAA+B;UAC7BR,QAAQ,CAACS,OAAT,CAAiBH,QAAQ,CAACC,IAA1B;QACD;;QAED,OAAOD,QAAQ,CAACC,IAAhB;MACD,CAXI,CAAP;IAYD;;;WAED,kBAAS;MACPP,QAAQ,CAACU,UAAT;IACD;;;WAED,yBAA6C;MAAA,IAAlCR,QAAkC,SAAlCA,QAAkC;MAAA,IAAxBS,KAAwB,SAAxBA,KAAwB;MAAA,IAAjBR,QAAiB,SAAjBA,QAAiB;MAAA,IAAPS,IAAO,SAAPA,IAAO;MAC3C,IAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;MAEAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBb,QAAxB;MACAW,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBJ,KAAzB;MACAE,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BZ,QAA5B;MACAU,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBH,IAAI,CAAC,CAAD,CAA7B;MACA,OAAOb,GAAG,CACPK,IADI,CACC,UADD,EACYS,QADZ,EAEJR,IAFI,CAEC,UAACC,QAAD,EAAc;QAClBN,QAAQ,CAACS,OAAT,CAAiBH,QAAQ,CAACC,IAA1B;QACA,OAAOD,QAAQ,CAACC,IAAhB;MACD,CALI,CAAP;IAMD;;;WAED,8BAAkD;MAAA,IAAlCL,QAAkC,SAAlCA,QAAkC;MAAA,IAAxBS,KAAwB,SAAxBA,KAAwB;MAAA,IAAjBR,QAAiB,SAAjBA,QAAiB;MAAA,IAAPa,IAAO,SAAPA,IAAO;MAEhD,OAAOjB,GAAG,CACPK,IADI,CACC,sBADD,EACyB;QAC5BF,QAAQ,EAARA,QAD4B;QAE5BS,KAAK,EAALA,KAF4B;QAG5BR,QAAQ,EAARA,QAH4B;QAI5Ba,IAAI,EAAJA;MAJ4B,CADzB,EAOJX,IAPI,CAOC,UAACC,QAAD,EAAc;QAClBN,QAAQ,CAACS,OAAT,CAAiBH,QAAQ,CAACC,IAA1B;QACA,OAAOD,QAAQ,CAACC,IAAhB;MACD,CAVI,CAAP;IAWD;;;;;;AAGH,eAAe,IAAIN,WAAJ,EAAf"},"metadata":{},"sourceType":"module"}