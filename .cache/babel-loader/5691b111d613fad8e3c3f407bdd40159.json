{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport Stage2 from './ProfileElements/Stage2';\nimport CreateThesis from '../../../components/Thesis/CreateThesis.vue';\nimport ThesisDisplay from '../../../components/Thesis/ThesisDisplay';\nimport bookServices from '../../../api/bookServices';\nimport thesisServices from '../../../api/thesisServices';\nexport default {\n  name: 'Profile',\n  created: function created() {\n    this.getFinalStatistics();\n    this.getBook();\n  },\n  emits: ['addThesis'],\n  components: {\n    CreateThesis: CreateThesis,\n    ThesisDisplay: ThesisDisplay,\n    Stage2: Stage2\n  },\n  data: function data() {\n    return {\n      book: null,\n      user_book: null,\n      user_book_info: [{\n        title: 'الأطروحات',\n        value: 0\n      }, {\n        title: 'الأسئلة',\n        value: 0\n      }, {\n        title: 'الاقتباسات',\n        value: 0\n      }],\n      status: \"\",\n      thesises: [],\n      statistics: null,\n      thesisLength: 0,\n      thesisTitle: \"الأطروحة رقم\"\n    };\n  },\n  methods: {\n    addThesis: function addThesis(thesis) {\n      console.log('hi');\n      this.thesises.push(thesis);\n    },\n    getBook: function getBook() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return bookServices.getUserBook(_this.$route.params.id);\n\n              case 2:\n                response = _context.sent;\n\n                if (response.book != null) {\n                  _this.book = response.book;\n\n                  if (response.user_book != null) {\n                    _this.user_book = response.user_book;\n                    _this.status = _this.user_book.status;\n\n                    if (_this.user_book.thesises != null) {\n                      _this.thesises = _this.user_book.thesises;\n                      _this.user_book_info[0].value = _this.user_book.thesises.length;\n                      _this.thesisLength = _this.user_book.thesises.length;\n                    }\n\n                    _this.user_book_info[1].value = _this.user_book.questions.length;\n\n                    if (_this.user_book.questions.quotation) {\n                      _this.user_book_info[2].value = _this.user_book.questions.quotation.length;\n                    }\n                  }\n                } else {\n                  _this.status = \"404\";\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    auditThesisStatus: function auditThesisStatus() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return thesisServices.auditThesis(_this2.$route.params.id);\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    getFinalStatistics: function getFinalStatistics() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var statistics;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return bookServices.getStatistics(_this3.$route.params.id);\n\n              case 2:\n                statistics = _context3.sent;\n                _this3.statistics = statistics;\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["Stage2","CreateThesis","ThesisDisplay","bookServices","thesisServices","name","created","getFinalStatistics","getBook","emits","components","data","book","user_book","user_book_info","title","value","status","thesises","statistics","thesisLength","thesisTitle","methods","addThesis","thesis","console","log","push","getUserBook","$route","params","id","response","length","questions","quotation","auditThesisStatus","auditThesis","getStatistics"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\views\\SocailMain\\Profile\\Profile.vue"],"sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <iq-card>\n        <div class=\"iq-card-body profile-page p-0\">\n          <div class=\"profile-header\">\n            <div class=\"cover-container\">\n              <img src=\"../../../assets/images/book-banner.png\" alt=\"profile-bg\" class=\"rounded img-fluid\" />\n            </div>\n            <div class=\"user-detail text-center mb-3\">\n              <div class=\"profile-img\">\n                <img src=\"../../../assets/images/reader.png\" alt=\"profile-img\" class=\"avatar-130 img-fluid\" />\n              </div>\n              <div class=\"profile-detail mt-1\">\n                <br>\n                <h3 class=\"\" v-if=\"book\">{{book.book_name}}</h3>\n              </div>\n            </div>\n            <div class=\"profile-info p-4 d-flex align-items-center justify-content-between position-relative\">\n              <div class=\"social-links\">\n                <!-- RATING -->\n              </div>\n              <!-- USER BOOK INFO -->\n              <div class=\"social-info\" v-if=\"user_book\">\n                <ul class=\"social-data-block d-flex align-items-center justify-content-between list-inline p-0 m-0\">\n                  <li v-for=\"(info, index) in user_book_info\" :key=\"index\" class=\"text-center ps-3\">\n                    <h6>{{ info.title }}</h6>\n                    <p class=\"mb-0\">{{ info.value }}</p>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </iq-card>\n      <iq-card class=\"iq-card\" v-if=\"status\">\n        <div class=\"iq-card-body p-0\">\n          <div class=\"user-tabing\">\n            <tab-nav :pills=\"true\" id=\"pills-tab\"\n              class=\"nav nav-pills d-flex align-items-center justify-content-center profile-feed-items p-0 m-0\">\n              <tab-nav-items class=\"col-sm-3 p-0\" :active=\"true\" id=\"pills-feed-tab\" href=\"#profile-feed\"\n                ariaControls=\"pills-home\" role=\"tab\" :ariaSelected=\"true\" title=\"المرحلة الأولى - الأطروحات\" />\n              <tab-nav-items class=\"col-sm-3 p-0\" :active=\"false\" id=\"pills-activity-tab\" href=\"#profile-activity\"\n                ariaControls=\"pills-profile\" role=\"tab\" :ariaSelected=\"false\"\n                title=\"المرحلة الثانية - الأسئلة العامة\" />\n              <tab-nav-items class=\"col-sm-3 p-0\" :active=\"false\" id=\"pills-friend-tab\" href=\"#profile-friends\"\n                ariaControls=\"pills-contact\" role=\"tab\" :ariaSelected=\"false\" title=\"احصائيات\" />\n              <tab-nav-items class=\"col-sm-3 p-0\" :active=\"false\" id=\"pills-profile-tab\" href=\"#profile-profile\"\n                ariaControls=\"pills-contact\" role=\"tab\" :ariaSelected=\"false\" title=\"اصدار الشهادة\" />\n            </tab-nav>\n          </div>\n        </div>\n      </iq-card>\n    </div>\n    <div class=\"col-sm-12\" v-if=\"status\">\n      <div class=\"tab-content\">\n        <!-- START STAGE ONE -->\n        <tab-content-item :active=\"true\" id=\"profile-feed\" aria-labelled-by=\"pills-feed-tab\"\n          v-if=\" status && (status == 'stage_one' || status == 'stage_two' || status == 'finished')\">\n          <div class=\"iq-card-body p-0\">\n            <div class=\"row\">\n              <div class=\"col-lg-4\">\n                <iq-card v-if=\"status== 'finished'\">\n                  <template v-slot:body>\n                    <a href=\"#\"><span\n                        class=\"badge badge-pill bg-primary font-weight-normal ms-auto me-1 material-symbols-outlined md-14\">grade</span>\n                      المعدل العام</a>\n                  </template>\n                </iq-card>\n                <iq-card>\n                  <template v-slot:headerTitle>\n                    <h4 class=\"card-title\">المرحلة الحالية</h4>\n                  </template>\n                  <template v-slot:headerAction>\n                    <p class=\"m-0\" v-if=\"status == 'stage_one'\">المرحلة الأولى</p>\n                    <p class=\"m-0\" v-else-if=\"status == 'satge_two'\">المرحلة الثانية</p>\n                    <p class=\"m-0\" v-else>أتممت توثيق الانجاز </p>\n\n                  </template>\n                </iq-card>\n                <iq-card v-if=\"book\">\n                  <template v-slot:headerTitle>\n                    <h4 class=\"card-title\">مستوى الكتاب</h4>\n                  </template>\n                  <template v-slot:headerAction>\n                    <p class=\"m-0\">{{book.type.name}} </p>\n                  </template>\n                </iq-card>\n                <iq-card v-if=\"status === 'stage_one' && thesisLength >= 8\">\n                  <template v-slot:body>\n                    <form @submit=\"auditThesisStatus\">\n                      <button class=\"btn btn-primary d-block w-100\" @click=\"auditThesisStatus\">طلب تدقيق</button>\n                    </form>\n                  </template>\n                </iq-card>\n              </div>\n              <div class=\"col-lg-8\">\n                <div id=\"post-modal-data\" class=\"iq-card\">\n                  <CreateThesis  @create=\"addThesis\" :book='book' :noOfThesis='thesisLength'\n                    v-if=\"  thesisLength < 12  && status === 'stage_one'\" />\n                  <div v-for=\"(thesis,index) in thesises\" :key=\"index\">\n                    <ThesisDisplay :thesis=\"thesis\" :number=\"index\" :title=\"thesisTitle\" :book=\"book\"></ThesisDisplay>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </tab-content-item>\n        <!-- END STAGE ONE -->\n\n        <!-- START STAGE TWO -->\n        <tab-content-item :active=\"false\" id=\"profile-activity\" aria-labelled-by=\"pills-activity-tab\"\n          v-if=\"status && (status == 'stage_two' || status == 'finished')\">\n          <iq-card>\n            <template v-slot:body>\n              <Stage2 :book='book' :status='status'/>\n            </template>\n          </iq-card>\n        </tab-content-item>\n        <tab-content-item :active=\"false\" id=\"profile-activity\" aria-labelled-by=\"pills-activity-tab\" v-else>\n          <div class=\"col-sm-12\">\n            <iq-card class=\"iq-card\">\n              <div class=\"iq-card-body p-0\">\n                <div class=\"image-block text-center\">\n                  <img src=\"@/assets/images/stage2.png\" class=\"img-fluid rounded w-50\" alt=\"blog-img\">\n                </div>\n\n                <h4 class=\"text-center mt-3 mb-3\">\n                  التدرج في الصعود، سبيل الوصول إلى القمة. قم بالعودة لإتمام المرحلة الأولى قبل الشروع بتقديم المرحلة\n                  الثانية\n                </h4>\n              </div>\n            </iq-card>\n\n          </div>\n\n        </tab-content-item>\n        <!-- END STAGE TWO -->\n\n        <!-- START STATISTICS -->\n        <tab-content-item :active=\"false\" id=\"profile-friends\" aria-labelled-by=\"pills-friend-tab\"\n          v-if=\"statistics && status && (status == 'finished')\">\n          <iq-card>\n            <template v-slot:body>\n              <h2>احصائيات</h2>\n              <div class=\"col-12\">\n                <div class=\"card\">\n                  <div class=\"card-body\">\n                    <div class=\"mb-3\">\n                      <div class=\"d-flex justify-content-between mt-2 text-dark\">\n                        <h6>المعدل العام</h6>\n                        <small>{{statistics.final?statistics.final :0 }}%</small>\n                      </div>\n                      <b-progress\n                        class=\"shadow-none w-100 mt-2\"\n                        style=\"height: 6px\"\n                      ></b-progress>\n                        <b-progress-bar\n                          :value=\"statistics.final ? statistics.final : 0\"\n                          variant=\"danger\"\n                        ></b-progress-bar>\n                    </div>\n                    <div class=\"mb-3\">\n                      <div class=\"d-flex justify-content-between mt-2 text-dark\">\n                        <h6>الأطروحات</h6>\n                        <small>{{statistics.thesises?statistics.thesises :0 }}%</small>\n                      </div>\n                      <b-progress class=\"shadow-none w-100 mt-2\" style=\"height: 6px\">\n                        <b-progress-bar :value=\"statistics.thesises ? tatistics.thesises : 0\" variant=\"info\">\n                        </b-progress-bar>\n                      </b-progress>\n                    </div>\n                    <div class=\"mb-3\">\n                      <div class=\"d-flex justify-content-between mt-2 text-dark\">\n                        <h6>التلخيص العام</h6>\n                        <small>{{statistics.general_informations?statistics.general_informations :0 }}%</small>\n                      </div>\n                      <b-progress class=\"shadow-none w-100 mt-2\" style=\"height: 6px\">\n                        <b-progress-bar :value=\"statistics.general_informations ? tatistics.general_informations : 0\"\n                          variant=\"primary\"></b-progress-bar>\n                      </b-progress>\n                    </div>\n                    <div class=\"mb-3\">\n                      <div class=\"d-flex justify-content-between mt-2 text-dark\">\n                        <h6>القراءة التفحصية</h6>\n                        <small>{{statistics.questions?statistics.questions :0 }}%</small>\n                      </div>\n                      <b-progress class=\"shadow-none w-100 mt-2\" style=\"height: 6px\">\n                        <b-progress-bar :value=\"statistics.questions ? tatistics.questions : 0\" variant=\"success\">\n                        </b-progress-bar>\n                      </b-progress>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </template>\n          </iq-card>\n          <div>\n          </div>\n        </tab-content-item>\n        <tab-content-item :active=\"false\" id=\"profile-friends\" aria-labelled-by=\"pills-friend-tab\" v-else>\n          <div class=\"col-sm-12\">\n            <iq-card class=\"iq-card\">\n              <div class=\"iq-card-body p-0\">\n                <div class=\"image-block text-center\">\n                  <img src=\"@/assets/images/statistics.png\" class=\"img-fluid rounded w-50\" alt=\"blog-img\">\n                </div>\n\n                <h4 class=\"text-center mt-3\">عنوان </h4>\n                <p class=\"text-center\">\n                  لوريم ايبسوم دولار سيت أميت ,كونسيكتيتور أدايبا يسكينج أليايت,سيت دو أيوسمود تيمبور\n                </p>\n              </div>\n            </iq-card>\n\n          </div>\n\n        </tab-content-item>\n        <!-- END STATISTICS -->\n\n        <!-- START EXPOTR CERTIFICATE -->\n        <tab-content-item :active=\"false\" id=\"profile-profile\" aria-labelled-by=\"pills-profile-tab\"\n          v-if=\"status && (status == 'finished')\">\n          <iq-card>\n            <template v-slot:body>\n              <div class=\"tab-content\">\n                <tab-content-item :active=\"true\" id=\"photo-you\" aria-labelled-by=\"pills-photo-you-tab\">\n                  <div class=\"row\">\n                    <div class=\"col-lg-12\">\n                      <div class=\"card card-block card-stretch card-height blog-list\">\n                        <div class=\"card-body\">\n                          <div class=\"row align-items-center\">\n                            <div class=\"col-md-6\">\n                              <div class=\"image-block\">\n                                <img src=\"@/assets/images/export-congrats.png\" class=\"img-fluid rounded w-100\"\n                                  alt=\"blog-img\" />\n                              </div>\n                            </div>\n                            <div class=\"col-md-6\">\n                              <div class=\"blog-description p-2\">\n                                <div class=\"blog-meta d-flex align-items-center justify-content-between mb-2\">\n                                  <div class=\"title\">\n                                    <h2>تهانينا</h2>\n                                  </div>\n                                </div>\n                                <p>\n                                  في أمة جاءها الأمر السماوي بضرورة القراءة، لا تسجل القراءة مكانًا لها في سلم الأولويات\n                                  عند شخوص الأمة. وللأسف فإن أولئك الذين يقرأون في هذه الأمة لا يمارسون القراءة كأسلوب\n                                  تعليمي كما يجب. لذلك نوجه لك التهنئة لأن وصولك لهذه المرحلة تعني أنك استخدم وسائل\n                                  القراءة المتقدمة بالشكل الصحيح خلال قراءتك لهذا الكتاب وهذه خطوة مميزة لا يقوم بها سوى\n                                  (10٪) فقط من القراء، مبارك لك ما تعلمت، مبارك ما قدمت ودرست وبذلت، تستحق هذه الشهادة\n                                  ،نفع الله بك وعلمك\n                                </p>\n                              </div>\n                              <a href=\"javascript:void(0);\" class=\"btn btn-primary d-block mt-3\" style=\"color: white\">\n                                اصدار الشهادة\n                              </a>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </tab-content-item>\n                <tab-content-item :active=\"false\" id=\"your-photo\" aria-labelled-by=\"pills-your-photo-tab\">\n                </tab-content-item>\n              </div>\n            </template>\n          </iq-card>\n          <div>\n\n          </div>\n        </tab-content-item>\n        <tab-content-item :active=\"false\" id=\"profile-profile\" aria-labelled-by=\"pills-profile-tab\" v-else>\n          <div class=\"col-sm-12\">\n            <iq-card class=\"iq-card\">\n              <div class=\"iq-card-body p-0\">\n                <div class=\"image-block text-center\">\n                  <img src=\"@/assets/images/finished.png\" class=\"img-fluid rounded w-50\" alt=\"blog-img\">\n                </div>\n\n                <h4 class=\"text-center mt-3 mb-3\">\n                  انتظر تقييم المختصيين لقراءتك وليكن هذا حافزًا لك لتقرأ بشكل أفضل\n                </h4>\n              </div>\n            </iq-card>\n          </div>\n        </tab-content-item>\n        <!-- END EXPOTR CERTIFICATE -->\n      </div>\n    </div>\n    <div class=\"col-sm-12 d-flex justify-content-center\" v-else>\n      <div class=\"col-sm-12\">\n        <iq-card class=\"iq-card\">\n          <div class=\"iq-card-body p-0\">\n            <div class=\"image-block text-center\">\n              <img src=\"@/assets/images/start_new.png\" class=\"img-fluid rounded w-25 mt-3\" alt=\"blog-img\">\n            </div>\n\n            <h2 class=\"text-center mt-3 mb-3\">ملاحظة</h2>\n            <h4 class=\"text-center mt-3 mb-3\">\n              سعداء بأنك تستعد لصعود أولى درجات سلم المجد، من خلال طلبك لفتح طلب تقييم ل قراءتك لهذا الكتاب. لكن انتبه،\n              في\n              حال فتحك لطلب تقييم قراءتك ضمن هذا الكتاب فلن تكون قادرًا على طلب تقييم كتب إضافية إلا بعد انتهاء فريق\n              التقييم من مراجعة طلبك الحالي </h4>\n\n            <button @click=\"submit\" type=\"submit\" class=\"btn btn-primary d-block w-75  mx-auto mb-3 \"> بدء الانجاز\n            </button>\n\n          </div>\n        </iq-card>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Stage2 from './ProfileElements/Stage2'\nimport CreateThesis from '../../../components/Thesis/CreateThesis.vue'\nimport ThesisDisplay from '../../../components/Thesis/ThesisDisplay'\nimport bookServices from '../../../api/bookServices' \nimport thesisServices from '../../../api/thesisServices'\n\n\nexport default {\n  name: 'Profile',\n    created() {\n\n      this.getFinalStatistics();\n      this.getBook(); \n\n  },\n  emits: ['addThesis'],\n  components: {\n    CreateThesis,\n    ThesisDisplay,\n    Stage2\n  },\n  data() {\n    return {\n\n      book: null,\n      user_book: null,\n      user_book_info: [\n        {\n          title: 'الأطروحات',\n          value: 0\n        },\n        {\n          title: 'الأسئلة',\n          value: 0\n        },\n        {\n          title: 'الاقتباسات',\n          value: 0\n        }\n      ],  \n      status: \"\",\n      thesises: [],\n      statistics:null,\n      thesisLength: 0,\n      thesisTitle: \"الأطروحة رقم\"\n    }\n  },\n  methods: {\n    addThesis(thesis) {\nconsole.log('hi')\n      this.thesises.push(thesis);\n    },\n\n    async getBook() {\n     \n      const response = await bookServices.getUserBook(this.$route.params.id);\n  \n      if (response.book != null) {\n        this.book = response.book;\n        if (response.user_book != null) {\n          this.user_book = response.user_book;\n          this.status = this.user_book.status\n    \n          if (this.user_book.thesises != null) {\n            this.thesises = this.user_book.thesises\n            this.user_book_info[0].value = this.user_book.thesises.length\n            this.thesisLength = this.user_book.thesises.length\n        \n          }\n          this.user_book_info[1].value = this.user_book.questions.length\n          if (this.user_book.questions.quotation) {\n            this.user_book_info[2].value = this.user_book.questions.quotation.length\n\n          }\n\n        }\n      }\n      else {\n        this.status = \"404\"\n      }\n    },\n    \n    async auditThesisStatus() {\n      await thesisServices.auditThesis(this.$route.params.id)\n    },\n    async getFinalStatistics(){\n     const statistics = await bookServices.getStatistics(this.$route.params.id)\n    \n     this.statistics = statistics; \n    }\n\n\n  },\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}