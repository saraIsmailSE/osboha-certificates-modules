{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/someO/Desktop/vue/osboha-template/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport CreateThesis from \"../../../components/Thesis/CreateThesis.vue\";\nimport ThesisDisplay from \"../../../components/Thesis/ThesisDisplay\";\nimport bookServices from \"../../../api/bookServices\";\nimport thesisServices from \"../../../api/thesisServices\";\nexport default {\n  name: \"Profile\",\n  created: function created() {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  components: {\n    CreateThesis: CreateThesis,\n    ThesisDisplay: ThesisDisplay\n  },\n  data: function data() {\n    return {\n      already_have_one: 0,\n      auditable: false,\n      book: null,\n      user_book: null,\n      status: \"\",\n      thesises: [],\n      thesisLength: 0,\n      thesisTitle: \"الأطروحة رقم\",\n      error: \"\"\n    };\n  },\n  methods: {\n    addThesis: function addThesis(thesis) {\n      this.thesises.push(thesis);\n      this.thesisLength++;\n      this.user_book_info[0].value++;\n      this.auditable = true;\n    },\n    reviewThesisStatus: function reviewThesisStatus() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var swalWithBootstrapButtons;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                swalWithBootstrapButtons = _this.$swal.mixin({\n                  customClass: {\n                    confirmButton: \"btn btn-primary btn-lg\",\n                    cancelButton: \"btn btn-outline-primary btn-lg ms-2\"\n                  },\n                  buttonsStyling: false\n                });\n                swalWithBootstrapButtons.fire({\n                  title: \"هل أنت متأكد؟\",\n                  text: \"في حال طلبك للتدقيق لن يمكنك اضافة  أطروحة جديدة أو التعديل على الأطروحات التي كتبتها \",\n                  icon: \"warning\",\n                  showCancelButton: true,\n                  confirmButtonText: \"نعم قم بطلب تدقيق\",\n                  cancelButtonText: \"تراجع  \",\n                  showClass: {\n                    popup: \"animate__animated animate__zoomIn\"\n                  },\n                  hideClass: {\n                    popup: \"animate__animated animate__zoomOut\"\n                  }\n                }).then(function (willDelete) {\n                  if (willDelete.isConfirmed) {\n                    thesisServices.reviewThesis(_this.user_book.id).then(function (response) {\n                      swalWithBootstrapButtons.fire({\n                        title: \"تم الارسال\",\n                        text: \"تم ارسال طلبك للتدقيق\",\n                        icon: \"success\",\n                        showClass: {\n                          popup: \"animate__animated animate__zoomIn\"\n                        },\n                        hideClass: {\n                          popup: \"animate__animated animate__zoomOut\"\n                        }\n                      });\n                      location.reload();\n                    })[\"catch\"](function (error) {\n                      console.log(error);\n                    });\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    back: function back() {\n      this.$router.push({\n        path: \"/book\"\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;AA6HA,OAAOA,YAAP,MAAyB,6CAAzB;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AAEA,eAAe;EACXC,IAAI,EAAE,SADK;EAELC,OAFK,qBAEK;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACf,CAHU;EAIXC,UAAU,EAAE;IACRN,YAAY,EAAZA,YADQ;IAERC,aAAa,EAAbA;EAFQ,CAJD;EAQXM,IARW,kBAQJ;IACH,OAAO;MACHC,gBAAgB,EAAE,CADf;MAEHC,SAAS,EAAE,KAFR;MAGHC,IAAI,EAAE,IAHH;MAIHC,SAAS,EAAE,IAJR;MAKHC,MAAM,EAAE,EALL;MAMHC,QAAQ,EAAE,EANP;MAOHC,YAAY,EAAE,CAPX;MAQHC,WAAW,EAAE,cARV;MASHC,KAAK,EAAE;IATJ,CAAP;EAWH,CApBU;EAqBXC,OAAO,EAAE;IACLC,SADK,qBACKC,MADL,EACa;MACd,KAAKN,QAAL,CAAcO,IAAd,CAAmBD,MAAnB;MACA,KAAKL,YAAL;MACA,KAAKO,cAAL,CAAoB,CAApB,EAAuBC,KAAvB;MACA,KAAKb,SAAL,GAAiB,IAAjB;IACH,CANI;IAOCc,kBAPD,gCAOsB;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACjBC,wBADiB,GACU,KAAI,CAACC,KAAL,CAAWC,KAAX,CAAiB;kBAC9CC,WAAW,EAAE;oBACTC,aAAa,EAAE,wBADN;oBAETC,YAAY,EAAE;kBAFL,CADiC;kBAK9CC,cAAc,EAAE;gBAL8B,CAAjB,CADV;gBAQvBN,wBAAuB,CAClBO,IADL,CACU;kBACFC,KAAK,EAAE,eADL;kBAEFC,IAAI,EAAE,wFAFJ;kBAGFC,IAAI,EAAE,SAHJ;kBAIFC,gBAAgB,EAAE,IAJhB;kBAKFC,iBAAiB,EAAE,mBALjB;kBAMFC,gBAAgB,EAAE,SANhB;kBAOFC,SAAS,EAAE;oBACPC,KAAK,EAAE;kBADA,CAPT;kBAUFC,SAAS,EAAE;oBACPD,KAAK,EAAE;kBADA;gBAVT,CADV,EAeKE,IAfL,CAeU,UAACC,UAAD,EAAgB;kBAClB,IAAIA,UAAU,CAACC,WAAf,EAA4B;oBACxBxC,cAAa,CACRyC,YADL,CACkB,KAAI,CAACjC,SAAL,CAAekC,EADjC,EAEKJ,IAFL,CAEU,UAACK,QAAD,EAAc;sBAChBtB,wBAAwB,CAACO,IAAzB,CAA8B;wBAC1BC,KAAK,EAAE,YADmB;wBAE1BC,IAAI,EAAE,uBAFoB;wBAG1BC,IAAI,EAAE,SAHoB;wBAI1BI,SAAS,EAAE;0BACPC,KAAK,EAAE;wBADA,CAJe;wBAO1BC,SAAS,EAAE;0BACPD,KAAK,EAAE;wBADA;sBAPe,CAA9B;sBAYAQ,QAAQ,CAACC,MAAT;oBACH,CAhBL,WAiBW,UAAChC,KAAD,EAAW;sBACdiC,OAAO,CAACC,GAAR,CAAYlC,KAAZ;oBACH,CAnBL;kBAoBJ;gBACH,CAtCL;;cARuB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAgD1B,CAvDI;IAwDLmC,IAxDK,kBAwDE;MACH,KAAKC,OAAL,CAAahC,IAAb,CAAkB;QAAEiC,IAAI;MAAN,CAAlB;IACH;EA1DI;AArBE,CAAf","names":["CreateThesis","ThesisDisplay","bookServices","thesisServices","name","created","components","data","already_have_one","auditable","book","user_book","status","thesises","thesisLength","thesisTitle","error","methods","addThesis","thesis","push","user_book_info","value","reviewThesisStatus","swalWithBootstrapButtons","$swal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","showClass","popup","hideClass","then","willDelete","isConfirmed","reviewThesis","id","response","location","reload","console","log","back","$router","path"],"sourceRoot":"","sources":["C:\\Users\\someO\\Desktop\\vue\\osboha-template\\src\\views\\Achievement\\Theses.vue"],"sourcesContent":["<template>\r\n    <div class=\"row\">\r\n        <div class=\"col-sm-12\">\r\n            <iq-card>\r\n                <div class=\"iq-card-body profile-page p-0\">\r\n                    <div class=\"profile-header\">\r\n                        <div class=\"cover-container\">\r\n                            <img src=\"../../../assets/images/book-banner.png\" alt=\"profile-bg\"\r\n                                class=\"rounded img-fluid\" />\r\n                        </div>\r\n                        <div class=\"user-detail text-center mb-3\">\r\n                            <div class=\"profile-img\">\r\n                                <img src=\"../../../assets/images/reader.png\" alt=\"profile-img\"\r\n                                    class=\"avatar-130 img-fluid\" />\r\n                            </div>\r\n                            <div class=\"profile-detail mt-1\">\r\n                                <br />\r\n                                <h3 class=\"\" v-if=\"book\">{{ book.book_name }}</h3>\r\n                            </div>\r\n                        </div>\r\n                        <div\r\n                            class=\"profile-info p-4 d-flex align-items-center justify-content-between position-relative\">\r\n                            <div class=\"social-links\">\r\n                                <!-- RATING -->\r\n                            </div>\r\n                            <!-- USER BOOK INFO -->\r\n                            <div class=\"social-info\" v-if=\"user_book\">\r\n                                <ul\r\n                                    class=\"social-data-block d-flex align-items-center justify-content-between list-inline p-0 m-0\">\r\n                                    <li v-for=\"(info, index) in user_book_info\" :key=\"index\" class=\"text-center ps-3\">\r\n                                        <h6>{{ info.title }}</h6>\r\n                                        <p class=\"mb-0\">{{ info.value }}</p>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </iq-card>\r\n            <iq-card class=\"iq-card\" v-if=\"status\">\r\n                <div class=\"iq-card-body p-0\">\r\n                    <div class=\"user-tabing\">\r\n                        <tab-nav :pills=\"true\" id=\"pills-tab\"\r\n                            class=\"nav nav-pills d-flex align-items-center justify-content-center profile-feed-items p-0 m-0\">\r\n                            <tab-nav-items class=\"col-sm-3 p-0\" :active=\"true\" id=\"pills-feed-tab\" href=\"#profile-feed\"\r\n                                ariaControls=\"pills-home\" role=\"tab\" :ariaSelected=\"true\"\r\n                                title=\"المرحلة الأولى - الأطروحات\" />\r\n                        </tab-nav>\r\n                    </div>\r\n                </div>\r\n            </iq-card>\r\n        </div>\r\n        <div class=\"col-sm-12\" v-if=\"status\">\r\n            <div class=\"tab-content\">\r\n                <!-- START STAGE ONE -->\r\n                <tab-content-item :active=\"true\" id=\"profile-feed\" aria-labelled-by=\"pills-feed-tab\" v-if=\"\r\n                  status &&\r\n                  (status == 'stage_one' ||\r\n                    status == 'stage_two' ||\r\n                    status == 'finished')\r\n                \">\r\n                    <div class=\"iq-card-body p-0\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-4\">\r\n                                <iq-card v-if=\"status == 'finished'\">\r\n                                    <template v-slot:body>\r\n                                        <a href=\"#\"><span\r\n                                                class=\"badge badge-pill bg-primary font-weight-normal ms-auto me-1 material-symbols-outlined md-14\">grade</span>\r\n                                            المعدل العام</a>\r\n                                    </template>\r\n                                </iq-card>\r\n                                <iq-card>\r\n                                    <template v-slot:headerTitle>\r\n                                        <h4 class=\"card-title\">المرحلة الحالية</h4>\r\n                                    </template>\r\n                                    <template v-slot:headerAction>\r\n                                        <p class=\"m-0\" v-if=\"status == 'stage_one'\">\r\n                                            المرحلة الأولى\r\n                                        </p>\r\n                                        <p class=\"m-0\" v-else-if=\"status == 'satge_two'\">\r\n                                            المرحلة الثانية\r\n                                        </p>\r\n                                        <p class=\"m-0\" v-else>أتممت توثيق الانجاز</p>\r\n                                    </template>\r\n                                </iq-card>\r\n                                <iq-card v-if=\"book\">\r\n                                    <template v-slot:headerTitle>\r\n                                        <h4 class=\"card-title\">مستوى الكتاب</h4>\r\n                                    </template>\r\n                                    <template v-slot:headerAction>\r\n                                        <p class=\"m-0\">{{ book.type.name }}</p>\r\n                                    </template>\r\n                                </iq-card>\r\n\r\n                                <iq-card v-if=\"thesisLength >= 8 && auditable && status == 'stage_one'\">\r\n                                    <template v-slot:body>\r\n                                        <button class=\"btn btn-primary d-block w-100\" @click=\"reviewThesisStatus\">\r\n                                            طلب تدقيق\r\n                                        </button>\r\n                                    </template>\r\n                                </iq-card>\r\n                            </div>\r\n                            <div class=\"col-lg-8\">\r\n                                <div id=\"post-modal-data\" class=\"iq-card\">\r\n                                    <CreateThesis @add-thesis=\"addThesis\" :book=\"book\" :noOfthesis=\"thesisLength\"\r\n                                        :user_book=\"user_book\" v-if=\"\r\n                                          (thesisLength < 12 &&\r\n                                            status === 'stage_one' &&\r\n                                            auditable) ||\r\n                                          thesisLength == 0\r\n                                        \" />\r\n                                </div>\r\n                                <div v-for=\"(thesis, index) in thesises\" :key=\"index\">\r\n                                    <ThesisDisplay :thesis=\"thesis\" :number=\"index\" :title=\"thesisTitle\" :book=\"book\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </tab-content-item>\r\n                <!-- END STAGE ONE -->\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template >\r\n<script>\r\nimport CreateThesis from \"../../../components/Thesis/CreateThesis.vue\";\r\nimport ThesisDisplay from \"../../../components/Thesis/ThesisDisplay\";\r\nimport bookServices from \"../../../api/bookServices\";\r\nimport thesisServices from \"../../../api/thesisServices\";\r\n\r\nexport default {\r\n    name: \"Profile\",\r\n    async created() {\r\n    },\r\n    components: {\r\n        CreateThesis,\r\n        ThesisDisplay,\r\n    },\r\n    data() {\r\n        return {\r\n            already_have_one: 0,\r\n            auditable: false,\r\n            book: null,\r\n            user_book: null,\r\n            status: \"\",\r\n            thesises: [],\r\n            thesisLength: 0,\r\n            thesisTitle: \"الأطروحة رقم\",\r\n            error: \"\",\r\n        };\r\n    },\r\n    methods: {\r\n        addThesis(thesis) {\r\n            this.thesises.push(thesis);\r\n            this.thesisLength++;\r\n            this.user_book_info[0].value++;\r\n            this.auditable = true;\r\n        },\r\n        async reviewThesisStatus() {\r\n            const swalWithBootstrapButtons = this.$swal.mixin({\r\n                customClass: {\r\n                    confirmButton: \"btn btn-primary btn-lg\",\r\n                    cancelButton: \"btn btn-outline-primary btn-lg ms-2\",\r\n                },\r\n                buttonsStyling: false,\r\n            });\r\n            swalWithBootstrapButtons\r\n                .fire({\r\n                    title: \"هل أنت متأكد؟\",\r\n                    text: \"في حال طلبك للتدقيق لن يمكنك اضافة  أطروحة جديدة أو التعديل على الأطروحات التي كتبتها \",\r\n                    icon: \"warning\",\r\n                    showCancelButton: true,\r\n                    confirmButtonText: \"نعم قم بطلب تدقيق\",\r\n                    cancelButtonText: \"تراجع  \",\r\n                    showClass: {\r\n                        popup: \"animate__animated animate__zoomIn\",\r\n                    },\r\n                    hideClass: {\r\n                        popup: \"animate__animated animate__zoomOut\",\r\n                    },\r\n                })\r\n                .then((willDelete) => {\r\n                    if (willDelete.isConfirmed) {\r\n                        thesisServices\r\n                            .reviewThesis(this.user_book.id)\r\n                            .then((response) => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: \"تم الارسال\",\r\n                                    text: \"تم ارسال طلبك للتدقيق\",\r\n                                    icon: \"success\",\r\n                                    showClass: {\r\n                                        popup: \"animate__animated animate__zoomIn\",\r\n                                    },\r\n                                    hideClass: {\r\n                                        popup: \"animate__animated animate__zoomOut\",\r\n                                    },\r\n\r\n                                });\r\n                                location.reload()\r\n                            })\r\n                            .catch((error) => {\r\n                                console.log(error);\r\n                            });\r\n                    }\r\n                });\r\n\r\n        },\r\n        back() {\r\n            this.$router.push({ path: `/book` });\r\n        },\r\n    },\r\n};\r\n</script>\r\n  "]},"metadata":{},"sourceType":"module"}